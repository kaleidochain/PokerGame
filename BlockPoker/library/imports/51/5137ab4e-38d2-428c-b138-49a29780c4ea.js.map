{"version":3,"sources":["assets/scripts/components/GameRequestMgr.js"],"names":["Log","require","cc","Class","Component","properties","gameRequestPrefab","Prefab","_menuLayer","Node","_waitingLayer","_applyMsgTipsLayer","_gameRequestMgrLayer","_clubLayer","_buyinRequests","_noBuyinRequests","_waitingSecs","Label","_pendingChecked","_pendingUnchecked","_gameRequestContent","onLoad","dgame","find","_rechargeLayer","getComponent","utils","addClickEvent","node","gameRequestMgr","schedule","startCheckGameRequest","roomEventMgr","handleNewApprove","_handleNewApprove","bind","_clubRequestTipsActive","_pendingRequests","handleCountDownTimeout","data","Trace","JSON","stringify","masterClubIDs","Array","push","ClubID","_getGameRequest","_onMyClubs","normalLoading","showLoadTimeout","length","i","Dissolved","settings","account","Addr","OwnerAddr","net","gameCall","showWaitingTips","active","_countDown","string","_waitingCountDown","hideWaitingTips","unschedule","_onSelfLeave","_onGameRequest","_joinTableList","count","tableId","_updateJoinList","_onApprovedList","_approvedList","jointablelist_cmd","onBtnApplyMsgTipsClicked","clubRequestMgr","isTipsActive","hideTips","_everApproveOrDeny","removeAllChildren","now","Math","floor","Date","getTime","deleteList","addr","Debug","splice","gameRequest","instantiate","init","addChild","BuyinNum","getChildren","_updateApprovedList","approvedList","sort","a","b","Index","TableId","gameResult","Sender","Result","_onApprove","approve","approve_cmd","Approved","filter","v","_onDeny","deny","deny_cmd","onBtnCloseGameRequestMgrClicked","showTips","onBtnGameRequestPendingClicked","start","onDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["var Log = require(\"Log\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        gameRequestPrefab: cc.Prefab,\n        _menuLayer: cc.Node,\n        _waitingLayer: cc.Node,\n        _applyMsgTipsLayer: cc.Node,\n        _gameRequestMgrLayer: cc.Node,\n        _clubLayer: cc.Node,\n        _buyinRequests: cc.Node,\n        _noBuyinRequests: cc.Node,\n        _waitingSecs: cc.Label,\n        _pendingChecked: cc.Node,\n        _pendingUnchecked: cc.Node,\n        _gameRequestContent: cc.Node,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        if (!cc.dgame) {\n            return;\n        }\n        this._menuLayer = cc.find(\"Canvas/MenuLayer\");\n        this._rechargeLayer = cc.find(\"Canvas/RechargeLayer\");\n        this._clubLayer = cc.find(\"Canvas/ClubLayer\");\n        this._waitingLayer = cc.find(\"Canvas/GameRequestMgr/waiting_tips\");\n        this._applyMsgTipsLayer = cc.find(\"Canvas/GameRequestMgr/bg_play_apply_msg\");\n        this._gameRequestMgrLayer = cc.find(\"Canvas/GameRequestMgr/GameRequests\");\n        this._buyinRequests = cc.find(\"Canvas/GameRequestMgr/GameRequests/BuyinReqeusts\");\n        this._noBuyinRequests = cc.find(\"Canvas/GameRequestMgr/GameRequests/NoBuyinRequests\");\n        this._waitingSecs = cc.find(\"Canvas/GameRequestMgr/waiting_tips/waiting_tips/layout/secNum\").getComponent(cc.Label);\n        this._pendingChecked = cc.find(\"Canvas/GameRequestMgr/GameRequests/btnPending/bg_play_apply_checked\");\n        this._pendingUnchecked = cc.find(\"Canvas/GameRequestMgr/GameRequests/btnPending/bg_play_apply_unchecked\");\n        this._gameRequestContent = cc.find(\"Canvas/GameRequestMgr/GameRequests/BuyinReqeusts/scrollview/view/content\");\n        cc.dgame.utils.addClickEvent(cc.find(\"btnBack\", this._gameRequestMgrLayer), this.node, \"GameRequestMgr\", \"onBtnCloseGameRequestMgrClicked\");\n        cc.dgame.utils.addClickEvent(cc.find(\"btnPending\", this._gameRequestMgrLayer), this.node, \"GameRequestMgr\", \"onBtnGameRequestPendingClicked\");\n        cc.dgame.utils.addClickEvent(this._applyMsgTipsLayer, this.node, \"GameRequestMgr\", \"onBtnApplyMsgTipsClicked\");\n        cc.dgame.gameRequestMgr = this;\n        this.schedule(this.startCheckGameRequest, 60);\n        cc.dgame.roomEventMgr.handleNewApprove = this._handleNewApprove.bind(this);\n        this._clubRequestTipsActive = false;\n        this._pendingRequests = {};\n        this.handleCountDownTimeout = null;\n        //this._pendingList = {}; //tableid_addr为key，处理时间戳为值，当前时间比记录时间超过5秒可以删除\n    },\n\n    _handleNewApprove (data) {\n        Log.Trace(\"[_handleNewApprove] \" + JSON.stringify(data));\n        let masterClubIDs = new Array();\n        masterClubIDs.push(data.ClubID);\n        this._getGameRequest(masterClubIDs);\n    },\n\n    _onMyClubs (data) {\n        Log.Trace(\"[GameRequestMgr:_onMyClubs] \" + JSON.stringify(data));\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        let masterClubIDs = new Array();\n        if (!data || !data.length) {\n        } else {\n            for (let i = 0; i < data.length; i++) {\n                if (!data[i].Dissolved) {\n                    //没解散的俱乐部显示在列表中\n                    if (cc.dgame.settings.account.Addr == data[i].OwnerAddr) {\n                        masterClubIDs.push(data[i].ClubID);\n                    }\n                }\n            }\n        }\n        Log.Trace(\"[GameRequestMgr:_onMyClubs] masterClubID: \" + JSON.stringify(masterClubIDs));\n        //监听我是群主的俱乐部ID的买入申请\n        cc.dgame.net.gameCall([\"gameRequest\", JSON.stringify(masterClubIDs)]);\n        this._getGameRequest(masterClubIDs);\n    },\n\n    showWaitingTips () {\n        this._waitingLayer.active = true;\n        this._countDown = 180;\n        this._waitingSecs.string = this._countDown;\n        this.schedule(this._waitingCountDown, 1);\n    },\n\n    hideWaitingTips () {\n        this.unschedule(this._waitingCountDown);\n        this._waitingLayer.active = false;\n    },\n\n    _onSelfLeave (data) {\n        Log.Trace(\"[_onSelfLeave] data: \" + JSON.stringify(data));\n    },\n\n    _waitingCountDown () {\n        this._countDown = this._countDown - 1;\n        if (this._countDown < 0) {\n            this.unschedule(this._waitingCountDown);\n            this._waitingLayer.active = false;\n            if (this.handleCountDownTimeout != null) {\n                this.handleCountDownTimeout();\n            }\n            return;\n        }\n        this._waitingSecs.string = this._countDown;\n    },\n\n    startCheckGameRequest () {\n        //不能放到onLoad，GameHall才初始化cc.dgame.net，在onLoad调用会没有响应\n        cc.dgame.net.gameCall([\"myClubs\", \"\"], this._onMyClubs.bind(this));\n    },\n\n    _onGameRequest (data) {\n        Log.Trace('[_onGameRequest] ' + JSON.stringify(data));\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        this._joinTableList = data;\n        let count = 0;\n        for (let tableId in this._joinTableList) {\n            if (!!this._joinTableList[tableId][\"JoinList\"] && !!this._joinTableList[tableId][\"JoinList\"].length) {\n                count += this._joinTableList[tableId][\"JoinList\"].length;\n            }\n        }\n        if (count > 0) {\n            if (this._applyMsgTipsLayer.active == false && this._gameRequestMgrLayer.active == false) {\n                this._applyMsgTipsLayer.active = true;\n            }\n            if (this._gameRequestMgrLayer.active) {\n                this._updateJoinList();\n            }\n        } else {\n            this._applyMsgTipsLayer.active = false;\n        }\n    },\n\n    _onApprovedList (data) {\n        Log.Trace('[_onApprovedList] ' + JSON.stringify(data));\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        this._approvedList = data;\n    },\n\n    _getGameRequest (masterClubIDs) {\n        Log.Trace(\"onGameRequestTimer\");\n        for (let i = 0; i < masterClubIDs.length; i++) {\n            var jointablelist_cmd = {\n                ClubID: masterClubIDs[i],\n            }\n            cc.dgame.net.gameCall([\"joinTableList\", JSON.stringify(jointablelist_cmd)], this._onGameRequest.bind(this));\n            cc.dgame.net.gameCall([\"approvedList\", JSON.stringify(jointablelist_cmd)], this._onApprovedList.bind(this));\n        }\n    },\n\n    onBtnApplyMsgTipsClicked () {\n        this._clubRequestTipsActive = !!cc.dgame.clubRequestMgr && cc.dgame.clubRequestMgr.isTipsActive();\n        if (this._clubRequestTipsActive) {\n            cc.dgame.clubRequestMgr.hideTips();\n        }\n        this._applyMsgTipsLayer.active = false;\n        this._gameRequestMgrLayer.active = true;\n        this._everApproveOrDeny = false;\n        if (!!this._menuLayer) {\n            this._menuLayer.active = false;\n        }\n        if (!!this._rechargeLayer) {\n            this._rechargeLayer.active = false;\n        }\n        if (!!this._clubLayer) {\n            this._clubLayer.active = false;\n        }\n        this._updateJoinList();\n    },\n\n    _updateJoinList () {\n        this._gameRequestContent.removeAllChildren();\n        let now = Math.floor(new Date().getTime() / 1000);\n        Log.Trace(\"_updateJoinList: \" + JSON.stringify(this._joinTableList) + \", _pendingRequests: \" + JSON.stringify(this._pendingRequests) + \", now: \" + now);\n        let deleteList = new Array();\n        for (let addr in this._pendingRequests) {\n            if (now - this._pendingRequests[addr] > 5) {\n                deleteList.push(addr);\n            } else {\n                Log.Debug(\"_updateJoinList, pendingRequest: \" + addr + \" \" + (now - this._pendingRequests[addr]) + \"s ago\");\n            }\n        }\n        for (let i = 0; i < deleteList.length; i++) {\n            delete this._pendingRequests[deleteList[i]];\n        }\n        Log.Trace(\"_pendingRequests: \" + JSON.stringify(this._pendingRequests));\n        for (let tableId in this._joinTableList) {\n            for (var i = 0; i < this._joinTableList[tableId][\"JoinList\"].length; i++) {\n                if (!!this._pendingRequests[this._joinTableList[tableId][\"JoinList\"][i].Addr]) {\n                    this._joinTableList[tableId][\"JoinList\"].splice(i, 1); // 将使后面的元素依次前移，数组长度减1\n                    i--; // 如果不减，将漏掉一个元素\n                }\n            }\n            if (this._joinTableList[tableId][\"JoinList\"].length == 0) {\n                delete this._joinTableList[tableId];\n            }\n        }\n        Log.Trace(\"_updateJoinList: \" + JSON.stringify(this._joinTableList));\n        for (let tableId in this._joinTableList) {\n            if (this._joinTableList[tableId][\"JoinList\"].length > 0) {\n                let gameRequest = cc.instantiate(this.gameRequestPrefab);\n                gameRequest.getComponent(\"GameRequestItem\").init({\"Type\": \"TableInfo\", \"TableId\": tableId, \"CreatorAddr\": this._joinTableList[tableId][\"CreatorAddr\"]});\n                this._gameRequestContent.addChild(gameRequest);\n                for (let i = 0; i < this._joinTableList[tableId][\"JoinList\"].length; i++) {\n                    let gameRequest = cc.instantiate(this.gameRequestPrefab);\n                    gameRequest.getComponent(\"GameRequestItem\").init({\"Type\": \"Request\", \"Addr\": this._joinTableList[tableId][\"JoinList\"][i].Addr, \"BuyinNum\": this._joinTableList[tableId][\"JoinList\"][i].BuyinNum});\n                    this._gameRequestContent.addChild(gameRequest);\n                }\n            }\n        }\n        if (this._gameRequestContent.getChildren().length == 0) {\n            this._buyinRequests.active = false;\n            this._noBuyinRequests.active = true;\n        } else {\n            this._buyinRequests.active = true;\n            this._noBuyinRequests.active = false;\n        }\n    },\n    \n    _updateApprovedList () {\n        this._buyinRequests.active = true;\n        this._noBuyinRequests.active = false;\n        this._gameRequestContent.removeAllChildren();\n        let approvedList = new Array();\n        for (let tableId in this._approvedList) {\n            approvedList.push({\"TableId\": tableId, \"Index\": this._approvedList[tableId][\"Index\"]});\n        }\n        approvedList.sort(function (a, b) {return a.Index - b.Index});\n        Log.Trace(\"sorted approvedList: \" + JSON.stringify(approvedList));\n        for (let i = 0; i < approvedList.length; i++) {\n            let tableId = approvedList[i].TableId;\n            if (this._approvedList[tableId][\"ApprovedList\"].length > 0) {\n                let gameResult = cc.instantiate(this.gameRequestPrefab);\n                gameResult.getComponent(\"GameRequestItem\").init({\"Type\": \"TableInfo\", \"TableId\": tableId, \"CreatorAddr\": this._approvedList[tableId][\"CreatorAddr\"]});\n                this._gameRequestContent.addChild(gameResult);\n                for (let i = 0; i < this._approvedList[tableId][\"ApprovedList\"].length; i++) {\n                    let gameResult = cc.instantiate(this.gameRequestPrefab);\n                    gameResult.getComponent(\"GameRequestItem\").init({\"Type\": \"Result\", \n                        \"Addr\": this._approvedList[tableId][\"ApprovedList\"][i].Addr, \n                        \"BuyinNum\": this._approvedList[tableId][\"ApprovedList\"][i].BuyinNum,\n                        \"Sender\": this._approvedList[tableId][\"ApprovedList\"][i].Sender,\n                        \"Result\": this._approvedList[tableId][\"ApprovedList\"][i].Result,\n                    });\n                    this._gameRequestContent.addChild(gameResult);\n                }\n            }\n        }\n    },\n\n    _onApprove (data) {\n    },\n\n    approve (addr) {\n        this._everApproveOrDeny = true;\n        this._pendingRequests[addr] = Math.floor(new Date().getTime() / 1000);\n        var approve_cmd = {\n            Addr: addr,\n            Approved: 1,\n        }\n        cc.dgame.net.gameCall([\"joinApprove\", JSON.stringify(approve_cmd)], this._onApprove.bind(this));\n        for (let tableId in this._joinTableList) {\n            this._joinTableList[tableId][\"JoinList\"] = this._joinTableList[tableId][\"JoinList\"].filter(function (v) {\n                return v.Addr != addr;\n            });\n            if (this._joinTableList[tableId][\"JoinList\"].length == 0) {\n                delete this._joinTableList[tableId];\n            }\n        }\n        this._updateJoinList();\n    },\n\n    _onDeny (data) {\n    },\n\n    deny (addr) {\n        this._everApproveOrDeny = true;\n        this._pendingRequests[addr] = Math.floor(new Date().getTime() / 1000);\n        var deny_cmd = {\n            Addr: addr,\n            Approved: 0,\n        }\n        cc.dgame.net.gameCall([\"joinApprove\", JSON.stringify(deny_cmd)], this._onDeny.bind(this));\n        for (let tableId in this._joinTableList) {\n            this._joinTableList[tableId][\"JoinList\"] = this._joinTableList[tableId][\"JoinList\"].filter(function (v) {\n                return v.Addr != addr;\n            });\n            if (this._joinTableList[tableId][\"JoinList\"].length == 0) {\n                delete this._joinTableList[tableId];\n            }\n        }\n        this._updateJoinList();\n    },\n\n    onBtnCloseGameRequestMgrClicked () {\n        this._gameRequestMgrLayer.active = false;\n        //GameTable的MenuLayer覆盖在GameRequestMgr之上所以进入时要隐藏，退出时恢复\n        if (!!this._menuLayer) {\n            this._menuLayer.active = true;\n        }\n        //GameHall、ClubHall的RechargeLayer覆盖在GameRequestMgr之上所以进入时要隐藏，退出时恢复\n        if (!!this._rechargeLayer) {\n            this._rechargeLayer.active = true;\n        }\n        //ClubHall的ClubLayer覆盖在GameRequestMgr之上所以进入时要隐藏，退出时恢复\n        if (!!this._clubLayer) {\n            this._clubLayer.active = true;\n        }\n        //返回时再查一遍，没有拒绝和批准的仍然留有Tips按钮\n        if (this._everApproveOrDeny == false) {\n            cc.dgame.net.gameCall([\"myClubs\", \"\"], this._onMyClubs.bind(this));\n        }\n        if (this._clubRequestTipsActive) {\n            cc.dgame.clubRequestMgr.showTips();\n        }\n    },\n\n    onBtnGameRequestPendingClicked () {\n        if (this._pendingChecked.active) {\n            this._pendingChecked.active = false;\n            this._pendingUnchecked.active = true;\n            this._updateApprovedList();\n        } else {\n            this._pendingChecked.active = true;\n            this._pendingUnchecked.active = false;\n            this._updateJoinList();\n        }\n    },\n\n    start () {\n\n    },\n\n    onDestroy () {\n        this.unschedule(this.startCheckGameRequest);\n        if (!!cc.dgame) {\n            cc.dgame.gameRequestMgr = null;\n        }\n    }\n    // update (dt) {},\n});\n"]}