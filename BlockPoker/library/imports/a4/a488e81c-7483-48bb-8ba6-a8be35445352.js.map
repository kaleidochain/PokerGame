{"version":3,"sources":["assets/scripts/components/RechargePopup.js"],"names":["Log","require","cc","Class","Component","properties","_rechargePopup","Node","_rechargeToggles","Toggle","_rechargeBackgrounds","_rechargeContents","_editboxKALNum","EditBox","_exchangeChipsNum","Label","_editboxChipsNum","_exchangeKALNum","_editboxWithdrawChipsAddr","_editboxWithdrawKALNum","_editboxWithdrawKALAddr","_editboxHandselChipsNum","_editboxHandselChipsAddr","_confirmPopup","_confirmTitle","RichText","_confirmAddr","onLoad","dgame","rechargePopup","Trace","find","push","getComponent","utils","addToggleClickEvent","node","addClickEvent","addTextChangedEvent","string","settings","account","KAL","Math","floor","exchangeRate","Addr","Chips","start","_updateData","RefreshData","_showRechargePopup","rechargeType","length","active","isChecked","check","_onSelectRecharge","index","i","onRechargeTypeClicked","toggle","indexOf","onBtnCloseClicked","onBtnShowExchangeChipsClicked","onBtnShowDepositKALClicked","onBtnShowHandselClicked","_onExchangeGoldcoin","data","_scheduleRefreshBalance","onBtnExchangeChipsClicked","parseFloat","tips","showTips","exchangeGold_cmd","Value","numberToString","parseInt","net","gameCall","JSON","stringify","bind","onBtnCopyAccountAddrClicked","clipboard","copyToClipboard","onKALNumTextChanged","isNaN","onChipsNumTextChanged","toFixed","onBtnWithdrawChipsClicked","_confirmType","formatRichText","onBtnWithdrawKALClicked","onBtnHandselChipsClicked","onLinkHistoryClicked","sys","isNative","isMobile","os","OS_IOS","jsb","reflection","callStaticMethod","OS_ANDROID","OS_WINDOWS","OS_OSX","openURL","onLinkDigifinexClicked","onBtnConfirm","_doWithdrawChips","_doWithdrawKAL","_doHandselChips","onBtnCancel","_onExchangeKal","exchangeKAL_cmd","toLowerCase","transfer_cmd","Address","_onKalTransaction","_onGoldTransaction","scheduleOnce","refresh","refreshChips","refreshKAL","onDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["var Log = require(\"Log\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _rechargePopup: cc.Node,\n        _rechargeToggles: [cc.Toggle],\n        _rechargeBackgrounds: [cc.Node],\n        _rechargeContents: [cc.Node],\n        _editboxKALNum: cc.EditBox,\n        _exchangeChipsNum: cc.Label,\n        _editboxChipsNum: cc.EditBox,\n        _exchangeKALNum: cc.Label,\n        _editboxWithdrawChipsAddr: cc.EditBox,\n        _editboxWithdrawKALNum: cc.EditBox,\n        _editboxWithdrawKALAddr: cc.EditBox,\n        _editboxHandselChipsNum: cc.EditBox,\n        _editboxHandselChipsAddr: cc.EditBox,\n        _confirmPopup: cc.Node,\n        _confirmTitle: cc.RichText,\n        _confirmAddr: cc.Label,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        if (!cc.dgame) {\n            return;\n        }\n        if (cc.dgame.rechargePopup) {\n            Log.Trace(\"rechargePopup existed\")\n            return;\n        }\n\n        this._rechargePopup = cc.find(\"Canvas/RechargePopup\");\n        this._rechargeToggles.push(cc.find(\"bg_recharge/toggleContainer/ExchangeChips\", this._rechargePopup).getComponent(cc.Toggle));\n        this._rechargeToggles.push(cc.find(\"bg_recharge/toggleContainer/DepositKAL\", this._rechargePopup).getComponent(cc.Toggle));\n        this._rechargeToggles.push(cc.find(\"bg_recharge/toggleContainer/WithdrawChips\", this._rechargePopup).getComponent(cc.Toggle));\n        this._rechargeToggles.push(cc.find(\"bg_recharge/toggleContainer/WithdrawKAL\", this._rechargePopup).getComponent(cc.Toggle));\n        this._rechargeToggles.push(cc.find(\"bg_recharge/toggleContainer/HandselChips\", this._rechargePopup).getComponent(cc.Toggle));\n        cc.dgame.utils.addToggleClickEvent(this._rechargeToggles[0], this.node, \"RechargePopup\", \"onRechargeTypeClicked\");\n        cc.dgame.utils.addToggleClickEvent(this._rechargeToggles[1], this.node, \"RechargePopup\", \"onRechargeTypeClicked\");\n        cc.dgame.utils.addToggleClickEvent(this._rechargeToggles[2], this.node, \"RechargePopup\", \"onRechargeTypeClicked\");\n        cc.dgame.utils.addToggleClickEvent(this._rechargeToggles[3], this.node, \"RechargePopup\", \"onRechargeTypeClicked\");\n        cc.dgame.utils.addToggleClickEvent(this._rechargeToggles[4], this.node, \"RechargePopup\", \"onRechargeTypeClicked\");\n        this._rechargeBackgrounds.push(cc.find(\"bg_recharge/toggleContainer/ExchangeChips/Background\", this._rechargePopup));\n        this._rechargeBackgrounds.push(cc.find(\"bg_recharge/toggleContainer/DepositKAL/Background\", this._rechargePopup));\n        this._rechargeBackgrounds.push(cc.find(\"bg_recharge/toggleContainer/WithdrawChips/Background\", this._rechargePopup));\n        this._rechargeBackgrounds.push(cc.find(\"bg_recharge/toggleContainer/WithdrawKAL/Background\", this._rechargePopup));\n        this._rechargeBackgrounds.push(cc.find(\"bg_recharge/toggleContainer/HandselChips/Background\", this._rechargePopup));\n        this._rechargeContents.push(cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips\", this._rechargePopup));\n        this._rechargeContents.push(cc.find(\"bg_recharge/RechargeContentLayer/DepositKAL\", this._rechargePopup));\n        this._rechargeContents.push(cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips\", this._rechargePopup));\n        this._rechargeContents.push(cc.find(\"bg_recharge/RechargeContentLayer/WithdrawKAL\", this._rechargePopup));\n        this._rechargeContents.push(cc.find(\"bg_recharge/RechargeContentLayer/HandselChips\", this._rechargePopup));\n        this._editboxKALNum = cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/KALNum\", this._rechargePopup).getComponent(cc.EditBox);   //KAL转筹码输入KAL个数\n        this._exchangeChipsNum = cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/layoutChips/ChipsNum\", this._rechargePopup).getComponent(cc.Label);    //KAL转筹码KAL对应的筹码数\n        this._editboxChipsNum = cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/ChipsNum\", this._rechargePopup).getComponent(cc.EditBox);   //提取筹码输入筹码数\n        this._exchangeKALNum = cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/layoutKAL/KALNum\", this._rechargePopup).getComponent(cc.Label);  //提取筹码对应的KAL数\n        this._editboxWithdrawChipsAddr = cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/accountAddr\", this._rechargePopup).getComponent(cc.EditBox);   //提取筹码的账号地址\n        this._editboxWithdrawKALNum = cc.find(\"bg_recharge/RechargeContentLayer/WithdrawKAL/KALNum\", this._rechargePopup).getComponent(cc.EditBox); //提取KAL输入KAL个数\n        this._editboxWithdrawKALAddr = cc.find(\"bg_recharge/RechargeContentLayer/WithdrawKAL/accountAddr\", this._rechargePopup).getComponent(cc.EditBox);   //提取KAL的账号地址\n        this._editboxHandselChipsNum = cc.find(\"bg_recharge/RechargeContentLayer/HandselChips/ChipsNum\", this._rechargePopup).getComponent(cc.EditBox); //筹码转账输入筹码个数\n        this._editboxHandselChipsAddr = cc.find(\"bg_recharge/RechargeContentLayer/HandselChips/accountAddr\", this._rechargePopup).getComponent(cc.EditBox);   //筹码转账对方的账号地址\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/btn_close\", this._rechargePopup), this.node, \"RechargePopup\", \"onBtnCloseClicked\");   //关闭按钮\n        cc.dgame.utils.addClickEvent(cc.find(\"Canvas/RechargeLayer/ExchangeChips/btn_charge\"), this.node, \"RechargePopup\", \"onBtnShowExchangeChipsClicked\");    //筹码余额的加号按钮\n        cc.dgame.utils.addClickEvent(cc.find(\"Canvas/RechargeLayer/DepositKAL/btn_charge\"), this.node, \"RechargePopup\", \"onBtnShowDepositKALClicked\");  //KAL余额的加号按钮\n        this._confirmPopup = cc.find(\"ConfirmLayer\", this._rechargePopup);  //确认对话框\n        this._confirmTitle = cc.find(\"bg_confirm/title\", this._confirmPopup).getComponent(cc.RichText);\n        this._confirmAddr = cc.find(\"bg_confirm/bg_tips_content/accountAddr\", this._confirmPopup).getComponent(cc.Label);\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_confirm/btn_confirm\", this._confirmPopup), this.node, \"RechargePopup\", \"onBtnConfirm\");    //确认按钮响应\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_confirm/btn_cancel\", this._confirmPopup), this.node, \"RechargePopup\", \"onBtnCancel\");      //取消按钮响应\n        //ExchangeChips\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/btnExchangeChips\", this._rechargePopup), this.node, \"RechargePopup\", \"onBtnExchangeChipsClicked\"); //KAL转筹码Exchange按钮\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/btnDepositKAL\", this._rechargePopup), this.node, \"RechargePopup\", \"onBtnShowDepositKALClicked\");   //KAL转筹码DepositKAL按钮\n        cc.dgame.utils.addTextChangedEvent(this._editboxKALNum.node, this.node, \"RechargePopup\", \"onKALNumTextChanged\");\n        cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/layoutKALBalance/KALBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.KAL;    //KAL余额\n        cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/layout/exchangeChipsNum\", this._rechargePopup).getComponent(cc.Label).string = Math.floor(10 * cc.dgame.settings.exchangeRate);\n        cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/layout/exchangeUSDTNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.exchangeRate / 10;\n        //this._exchangeRate = 1.5;   //chips/KAL，15chips/10KAL\n        //DepositKAL\n        cc.find(\"bg_recharge/RechargeContentLayer/DepositKAL/bg_gameaddress/accountAddr\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.Addr;  //DepositKAL账号地址\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/DepositKAL/bg_copy\", this._rechargePopup), this.node, \"RechargePopup\", \"onBtnCopyAccountAddrClicked\");   //拷贝账号地址\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/DepositKAL/step1url\", this._rechargePopup), this.node, \"RechargePopup\", \"onLinkDigifinexClicked\");   //交易所链接\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/DepositKAL/step2url\", this._rechargePopup), this.node, \"RechargePopup\", \"onLinkDigifinexClicked\");   //交易所链接\n        //WithdrawChips\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/layoutChipsBalance/ChipsBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.Chips;    //Chips余额\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/layout/exchangeChipsNum\", this._rechargePopup).getComponent(cc.Label).string = Math.floor(10 * cc.dgame.settings.exchangeRate);\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/layout/exchangeUSDTNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.exchangeRate / 10;\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/btnWithdrawChips\", this._rechargePopup), this.node, \"RechargePopup\", \"onBtnWithdrawChipsClicked\"); //提取筹码Withdraw按钮\n        cc.dgame.utils.addTextChangedEvent(this._editboxChipsNum.node, this.node, \"RechargePopup\", \"onChipsNumTextChanged\");\n        //WithdrawKAL\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawKAL/layout/KALBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.KAL;    //KAL余额\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/WithdrawKAL/btnWithdrawKAL\", this._rechargePopup), this.node, \"RechargePopup\", \"onBtnWithdrawKALClicked\"); //提取KAL Withdraw按钮\n        //HandselChips\n        cc.find(\"bg_recharge/RechargeContentLayer/HandselChips/layout/ChipsBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.Chips;    //Chips余额\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/RechargeContentLayer/HandselChips/btnConfirm\", this._rechargePopup), this.node, \"RechargePopup\", \"onBtnHandselChipsClicked\"); //筹码转账 Confirm按钮\n\n        cc.dgame.utils.addClickEvent(cc.find(\"bg_recharge/History\", this._rechargePopup), this.node, \"RechargePopup\", \"onLinkHistoryClicked\");   //历史链接\n\n        cc.dgame.rechargePopup = this;\n    },\n\n    start () {\n\n    },\n\n    _updateData () {\n        //ExchangeChips\n        cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/layoutKALBalance/KALBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.KAL;    //KAL余额\n        cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/layout/exchangeChipsNum\", this._rechargePopup).getComponent(cc.Label).string = Math.floor(10 * cc.dgame.settings.exchangeRate);\n        cc.find(\"bg_recharge/RechargeContentLayer/ExchangeChips/layout/exchangeUSDTNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.exchangeRate / 10;\n        //DepositKAL\n        cc.find(\"bg_recharge/RechargeContentLayer/DepositKAL/bg_gameaddress/accountAddr\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.Addr;  //DepositKAL账号地址\n        //WithdrawChips\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/layoutChipsBalance/ChipsBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.Chips;    //Chips余额\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/layout/exchangeChipsNum\", this._rechargePopup).getComponent(cc.Label).string = Math.floor(10 * cc.dgame.settings.exchangeRate);\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawChips/layout/exchangeUSDTNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.exchangeRate / 10;\n        //WithdrawKAL\n        cc.find(\"bg_recharge/RechargeContentLayer/WithdrawKAL/layout/KALBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.KAL;    //KAL余额\n        Log.Trace(\"_updateData cc.dgame.settings.account.KAL: \" + cc.dgame.settings.account.KAL);\n        //HandselChips\n        cc.find(\"bg_recharge/RechargeContentLayer/HandselChips/layout/ChipsBalanceNum\", this._rechargePopup).getComponent(cc.Label).string = cc.dgame.settings.account.Chips;    //Chips余额\n        Log.Trace(\"_updateData cc.dgame.settings.account.Chips: \" + cc.dgame.settings.account.Chips);\n    },\n\n    RefreshData () {\n       this._updateData()\n    },\n\n    _showRechargePopup (rechargeType) {\n        if (rechargeType < 0 || rechargeType >= this._rechargeBackgrounds.length) {\n            return;\n        }\n\n        this._updateData();\n        this._rechargePopup.active = true;\n        if (!this._rechargeToggles[rechargeType].isChecked) {\n            this._rechargeToggles[rechargeType].check();\n        } else {\n            this._onSelectRecharge(rechargeType);\n        }\n    },\n\n    _onSelectRecharge (index) {\n        this._updateData();\n        for (let i = 0; i < this._rechargeBackgrounds.length; i++) {\n            if (index == i) {\n                this._rechargeBackgrounds[i].active = false;\n                this._rechargeContents[i].active = true;\n            } else {\n                this._rechargeBackgrounds[i].active = true;\n                this._rechargeContents[i].active = false;\n            }\n        }\n    },\n\n    onRechargeTypeClicked (toggle) {\n        var index = this._rechargeToggles.indexOf(toggle);\n        this._onSelectRecharge(index);\n    },\n\n    onBtnCloseClicked () {\n        this._rechargePopup.active = false;\n    },\n\n    onBtnShowExchangeChipsClicked () {\n        this._showRechargePopup(0);\n    },\n\n    onBtnShowDepositKALClicked () {\n        this._showRechargePopup(1);\n    },\n\n    onBtnShowHandselClicked () {\n        this._showRechargePopup(4);\n    },\n\n    _onExchangeGoldcoin (data) {\n        Log.Trace('[_onExchangeGoldcoin] ' + data);\n        this._scheduleRefreshBalance();\n    },\n\n    onBtnExchangeChipsClicked () {\n        if (parseFloat(this._editboxKALNum.string) > parseFloat(cc.dgame.settings.account.KAL)) {\n            cc.dgame.tips.showTips(\"Insufficient<br/>KAL\");\n            return;\n        }\n        //框里填的10KAL的整数倍，需要*10\n        let exchangeGold_cmd = {\n            Value: cc.dgame.utils.numberToString(parseInt(this._editboxKALNum.string)* 10 * 1e18),\n        }\n        cc.dgame.net.gameCall([\"exchangeGoldcoin\", JSON.stringify(exchangeGold_cmd)],this._onExchangeGoldcoin.bind(this))\n        cc.dgame.tips.showTips(\"Exchange<br/>Succeed\");\n    },\n\n    onBtnCopyAccountAddrClicked () {\n        cc.dgame.clipboard.copyToClipboard(cc.dgame.settings.account.Addr);\n        cc.dgame.tips.showTips(\"Copy<br/>Succeed\");\n    },\n\n    onKALNumTextChanged () {\n        if (this._editboxKALNum.string == \"\") {\n            this._editboxKALNum.string = \"0\";\n        }\n        if (!isNaN(parseInt(this._editboxKALNum.string))) {\n            if (this._editboxKALNum.string * 10 > cc.dgame.settings.account.KAL) {\n                this._editboxKALNum.string = Math.floor(cc.dgame.settings.account.KAL / 10);\n            }\n            this._editboxKALNum.string = parseInt(this._editboxKALNum.string) + \"\";\n            this._exchangeChipsNum.string = this._editboxKALNum.string * Math.floor(10 * cc.dgame.settings.exchangeRate);\n        }\n    },\n\n    onChipsNumTextChanged () {\n        if (this._editboxChipsNum.string == \"\") {\n            this._editboxChipsNum.string = \"0\";\n        }\n        if (!isNaN(parseInt(this._editboxChipsNum.string))) {\n            if (parseInt(this._editboxChipsNum.string) > parseInt(cc.dgame.settings.account.Chips)) {\n                this._editboxChipsNum.string = cc.dgame.settings.account.Chips;\n            }\n            this._editboxChipsNum.string = parseInt(this._editboxChipsNum.string) + \"\";\n            this._exchangeKALNum.string = (this._editboxChipsNum.string / cc.dgame.settings.exchangeRate).toFixed(2) + \"\";\n        }\n    },\n\n    onBtnWithdrawChipsClicked () {\n        if (parseFloat(this._editboxChipsNum.string) > parseFloat(cc.dgame.settings.account.Chips)) {\n            cc.dgame.tips.showTips(\"Insufficient<br/>Chips\");\n            return;\n        }\n        if (parseFloat(cc.dgame.settings.account.Chips) - parseFloat(this._editboxChipsNum.string) < 1) {\n            cc.dgame.tips.showTips(\"1 chip<br/>must be retained\");\n            return;\n        }\n        if (this._editboxWithdrawChipsAddr.string.length < 40 || this._editboxWithdrawChipsAddr.string.length > 42) {\n            cc.dgame.tips.showTips(\"Invalid<br/>Address\");\n            return;\n        }\n        this._confirmType = \"WithdrawChips\";\n        this._confirmPopup.active = true;\n        this._confirmTitle.string = cc.dgame.utils.formatRichText(\"Withdraw \" + this._editboxChipsNum.string + \" Chips to\", \"#AFC6DD\", true, false);\n        this._confirmAddr.string = this._editboxWithdrawChipsAddr.string;\n    },\n\n    onBtnWithdrawKALClicked () {\n        if (parseFloat(this._editboxWithdrawKALNum.string) > parseFloat(cc.dgame.settings.account.KAL)) {\n            cc.dgame.tips.showTips(\"Insufficient<br/>KAL\");\n            return;\n        }\n        if (this._editboxWithdrawKALAddr.string.length < 40 || this._editboxWithdrawKALAddr.string.length > 42) {\n            cc.dgame.tips.showTips(\"Invalid<br/>Address\");\n            return;\n        }\n        this._confirmType = \"WithdrawKAL\";\n        this._confirmPopup.active = true;\n        this._confirmTitle.string = cc.dgame.utils.formatRichText(\"Withdraw \" + this._editboxKALNum.string + \" KAL to\", \"#AFC6DD\", true, false);\n        this._confirmAddr.string = this._editboxWithdrawKALAddr.string;\n    },\n\n    onBtnHandselChipsClicked () {\n        if (parseFloat(this._editboxHandselChipsNum.string) > parseFloat(cc.dgame.settings.account.Chips)) {\n            cc.dgame.tips.showTips(\"Insufficient<br/>Chips\");\n            return;\n        }\n        if (parseFloat(cc.dgame.settings.account.Chips) - parseFloat(this._editboxHandselChipsNum.string) < 1) {\n            cc.dgame.tips.showTips(\"1 chip<br/>must be retained\");\n            return;\n        }\n        if (this._editboxHandselChipsAddr.string.length < 40 || this._editboxHandselChipsAddr.string.length > 42) {\n            cc.dgame.tips.showTips(\"Invalid<br/>Address\");\n            return;\n        }\n        this._confirmType = \"HandselChips\";\n        this._confirmPopup.active = true;\n        this._confirmTitle.string = cc.dgame.utils.formatRichText(\"Send \" + this._editboxChipsNum.string + \" Chips to\", \"#AFC6DD\", true, false);\n        this._confirmAddr.string = this._editboxHandselChipsAddr.string;\n    },\n\n    onLinkHistoryClicked () {\n        if (cc.sys.isNative) {\n            if (cc.sys.isMobile) {\n                if (cc.sys.os === cc.sys.OS_IOS) {\n                    jsb.reflection.callStaticMethod('NativeGengine', 'openURL:', \"http://kalscan.io/address/\" + cc.dgame.settings.account.Addr);\n                } else if (cc.sys.os === cc.sys.OS_ANDROID) {\n                    jsb.reflection.callStaticMethod('org/cocos2dx/javascript/AppActivity', 'openURL', '(Ljava/lang/String;)V', \"http://kalscan.io/address/\" + cc.dgame.settings.account.Addr);\n                }\n            } else if (cc.sys.os === cc.sys.OS_WINDOWS||cc.sys.os === cc.sys.OS_OSX) {\n                openURL(\"http://kalscan.io/address/\" + cc.dgame.settings.account.Addr);\n            }\n        }\n    },\n\n    onLinkDigifinexClicked () {\n        if (cc.sys.isNative) {\n            if (cc.sys.isMobile) {\n                if (cc.sys.os === cc.sys.OS_IOS) {\n                    jsb.reflection.callStaticMethod('NativeGengine', 'openURL:', \"https://www.digifinex.vip\");\n                } else if (cc.sys.os === cc.sys.OS_ANDROID) {\n                    jsb.reflection.callStaticMethod('org/cocos2dx/javascript/AppActivity', 'openURL', '(Ljava/lang/String;)V', \"https://www.digifinex.vip\");\n                }\n            } else if (cc.sys.os === cc.sys.OS_WINDOWS||cc.sys.os === cc.sys.OS_OSX) {\n                openURL(\"https://www.digifinex.vip\");\n            }\n        }\n    },\n\n    onBtnConfirm () {\n        if (this._confirmType == \"WithdrawChips\") {\n            this._doWithdrawChips();\n        } else if (this._confirmType == \"WithdrawKAL\") {\n            this._doWithdrawKAL();\n        } else if (this._confirmType == \"HandselChips\") {\n            this._doHandselChips();\n        }\n    },\n\n    onBtnCancel () {\n        this._confirmPopup.active = false;\n    },\n\n    _onExchangeKal (data) {\n        Log.Trace('[_onExchangeKal] ' + data);\n        this._scheduleRefreshBalance();\n    },\n\n    _doWithdrawChips () {\n        let exchangeKAL_cmd = {\n            Value: this._editboxChipsNum.string,\n        }\n        cc.dgame.net.gameCall([\"exchangeKal\", JSON.stringify(exchangeKAL_cmd)],this._onExchangeKal.bind(this))\n        if (this._editboxWithdrawChipsAddr.string.toLowerCase() != cc.dgame.settings.account.Addr.toLowerCase()) {\n            let transfer_cmd = {\n                Address: this._editboxWithdrawChipsAddr.string,\n                Value: cc.dgame.utils.numberToString(parseFloat(this._exchangeKALNum.string) * 1e18),\n            }\n            cc.dgame.net.gameCall([\"KalTransaction\", JSON.stringify(transfer_cmd)]);\n        }\n        cc.dgame.tips.showTips(\"Withdraw<br/>Succeed\");\n        this._confirmPopup.active = false;\n    },\n\n    _onKalTransaction (data) {\n        Log.Trace('[_onKalTransaction] ' + data);\n        this._scheduleRefreshBalance();\n    },\n\n    _doWithdrawKAL () {\n        let transfer_cmd = {\n            Address: this._editboxWithdrawKALAddr.string,\n            Value: cc.dgame.utils.numberToString(parseFloat(this._editboxWithdrawKALNum.string) * 1e18),\n        }\n        cc.dgame.net.gameCall([\"KalTransaction\", JSON.stringify(transfer_cmd)],this._onKalTransaction.bind(this));\n        cc.dgame.tips.showTips(\"Transaction<br/>Has been sent\");\n        this._confirmPopup.active = false;\n    },\n\n    _onGoldTransaction (data) {\n        Log.Trace('[_onGoldTransaction] ' + data);\n        this._scheduleRefreshBalance();\n    },\n\n    _doHandselChips () {\n        let transfer_cmd = {\n            Address: this._editboxHandselChipsAddr.string,\n            Value: cc.dgame.utils.numberToString(parseFloat(this._editboxHandselChipsNum.string)),\n        }\n        cc.dgame.net.gameCall([\"GoldTransaction\", JSON.stringify(transfer_cmd)],this._onGoldTransaction.bind(this));\n        cc.dgame.tips.showTips(\"Transaction<br/>Has been sent\");\n        this._confirmPopup.active = false;\n    },\n\n    _scheduleRefreshBalance () {\n        Log.Trace(\"_scheduleRefreshBalance\")\n        this.scheduleOnce(function () {\n            cc.dgame.refresh.refreshChips();\n            cc.dgame.refresh.refreshKAL();\n        }, 5);\n    },\n\n    onDestroy () {\n        if (!!cc.dgame) {\n            cc.dgame.rechargePopup = null;\n        }\n\n    },\n    // update (dt) {},\n});\n"]}