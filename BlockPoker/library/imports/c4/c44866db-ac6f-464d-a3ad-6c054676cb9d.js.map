{"version":3,"sources":["assets/scripts/Game/Player.js"],"names":["Types","require","PositionData","Log","cc","Class","Component","properties","pokerPrefab","Prefab","winlight","Node","allinHead","headLayer","headMask","headDisable","avator","Sprite","emptySeatLayer","countDownProgressBar","ProgressBar","autoCheckoutCountDownLayer","autoCheckoutCountDown","Label","nickName","RMTWinner","stackNum","RichText","seatNo","winlossCardtype","_winLoss","_cardType","firstCard","secondCard","dealHoleCards","holeCards","cardAnchors","operateLayer","opNodes","betLayer","betNum","replayBetLayer","replayBetNum","dealerMark","disconnectMark","actionTimeout","btnBackToPlay","btnResitDown","betChips","InsuranceLayer","onLoad","_assetMgr","find","getComponent","i","length","cardNode","instantiate","addChild","poker","init","setFaceUp","_haveWaiting","_revealHoleCard","value","_isTableStarted","Trace","onDestroy","initPlayerByTablePos","maxplayer","pos","setPosition","PlayerComponentPositions","OperateLayer","x","y","BetLayer","FirstCard","angle","degree","SecondCard","DealerMark","_winlossCardtype","WinlossLayer","Winloss","initReplayPlayerByTablePos","ReplayPlayerComponentPositions","start","sitUp","active","node","isEmpty","getPlayerAddr","_Addr","_onTabelDetail","data","JSON","stringify","dgame","normalLoading","showLoadTimeout","Result","settings","account","Addr","tableInfo","SmallBlind","Ante","WantSeatId","_ContractPos","BuyinGoldType","SITDOWN","NeedApprove","mainMenuPopup","onBtnBuyinChipsClicked","BuyinChips","onBtnBuyinChipsConfirmClicked","onClickSitdown","Chips","BuyinMin","TableId","parseInt","tips","showTips","TableProps","tabledetail_cmd","net","gameCall","bind","onClickBackToPlay","BACKTOPLAY","onBtnResitDownClicked","gametable","startCountDown","seconds","elapsedSecs","_countDownEnd","_countDownTotal","schedule","_countDownProc","stopCountDown","unschedule","_stopActionTimeout","_startActionTimeout","progress","initPlayerInfo","addr","nickname","status","string","hideAllActions","hideDisconnectMark","hideWinloss","hideRMTWinner","hideWinlight","hideDealCards","opacity","toString","utils","formatRichText","formatValue","hideBtnBackToPlay","hideBtnResitDown","idx","substr","isNaN","spriteFrame","heads","ContractStatus","SEATED","showAction","PlayerOP","STANDBY","READY","WAITING","OFFLINE","SHOWDOWNOFFLINE","FOLD","hideActions","STRADDLE","ALLIN","setTableStatus","op","noChips","BlindInfo","getStack","SmallBlindBet","TotalAnteBet","disable","setAllinHead","setStack","stack","parseFloat","hideStack","_setBetBackground","overflow","Overflow","NONE","setContentSize","Size","_forceUpdateRenderData","bgStack","width","setBet","bet","animate","curBet","Debug","chip","scale","audioMgr","playChipsToTable","src","getPosition","dst","runAction","sequence","delayTime","spawn","fadeTo","moveTo","callFunc","setReplayBet","getBet","chipsToPot","lastBet","potPos","convertToWorldSpaceAR","v2","_chipPlayerToDest","playerPayToInsurance","insurancePos","speed","destPos","dstv2","parent","convertToNodeSpaceAR","bchip","stopAllActions","scaleTo","endpos","winPot","_chipSrcToPlayer","insurancePayToPlayer","srcPos","srcv2","dstarr","Array","Math","random","push","abs","fadeIn","hideBet","getDealerMarkPos","setDealerMark","hideDealerMark","setDisconnectMark","setFreeRaise","hideFreeRaise","setWinloss","winloss","symbol","richtextWinloss","_showWinlossCardtype","_winloss","setCardType","cardtype","bgCardtype","richtextCardtype","hideCardType","Layout","updateLayout","cardtypepos","headpos","winlosspos","showRMTWinner","highlightHoleCards","genCards","genCardsPTArr","getCard","getChildren","indexOf","getCardPoint","enable","restoreHoleCards","hideAllinHead","showINSFlag","amount","bReplay","insNum","bgINS","SeatId","hideINSFlag","setWinlight","repeatForever","rotateBy","recoverDealCards","recoverDealCard","eulerAngles","z","dealCards","interval1","interval2","intervalarr","scheduleOnce","dealCard","dealCardsPlayerMyself","dstv2_1","dstv2_2","srcScale","dstScale","revealHoleCards","cardpoint1","cardpoint2","pointsArr","setCardPoint","flipCard","foldCards","srcv2_1","srcv2_2","srcAngle","srcarr","playFoldCard","foldCard","Button","interactable","showBtnBackToPlay","showBtnResitDown","startAutoCheckoutCountDown","_countAutoCheckoutDownProc","stopAutoCheckoutCountDown","onBtnExitClicked","blink"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\nvar Types = require(\"Types\");\nvar PositionData = require(\"PositionData\");\nvar Log = require(\"Log\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pokerPrefab: cc.Prefab, //牌预制资源\n        winlight: cc.Node,      //获胜后的光环\n        allinHead: cc.Node,     //Allin后的头像动画\n        headLayer: cc.Node,     //头像图层\n        headMask: cc.Node,      //头像蒙层\n        headDisable: cc.Node,   //禁用蒙层\n        avator: cc.Sprite,      //头像\n        emptySeatLayer: cc.Node,//空位\n        //countDownLayer: cc.Node,//操作倒计时图层\n        countDownProgressBar: cc.ProgressBar,   //倒计时进度条\n        //countDown: cc.Label,    //倒计时秒数，15s\n        autoCheckoutCountDownLayer: cc.Node,//自动结算离桌倒计时图层\n        autoCheckoutCountDown: cc.Label,    //倒计时秒数，180s\n        nickName: cc.Label,     //昵称\n        RMTWinner: cc.Node,     //多牌赢家提示\n        stackNum: cc.RichText,  //筹码数\n        seatNo: cc.Label,       //座位号，测试用\n        winlossCardtype: [cc.Node], //输赢金币数牌型\n        _winLoss: null,          //输赢金币数\n        _cardType: null,         //牌型\n        firstCard: cc.Node,     //第一张底牌最终效果，定位用，永不显示\n        secondCard: cc.Node,    //第二张底牌最终效果，定位用，永不显示\n        dealHoleCards: [cc.Node],//发的两张底牌最终位置效果，即firstCard、secondCard\n        holeCards: [cc.Node],   //摊牌阶段两张底牌最终位置效果，Allin或到摊牌阶段会翻转显示，即holeCard_1、holeCard_2\n        cardAnchors: [cc.Node], //两张能发牌、翻转、弃牌的底牌，自身玩家发完牌后在SelfHoleCard位置出现底牌并翻转，这两张牌消失\n        operateLayer: cc.Node,  //操作层\n        opNodes: [cc.Node],     //所有操作节点（暂离、等待中、跟注、看牌、下注、加注、全下、弃牌）\n        betLayer: cc.Node,      //下注筹码\n        betNum: cc.Label,       //下注筹码数\n        replayBetLayer: cc.Node,//牌局回放下注筹码\n        replayBetNum: cc.Label, //牌局回放下注筹码数\n        dealerMark: cc.Node,    //庄家位置，各入座的玩家顺时针方向轮庄\n        disconnectMark: cc.Node,//掉线图标\n        actionTimeout: cc.Node, //玩家行动超时\n        btnBackToPlay: cc.Node, //返回牌桌\n        btnResitDown: cc.Node,  //重新坐下\n        betChips: [cc.Node],    //下注动画的筹码\n        InsuranceLayer: cc.Node,//已买保险标志\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this._assetMgr = cc.find(\"AssetMgr\").getComponent(\"AssetMgr\");\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let cardNode = cc.instantiate(this.pokerPrefab);\n            this.cardAnchors[i].addChild(cardNode);\n            let poker = cardNode.getComponent(\"Poker\");\n            poker.init(0, 0);\n            poker.setFaceUp(false);\n        }\n        this._haveWaiting = false;  //曾经等待过\n        this._revealHoleCard = false; //是否已摊过底牌\n        this.betNum.value = \"0\";\n        this.stackNum.value = \"0\";\n        this._isTableStarted = false;\n\n        Log.Trace(\"Player:onLoad\");\n    },\n\n    onDestroy () {\n        Log.Trace(\"Player:onDestroy\");\n    },\n\n    //根据牌桌上的位置调整一些组件的显示位置\n    initPlayerByTablePos (maxplayer, pos) {\n        this.operateLayer.setPosition(PositionData.PlayerComponentPositions[maxplayer][pos].OperateLayer.x, PositionData.PlayerComponentPositions[maxplayer][pos].OperateLayer.y);\n        this.betLayer.setPosition(PositionData.PlayerComponentPositions[maxplayer][pos].BetLayer.x, PositionData.PlayerComponentPositions[maxplayer][pos].BetLayer.y);\n        this.firstCard.setPosition(PositionData.PlayerComponentPositions[maxplayer][pos].FirstCard.x, PositionData.PlayerComponentPositions[maxplayer][pos].FirstCard.y);\n        this.firstCard.angle = PositionData.PlayerComponentPositions[maxplayer][pos].FirstCard.degree;\n        this.secondCard.setPosition(PositionData.PlayerComponentPositions[maxplayer][pos].SecondCard.x, PositionData.PlayerComponentPositions[maxplayer][pos].SecondCard.y);\n        this.secondCard.angle = PositionData.PlayerComponentPositions[maxplayer][pos].SecondCard.degree;\n        this.dealerMark.setPosition(PositionData.PlayerComponentPositions[maxplayer][pos].DealerMark.x, PositionData.PlayerComponentPositions[maxplayer][pos].DealerMark.y);\n        this._winlossCardtype = PositionData.PlayerComponentPositions[maxplayer][pos].WinlossLayer;\n        this.winlossCardtype[this._winlossCardtype].setPosition(PositionData.PlayerComponentPositions[maxplayer][pos].Winloss.x, PositionData.PlayerComponentPositions[maxplayer][pos].Winloss.y);\n    },\n\n    //根据牌局回放牌桌上的位置调整一些组件的显示位置\n    initReplayPlayerByTablePos (maxplayer, pos) {\n        this.operateLayer.setPosition(PositionData.ReplayPlayerComponentPositions[maxplayer][pos].OperateLayer.x, PositionData.ReplayPlayerComponentPositions[maxplayer][pos].OperateLayer.y);\n        this.betLayer.setPosition(PositionData.ReplayPlayerComponentPositions[maxplayer][pos].BetLayer.x, PositionData.ReplayPlayerComponentPositions[maxplayer][pos].BetLayer.y);\n        this.firstCard.setPosition(PositionData.ReplayPlayerComponentPositions[maxplayer][pos].FirstCard.x, PositionData.ReplayPlayerComponentPositions[maxplayer][pos].FirstCard.y);\n        this.firstCard.angle = PositionData.ReplayPlayerComponentPositions[maxplayer][pos].FirstCard.degree;\n        this.secondCard.setPosition(PositionData.ReplayPlayerComponentPositions[maxplayer][pos].SecondCard.x, PositionData.ReplayPlayerComponentPositions[maxplayer][pos].SecondCard.y);\n        this.secondCard.angle = PositionData.ReplayPlayerComponentPositions[maxplayer][pos].SecondCard.degree;\n        this.dealerMark.setPosition(PositionData.ReplayPlayerComponentPositions[maxplayer][pos].DealerMark.x, PositionData.ReplayPlayerComponentPositions[maxplayer][pos].DealerMark.y);\n        this._winlossCardtype = PositionData.ReplayPlayerComponentPositions[maxplayer][pos].WinlossLayer;\n        this.winlossCardtype[this._winlossCardtype].setPosition(PositionData.ReplayPlayerComponentPositions[maxplayer][pos].Winloss.x, PositionData.ReplayPlayerComponentPositions[maxplayer][pos].Winloss.y);\n    },\n\n    start () {\n\n    },\n\n    sitUp () {\n        this.emptySeatLayer.active = true;\n        this.operateLayer.active = false;\n        this.headMask.active = false;\n        this.nickName.node.active = false;\n        this.stackNum.node.active = false;\n    },\n\n    isEmpty () {\n        return this.emptySeatLayer.active;\n    },\n\n    getPlayerAddr () {\n        return this._Addr;\n    },\n\n    _onTabelDetail (data) {\n        Log.Trace(\"_onTableDetail: \" + JSON.stringify(data));\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        if (!!data.Result.length) {\n            for (let i = 0; i < data.Result.length; i++) {\n                if (data.Result[i][0] == cc.dgame.settings.account.Addr) {\n                    //之前审批过了，但积分已打完，则重新买入并需要审批\n                    if (data.Result[i][1] + data.Result[i][2] < 5 * cc.dgame.tableInfo.SmallBlind + cc.dgame.tableInfo.Ante) {\n                        cc.dgame.tableInfo.WantSeatId = this._ContractPos;\n                        cc.dgame.tableInfo.BuyinGoldType = Types.BuyinGoldType.SITDOWN;\n                        cc.dgame.tableInfo.NeedApprove = true;\n                        cc.dgame.mainMenuPopup.onBtnBuyinChipsClicked();\n                    } else {    //之前审批过了，牌桌上有剩余积分则直接坐下\n                        cc.dgame.tableInfo.WantSeatId = this._ContractPos;\n                        cc.dgame.tableInfo.BuyinGoldType = Types.BuyinGoldType.SITDOWN;\n                        cc.dgame.tableInfo.BuyinChips = data.Result[i][1] + data.Result[i][2];\n                        cc.dgame.tableInfo.NeedApprove = false;\n                        cc.dgame.mainMenuPopup.onBtnBuyinChipsConfirmClicked();\n                    }\n                    return;\n                }\n            }\n        }\n        //之前没审批过，需要买入并审批\n        cc.dgame.tableInfo.WantSeatId = this._ContractPos;\n        cc.dgame.tableInfo.BuyinGoldType = Types.BuyinGoldType.SITDOWN;\n        cc.dgame.tableInfo.NeedApprove = true;\n        cc.dgame.mainMenuPopup.onBtnBuyinChipsClicked();\n    },\n\n    onClickSitdown () {\n        Log.Trace(\"onClickSitdown: \" + this._ContractPos);\n        Log.Trace(\"chips: \" + cc.dgame.settings.account.Chips + \", BuyinMin: \" + cc.dgame.tableInfo.BuyinMin + \", tableId: \" + cc.dgame.tableInfo.TableId);\n        //token自由桌判断是否有足够的筹码带入\n        if (parseInt(cc.dgame.tableInfo.TableId) > 0xE000000000000 && parseInt(cc.dgame.tableInfo.TableId) < 0xF000000000000 && parseInt(cc.dgame.settings.account.Chips) < parseInt(cc.dgame.tableInfo.BuyinMin)) {\n            cc.dgame.tips.showTips(\"You have insufficient<br/>chips to sit down\");\n        } else {\n            if (parseInt(cc.dgame.tableInfo.TableId) > 0xE000000000000) {\n                cc.dgame.tableInfo.WantSeatId = this._ContractPos;\n                cc.dgame.tableInfo.BuyinGoldType = Types.BuyinGoldType.SITDOWN;\n                cc.dgame.mainMenuPopup.onBtnBuyinChipsClicked();\n            } else {\n                //俱乐部积分桌\n                if ((cc.dgame.tableInfo.TableProps & 0x1) == 0) {\n                    var tabledetail_cmd = {\n                        TableId: cc.dgame.tableInfo.TableId,\n                    }\n                    cc.dgame.net.gameCall([\"tableDetail\", JSON.stringify(tabledetail_cmd)], this._onTabelDetail.bind(this));\n                } else {\n                    //俱乐部token桌\n                    if (parseInt(cc.dgame.settings.account.Chips) < parseInt(cc.dgame.tableInfo.BuyinMin)) {\n                        cc.dgame.tips.showTips(\"You have insufficient<br/>chips to sit down\");\n                    } else {\n                        cc.dgame.tableInfo.WantSeatId = this._ContractPos;\n                        cc.dgame.tableInfo.BuyinGoldType = Types.BuyinGoldType.SITDOWN;\n                        cc.dgame.mainMenuPopup.onBtnBuyinChipsClicked();\n                    }\n                }\n            }\n        }\n    },\n\n    onClickBackToPlay () {\n        Log.Trace(\"onClickBackToPlay: \" + this._ContractPos);\n        cc.dgame.tableInfo.WantSeatId = this._ContractPos;\n        cc.dgame.tableInfo.BuyinGoldType = Types.BuyinGoldType.BACKTOPLAY;\n        cc.dgame.mainMenuPopup.onBtnBuyinChipsClicked();\n    },\n\n    onBtnResitDownClicked () {\n        Log.Trace(\"[onBtnResitDownClicked]\");\n        cc.dgame.gametable.onBtnResitDownClicked();\n    },\n\n    startCountDown (seconds, elapsedSecs) {\n        this.emptySeatLayer.active = false;\n        //this.countDownLayer.active = true;\n        this.countDownProgressBar.node.active = true;\n        this._countDownEnd = seconds;\n        this._countDownTotal = (this._countDownEnd - elapsedSecs) * 10;\n        this.schedule(this._countDownProc, 0.1);\n    },\n\n    stopCountDown () {\n        this.unschedule(this._countDownProc);\n        //this.countDownLayer.active = false;\n        this.countDownProgressBar.node.active = false;\n        this._stopActionTimeout();\n    },\n\n    _countDownProc () {\n        this._countDownTotal -= 1;\n        if (this._countDownTotal <= 0) {\n            this.unschedule(this._countDownProc);\n            //this.countDownLayer.active = false;\n            this.countDownProgressBar.node.active = false;\n            this._startActionTimeout();\n            return;\n        }\n\n        this.countDownProgressBar.progress = this._countDownTotal * 0.1 / this._countDownEnd;\n        //this.countDown.string = parseInt(this._countDownTotal * 0.1) + \"s\";\n    },\n\n    initPlayerInfo (pos, addr, nickname, stackNum, status) {\n        Log.Trace(\"[initPlayerInfo] player \" + pos + \", addr: \" + addr + \", nick: \" + nickname + \", stack: \" + stackNum + \", status: \" + status);\n        this.seatNo.string = pos;\n        this._Addr = addr;\n        this._ContractPos = pos;\n        this.disconnectMark.active = false;\n        this.hideAllActions();\n        this.hideDisconnectMark();\n        this.hideWinloss();\n        this.hideRMTWinner();\n        this.hideWinlight();\n        if (!this._isTableStarted) {\n            this.hideDealCards();\n        }\n        if (addr == '') {\n            this.nickName.node.opacity = 255;\n            this.stackNum.node.opacity = 255;\n            this.nickName.string = nickname;\n            this.stackNum.value = stackNum.toString();\n            this.stackNum.string = cc.dgame.utils.formatRichText(cc.dgame.utils.formatValue(stackNum), \"#FFBC1D\", true, false);\n            this.emptySeatLayer.active = true;\n            this.operateLayer.active = false;\n            this.headMask.active = false;\n            this.nickName.node.active = false;\n            this.stackNum.node.active = false;\n            this.headDisable.active = false;\n            this.hideBtnBackToPlay();\n            this.hideBtnResitDown();\n        } else {\n//            if (this.emptySeatLayer.active) {\n                var idx = parseInt(addr.substr(2, 2), 16);\n                if (isNaN(idx)) {\n                    idx = 0;\n                }\n                this.avator.spriteFrame = this._assetMgr.heads[idx % 200];\n                this.nickName.string = nickname;\n                this.stackNum.value = stackNum.toString();\n                this.stackNum.string = cc.dgame.utils.formatRichText(cc.dgame.utils.formatValue(stackNum), \"#FFBC1D\", true, false);\n                this.emptySeatLayer.active = false;\n                this.headMask.active = true;\n                this.nickName.node.active = true;\n                this.stackNum.node.active = true;\n                if (status <= Types.ContractStatus.SEATED) {\n                    this.showAction(Types.PlayerOP.STANDBY);\n                } else if (status > Types.ContractStatus.SEATED && status <= Types.ContractStatus.READY) {\n                    this.showAction(Types.PlayerOP.WAITING);\n                } else if (status == Types.ContractStatus.OFFLINE || status == Types.ContractStatus.SHOWDOWNOFFLINE) {\n                    this.showAction(Types.PlayerOP.FOLD);\n                } else {\n                    this.nickName.node.opacity = 255;\n                    this.stackNum.node.opacity = 255;\n                    this.headDisable.active = false;\n                }\n            // } else {\n            //     Log.Trace(\"not an empty seat\");\n            // }\n        }\n    },\n\n    //隐藏所有操作\n    hideAllActions () {\n        this.operateLayer.active = false;\n        this.allinHead.active = false;\n    },\n\n    //隐藏Straddle、补Straddle、延时、看牌、下注、跟注、加注这7个操作\n    hideActions () {\n        for (let i = Types.PlayerOP.STRADDLE; i < Types.PlayerOP.ALLIN; i++) {\n            this.opNodes[i].active = false;\n        }\n    },\n\n    setTableStatus (status) {\n        this._isTableStarted = (status == 2);\n    },\n\n    //显示某个指定的操作\n    showAction (op) {\n        Log.Trace(\"[showAction] this._ContractPos: \" + this._ContractPos + \", op: \" + op + \", _isTableStarted: \" + this._isTableStarted);\n        for (let i = 0; i < this.opNodes.length; i++) {\n            this.opNodes[i].active = false;\n        }\n        this.opNodes[op].active = true;\n        if (op == Types.PlayerOP.WAITING || op == Types.PlayerOP.STANDBY) {\n            let noChips = false;\n            if (!!cc.dgame.tableInfo.BlindInfo && this.getStack() < 5 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet + cc.dgame.tableInfo.BlindInfo.TotalAnteBet) {\n                noChips = true;\n            }\n            if (this._isTableStarted || noChips) {\n                this.nickName.node.opacity = 100;\n                this.stackNum.node.opacity = 100;\n                this.headDisable.active = true;\n            } else {\n                this.nickName.node.opacity = 255;\n                this.stackNum.node.opacity = 255;\n                this.headDisable.active = false;\n            }\n        }\n\n        if (op != Types.PlayerOP.STANDBY) {\n            this.hideBtnResitDown();\n        }\n\n        if (op == Types.PlayerOP.FOLD) {\n            this.disable();\n        }\n\n        if (op == Types.PlayerOP.ALLIN) {\n            this.setAllinHead();\n        }\n        this.operateLayer.active = true;\n    },\n\n    setStack (stack) {\n        this.stackNum.value = stack.toString();\n        this.stackNum.node.active = true;\n        this.stackNum.string = cc.dgame.utils.formatRichText(cc.dgame.utils.formatValue(stack), \"#FFBC1D\", true, false);\n    },\n\n    getStack () {\n        return parseFloat(this.stackNum.value);\n    },\n\n    hideStack () {\n        this.stackNum.node.active = false;\n    },\n\n    _setBetBackground () {\n        // 计算宽\n        this.betNum.overflow = cc.Label.Overflow.NONE;\n        this.betNum.node.setContentSize(new cc.Size(0, 33));\n        this.betNum._forceUpdateRenderData();\n\n        let bgStack = cc.find(\"BetLayer/bg_stack\", this.node);\n        bgStack.active = true;\n        if (this.betNum.node.width + 30 > 59) {\n            bgStack.width = this.betNum.node.width + 20;\n        } else {\n            bgStack.width = 59;\n        }\n    },\n\n    setBet (bet, animate) {\n        let curBet = parseFloat(this.betNum.value);\n        this.betNum.value = bet.toString();\n        this.betNum.string = cc.dgame.utils.formatValue(bet);\n        this._setBetBackground();\n        Log.Debug(\"player \" + this._ContractPos + \" curBet: \" + curBet + \", setBet: \" + bet);\n        if (parseInt(bet) == 0) {\n            this.betNum.value = \"0\";\n            this.betNum.string = \"0\";\n            this._setBetBackground();\n            this.betLayer.active = false;\n            Log.Trace(\"betLayer just hide\");\n            return;\n        }\n        if (!this.betLayer.active || this.betLayer.active && curBet != bet) {\n            if (!animate) {\n                this.betLayer.active = true;\n                return;\n            }\n            let opacity = [80, 160, 255];\n            for (let i = 0; i < this.betChips.length; i++) {\n                let chip = this.betChips[i];\n                chip.opacity = 0;\n                chip.active = true;\n                chip.scale = 1;\n                chip.setPosition(0, 0);\n                cc.dgame.audioMgr.playChipsToTable();\n                let src = chip.getPosition();\n                let dst = this.betLayer.getPosition();\n                if (i != this.betChips.length - 1) {\n                    Log.Trace(\"player \" + this._ContractPos + \" chip \" + i + \" move from (\" + src.x + \", \" + src.y + \") to (\" + dst.x + \", \" + dst.y + \")\");\n                    chip.runAction(\n                        cc.sequence(\n                            cc.delayTime(0.05 * i),\n                            cc.spawn(\n                                cc.fadeTo(0.2, opacity[i]),\n                                cc.moveTo(0.2, this.betLayer.getPosition()),\n                            ),\n                            cc.callFunc(function () {\n                                chip.active = false;\n                            }, this)\n                        )\n                    );\n                } else {\n                    Log.Trace(\"player \" + this._ContractPos + \" chip \" + i + \" move from (\" + src.x + \", \" + src.y + \") to (\" + dst.x + \", \" + dst.y + \") end\");\n                    chip.runAction(\n                        cc.sequence(\n                            cc.delayTime(0.05 * i),\n                            cc.spawn(\n                                cc.fadeTo(0.2, opacity[i]),\n                                cc.moveTo(0.2, this.betLayer.getPosition()),\n                            ),\n                            cc.callFunc(function () {\n                                chip.active = false;\n                                this.betLayer.active = true;\n                            }, this)\n                        )\n                    );\n                }\n            }\n        }\n    },\n\n    setReplayBet (bet) {\n        let curBet = parseFloat(this.replayBetNum.string);\n        this.replayBetNum.string = bet;\n        //Log.Debug(\"player \" + this._ContractPos + \" curBet: \" + curBet + \", setBet: \" + bet);\n        if (parseInt(bet) == 0) {\n            this.replayBetNum.string = \"0\";\n            this.replayBetLayer.active = false;\n            //Log.Trace(\"betLayer just hide\");\n            return;\n        }\n        this.replayBetLayer.active = true;\n    },\n\n    getBet () {\n        return parseFloat(this.betNum.value);\n    },\n\n    //筹码推到底池\n    chipsToPot () {\n        Log.Trace(\"this.betLayer.active: \" + this.betLayer.active + \", getBet: \" + this.getBet());\n        if (!this.betLayer.active) {\n            return 0;\n        }\n        let lastBet = this.getBet();\n        this.setBet(0);\n        let potPos = cc.find(\"Canvas/PotLayer\").convertToWorldSpaceAR(cc.v2(0, 0));\n        this._chipPlayerToDest(potPos,1);\n        return parseFloat(lastBet);\n    },\n\n    //保险未击中，你付钱给保险\n    playerPayToInsurance(insurancePos, speed) {\n        this._chipPlayerToDest(insurancePos,speed);\n    },\n\n    //播放筹码从玩家位置推到目标位置动画\n    _chipPlayerToDest(destPos,speed) {\n        let dstv2 = this.betChips[0].parent.convertToNodeSpaceAR(destPos);\n        Log.Trace(\"[chipsToPot] destPos: (\" + destPos.x + \", \" + destPos.y + \"), dstv2: (\" + dstv2.x + \", \" + dstv2.y + \")\");\n        let opacity = [80, 160, 255];\n        for (let i = 0; i < this.betChips.length; i++) {\n            let bchip = this.betChips[i];\n            bchip.stopAllActions();\n            bchip.active = true;\n            bchip.scale = 1;\n            bchip.opacity = 0;\n            bchip.setPosition(this.betLayer.getPosition());\n            bchip.scale = 0.6;\n            bchip.runAction(\n                cc.sequence(\n                    cc.delayTime(0.05 * i),\n                    cc.spawn(\n                        cc.fadeTo(0.2, opacity[i]),\n                        cc.scaleTo(0.2, 1, 1),\n                        cc.moveTo(0.2, dstv2),\n                    ),\n                    cc.delayTime(0.05),\n                    cc.callFunc(function () {\n                        bchip.active = false;\n                        let endpos = bchip.getPosition();\n                        Log.Trace(\"[chipsToPot] chip \" + i + \" end pos: (\" + endpos.x + \", \" + endpos.y + \")\");\n                    }, this),\n                ).speed(speed)\n            );\n        }\n    },\n\n    //赢得底池筹码动画\n    winPot (potPos, speed) {\n        this._chipSrcToPlayer(potPos,speed);\n    },\n\n    //保险击中，保险赔钱给你\n    insurancePayToPlayer (insurancePos, speed) {\n        this._chipSrcToPlayer(insurancePos,speed);\n    },\n\n    //播放筹码从源位置推到玩家位置动画\n    _chipSrcToPlayer(srcPos,speed) {\n        let srcv2 = this.betChips[0].parent.convertToNodeSpaceAR(srcPos);\n        Log.Trace(\"[winPot] player \" + this._ContractPos + \", srcPos: (\" + srcPos.x + \", \" + srcPos.y + \"), srcv2: (\" + srcv2.x + \", \" + srcv2.y + \")\");\n        let dstarr = new Array;\n        while (true) {\n            //随机生成出现的位置，x轴在左右10像素，y轴在上下75像素，且三个点至少两个点y轴坐标差大于100\n            for (let i = 0; i < this.betChips.length; i++) {\n                let x = parseInt(Math.random() * 20) - 10;\n                let y = parseInt(Math.random() * 160) - 80;\n                dstarr.push(cc.v2(srcv2.x + x, srcv2.y + y));\n            }\n            //Log.Trace(\"[winPot] \" + JSON.stringify(dstarr));\n            if (!(Math.abs(dstarr[0].y - dstarr[1].y) < 100 && Math.abs(dstarr[1].y - dstarr[2].y) < 100 && Math.abs(dstarr[0].y - dstarr[2].y) < 100)) {\n                break;\n            }\n            dstarr = new Array;\n        }\n        Log.Trace(\"[winPot] \" + JSON.stringify(dstarr));\n        for (let i = 0; i < this.betChips.length; i++) {\n            let bchip = this.betChips[i];\n            bchip.stopAllActions();\n            bchip.active = true;\n            bchip.scale = 1;\n            bchip.setPosition(srcv2);\n            bchip.scale = 0.2;\n            bchip.opacity = 0;\n            if (i % 2 == 0) {\n                bchip.runAction(\n                    cc.sequence(\n                        cc.delayTime(0.05 * i),\n                        cc.spawn(\n                            cc.fadeIn(0.3),\n                            cc.scaleTo(0.3, 1, 1),\n                            cc.moveTo(0.3, dstarr[i]),\n                        ),\n                        cc.delayTime(0.05),\n                        cc.moveTo(0.3, cc.v2(0, 0)),\n                        cc.delayTime(0.05),\n                        cc.callFunc(function () {\n                            this.headLayer.runAction(\n                                cc.sequence(\n                                    cc.scaleTo(0.025, 1.1, 1.1),\n                                    cc.scaleTo(0.025, 1, 1),\n                                )\n                            );\n                            //let endpos = bchip.getPosition();\n                            //Log.Trace(\"[winPot] chip \" + i + \" end pos: (\" + endpos.x + \", \" + endpos.y + \")\");\n                            bchip.active = false;\n                        }, this),\n                    ).speed(speed)\n                );\n            } else {\n                bchip.runAction(\n                    cc.sequence(\n                        cc.delayTime(0.05 * i),\n                        cc.spawn(\n                            cc.fadeIn(0.3),\n                            cc.scaleTo(0.3, 1, 1),\n                            cc.moveTo(0.3, dstarr[i]),\n                        ),\n                        cc.delayTime(0.05),\n                        cc.moveTo(0.3, cc.v2(0, 0)),\n                        cc.delayTime(0.05),\n                        cc.callFunc(function () {\n                            //let endpos = bchip.getPosition();\n                            //Log.Trace(\"[winPot] chip \" + i + \" end pos: (\" + endpos.x + \", \" + endpos.y + \")\");\n                            bchip.active = false;\n                        }, this),\n                    ).speed(speed)\n                );\n            }\n        }\n    },\n\n    hideBet () {\n        Log.Trace(\"hideBet\");\n        this.betLayer.active = false;\n    },\n\n    getDealerMarkPos () {\n        return this.dealerMark.convertToWorldSpaceAR(cc.v2(0, 0));\n    },\n\n    setDealerMark () {\n        this.dealerMark.active = true;\n    },\n\n    hideDealerMark () {\n        this.dealerMark.active = false;\n    },\n\n    setDisconnectMark () {\n        this.disconnectMark.active = true;\n    },\n\n    hideDisconnectMark () {\n        this.disconnectMark.active = false;\n    },\n\n    setFreeRaise () {\n        this.headLayer.active = false;\n    },\n\n    hideFreeRaise () {\n        this.headLayer.active = true;\n    },\n\n    setWinloss (winloss,symbol='+') {\n        // this.nickName.node.active = false;\n        this._winLoss = winloss;\n        let richtextWinloss = cc.find(\"winLoss\", this.winlossCardtype[this._winlossCardtype]).getComponent(cc.RichText);\n        richtextWinloss.string = cc.dgame.utils.formatRichText(symbol + cc.dgame.utils.formatValue(winloss), \"#ffffff\", true, false);\n        this._showWinlossCardtype();\n        //this.winLoss.node.active = true;\n    },\n\n    hideWinloss () {\n        //this.winLoss.node.active = false;\n        //this.nickName.node.active = true;\n        this._winloss = null;\n        this.winlossCardtype[this._winlossCardtype].active = false;\n    },\n\n    setCardType (cardtype) {\n        this._cardType = cardtype;\n        //this.stackNum.node.active = false;\n        //this.cardType.node.active = true;\n        let bgCardtype = cc.find(\"bg_cardtype\", this.winlossCardtype[this._winlossCardtype]);\n        bgCardtype.active = true;\n        let richtextCardtype = cc.find(\"bg_cardtype/richtext\", this.winlossCardtype[this._winlossCardtype]).getComponent(cc.RichText);\n        richtextCardtype.string = cc.dgame.utils.formatRichText(cardtype, \"#553C00\", true, false);\n    },\n\n    hideCardType () {\n        //this.cardType.node.active = false;\n        //this.stackNum.node.active = true;\n        this._cardType = null;\n        let bgCardtype = cc.find(\"bg_cardtype\", this.winlossCardtype[this._winlossCardtype]);\n        bgCardtype.active = false;\n    },\n\n    _showWinlossCardtype () {\n        this.winlossCardtype[this._winlossCardtype].active = true;\n        //获取牌型文字宽度，调整牌型背景宽度\n        let richtextCardtype = cc.find(\"bg_cardtype/richtext\", this.winlossCardtype[this._winlossCardtype]).getComponent(cc.RichText);\n        let bgCardtype = cc.find(\"bg_cardtype\", this.winlossCardtype[this._winlossCardtype]);\n        bgCardtype.width = richtextCardtype.node.width + 60;\n        this.winlossCardtype[this._winlossCardtype].getComponent(cc.Layout).updateLayout();\n        if (bgCardtype.active && this._winlossCardtype != 2) {\n            //获取牌型文字与头像中心点的世界坐标，设置牌型文字中心与头像中心对齐\n            let cardtypepos = richtextCardtype.node.convertToWorldSpaceAR(cc.v2(0, 0));\n            let headpos = this.headLayer.convertToWorldSpaceAR(cc.v2(0, 0));\n            let winlosspos = this.winlossCardtype[this._winlossCardtype].getPosition();\n            winlosspos.x = -(cardtypepos.x - headpos.x);\n            this.winlossCardtype[this._winlossCardtype].setPosition(winlosspos);\n        }\n    },\n\n    //在昵称上显示winner字样\n    showRMTWinner () {\n        this.RMTWinner.active = true;\n    },\n\n    hideRMTWinner () {\n        this.RMTWinner.active = false;\n    },\n\n    highlightHoleCards (genCards) {\n        let genCardsPTArr = new Array();\n        for (let i = 0; i < genCards.length; i++) {\n            genCardsPTArr.push(cc.dgame.utils.getCard(genCards[i]));\n        }\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            if (genCardsPTArr.indexOf(poker.getCardPoint()) == -1) {\n                poker.disable();\n            } else {\n                poker.enable();\n            }\n        }\n    },\n\n    restoreHoleCards () {\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            poker.enable();\n        }\n    },\n\n    //需要在showAction之后调用\n    setAllinHead () {\n        Log.Trace(\"[setAllinHead] this.allinHead.active: \" + this.allinHead.active);\n        this.allinHead.active = true;\n    },\n\n    hideAllinHead () {\n        Log.Trace(\"[hideAllinHead] this.allinHead.active: \" + this.allinHead.active);\n        this.allinHead.active = false;\n    },\n\n    showINSFlag (amount, bReplay) {\n        Log.Trace(\"[showINSFlag] this.InsuranceLayer.y \" + this.InsuranceLayer.y + \", this.operateLayer.y \" + this.operateLayer.y);\n        this.InsuranceLayer.active = false;\n        let insNum = cc.find(\"insurance_num\", this.InsuranceLayer).getComponent(cc.RichText);\n        insNum.string = cc.dgame.utils.formatRichText(\"Insurance \" + amount, \"#553c00\", true, false);\n        let bgINS = cc.find(\"InsuranceLayer/insurance_sprte\", this.node);\n        bgINS.width = insNum.node.width + 60;\n        if (!bReplay && cc.dgame.tableInfo.SeatId == this._ContractPos) {\n            this.InsuranceLayer.y = 307;\n            Log.Trace(\"[showINSFlag] this.InsuranceLayer.y2 \" + this.InsuranceLayer.y);\n        }\n        this.InsuranceLayer.active = true;\n    },\n\n    hideINSFlag () {\n        this.InsuranceLayer.active = false;\n    },\n\n    setWinlight () {\n        this.winlight.active = true;\n        this.winlight.runAction(\n            cc.repeatForever(\n                cc.rotateBy(4, -360)\n            )\n        );\n    },\n\n    hideWinlight () {\n        this.winlight.stopAllActions();\n        this.winlight.active = false;\n    },\n\n    //恢复发牌，两张牌\n    recoverDealCards () {\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            let dstv2 = this.dealHoleCards[i].convertToWorldSpaceAR(cc.v2(0, 0));\n            this.cardAnchors[i].active = true;\n            Log.Trace(\"[recoverDealCards] player \" + this._ContractPos + \", dst: (\" + dstv2.x + \", \" + dstv2.y + \")\");\n            poker.recoverDealCard(dstv2, this.dealHoleCards[i].eulerAngles.z, this.dealHoleCards[i].scale, false);\n        }\n    },\n\n    //发牌，两张牌的间隔时间，起始位置和scale\n    dealCards (interval1, interval2, srcv2, scale) {\n        let intervalarr = new Array;\n        intervalarr.push(interval1);\n        intervalarr.push(interval2);\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            let dstv2 = this.dealHoleCards[i].convertToWorldSpaceAR(cc.v2(0, 0));\n            this.scheduleOnce(function () {\n                this.cardAnchors[i].active = true;\n                Log.Trace(\"[dealCards] player \" + this._ContractPos + \", src: (\" + srcv2.x + \", \" + srcv2.y + \"), dst: (\" + dstv2.x + \", \" + dstv2.y + \")\");\n                poker.dealCard(srcv2, dstv2, this.dealHoleCards[i].eulerAngles.z, scale, this.dealHoleCards[i].scale);\n            }, intervalarr[i]);\n        }\n    },\n\n    //玩家自身发牌，两张牌的间隔时间，起始位置、目标位置和scale\n    dealCardsPlayerMyself (interval1, interval2, srcv2, dstv2_1, dstv2_2, srcScale, dstScale) {\n        let intervalarr = new Array;\n        intervalarr.push(interval1);\n        intervalarr.push(interval2);\n        let dstarr = new Array;\n        dstarr.push(dstv2_1);\n        dstarr.push(dstv2_2);\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            this.scheduleOnce(function () {\n                this.cardAnchors[i].active = true;\n                Log.Trace(\"[dealCardsPlayerMyself] player \" + this._ContractPos + \", src: (\" + srcv2.x + \", \" + srcv2.y + \"), dst: (\" + dstarr[i].x + \", \" + dstarr[i].y + \")\");\n                poker.dealCard(srcv2, dstarr[i], 0, srcScale, dstScale);\n            }, intervalarr[i]);\n        }\n    },\n\n    //摊牌，两张牌的牌点，\n    revealHoleCards (cardpoint1, cardpoint2) {\n        if (this._revealHoleCard) {\n            return;\n        }\n        this._revealHoleCard = true;\n        let pointsArr = new Array;\n        pointsArr.push(cardpoint1);\n        pointsArr.push(cardpoint2);\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            let dstv2 = this.holeCards[i].convertToWorldSpaceAR(cc.v2(0, 0));\n            poker.setCardPoint(pointsArr[i]);\n            Log.Trace(\"[revealHoleCards] player \" + this._ContractPos + \", dst: (\" + dstv2.x + \", \" + dstv2.y + \"), scale: \" + this.holeCards[i].scale);\n            poker.flipCard(dstv2, this.holeCards[i].scale);\n            this.cardAnchors[i].active = true;\n        }\n    },\n\n    //弃牌，两张牌的终点位置，起始角度和起始scale\n    foldCards (srcv2_1, srcv2_2, dstv2, srcAngle, scale) {\n        let srcarr = new Array;\n        srcarr.push(srcv2_1);\n        srcarr.push(srcv2_2);\n        cc.dgame.audioMgr.playFoldCard();\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            poker.foldCard(srcarr[i], dstv2, srcAngle, scale, 0.2);\n            this.cardAnchors[i].active = true;\n        }\n    },\n\n    //隐藏动画牌\n    hideDealCards () {\n        for (let i = 0; i < this.cardAnchors.length; i++) {\n            let poker = this.cardAnchors[i].getChildren()[0].getComponent(\"Poker\");\n            poker.enable();\n            poker.setFaceUp(false);\n            this.cardAnchors[i].active = false;\n        }\n        this._revealHoleCard = false;\n    },\n\n    //弃牌时调用\n    disable () {\n        this.nickName.node.opacity = 100;\n        this.stackNum.node.opacity = 100;\n        this.headDisable.active = true;\n        if (this.emptySeatLayer.active) {\n            this.emptySeatLayer.getComponent(cc.Button).interactable = false;\n        }\n    },\n\n    //牌局开始时调用\n    enable () {\n        this.nickName.node.opacity = 255;\n        this.stackNum.node.opacity = 255;\n        this.headDisable.active = false;\n        this.disconnectMark.active = false;\n        this.hideAllinHead();\n        if (this.emptySeatLayer.active) {\n            this.emptySeatLayer.getComponent(cc.Button).interactable = true;\n        }\n    },\n\n    //显示返回牌桌按钮\n    showBtnBackToPlay () {\n        Log.Trace(\"[showBtnBackToPlay] this.btnBackToPlay.active: \" + this.btnBackToPlay.active);\n        this.btnBackToPlay.active = true;\n    },\n\n    //隐藏返回牌桌按钮\n    hideBtnBackToPlay () {\n        Log.Trace(\"[hideBtnBackToPlay] this.btnBackToPlay.active: \" + this.btnBackToPlay.active);\n        this.btnBackToPlay.active = false;\n    },\n\n    //显示返回牌桌按钮\n    showBtnResitDown () {\n        Log.Trace(\"[showBtnResitDown] this.btnResitDown.active: \" + this.btnResitDown.active);\n        if (this.btnBackToPlay.active == true) {\n            Log.Trace(\"[showBtnResitDown] this.btnBackToPlay.active == true,not show\");\n            return\n        }\n        this.btnResitDown.active = true;\n    },\n\n    //隐藏返回牌桌按钮\n    hideBtnResitDown () {\n        Log.Trace(\"[hideBtnResitDown] this.btnResitDown.active: \" + this.btnResitDown.active);\n        this.btnResitDown.active = false;\n    },\n\n    startAutoCheckoutCountDown (seconds) {\n        Log.Trace(\"[startAutoCheckoutCountDown] this.autoCheckoutCountDownLayer.active: \" + this.autoCheckoutCountDownLayer.active);\n        this.emptySeatLayer.active = false;\n        this.autoCheckoutCountDownLayer.active = true;\n        this._countDownEnd = seconds;\n        this._countDownTotal = this._countDownEnd * 10;\n        this.schedule(this._countAutoCheckoutDownProc, 0.1);\n    },\n\n    stopAutoCheckoutCountDown () {\n        Log.Trace(\"[stopAutoCheckoutCountDown] this.autoCheckoutCountDownLayer.active: \" + this.autoCheckoutCountDownLayer.active);\n        this.unschedule(this._countAutoCheckoutDownProc);\n        this.autoCheckoutCountDownLayer.active = false;\n    },\n\n    _countAutoCheckoutDownProc () {\n        this._countDownTotal -= 1;\n        if (this._countDownTotal <= 0) {\n            this.stopAutoCheckoutCountDown();\n            if (cc.dgame.tableInfo.SeatId == this._ContractPos) {\n                cc.dgame.mainMenuPopup.onBtnExitClicked();\n            }\n            return;\n        }\n\n        this.autoCheckoutCountDown.string = parseInt(this._countDownTotal * 0.1) + \"s\";\n    },\n\n    _startActionTimeout () {\n        this.actionTimeout.active = true;\n        this.actionTimeout.runAction(\n            cc.repeatForever(\n                cc.blink(3, 3)\n            )\n        );\n    },\n\n    _stopActionTimeout () {\n        this.actionTimeout.stopAllActions();\n        this.actionTimeout.active = false;\n    },\n    // update (dt) {},\n});\n"]}