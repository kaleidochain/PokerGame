{"version":3,"sources":["assets/scripts/components/NormalLoading.js"],"names":["Log","require","cc","Class","Component","properties","_normalLoadingLayer","Node","_loadingTips","_loadTimeoutTips","onLoad","dgame","find","utils","addClickEvent","node","normalLoading","startInvokeWaiting","active","scheduleOnce","_loadTimeout","stopInvokeWaiting","unschedule","showLoadTimeout","onBtnOKClicked","start","onDestroy"],"mappings":";;;;;;AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAjB;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,mBAAmB,EAAEJ,EAAE,CAACK,IADhB;AAERC,IAAAA,YAAY,EAAEN,EAAE,CAACK,IAFT;AAGRE,IAAAA,gBAAgB,EAAEP,EAAE,CAACK;AAHb,GAHP;AASL;AAEAG,EAAAA,MAXK,oBAWK;AACN,QAAI,CAACR,EAAE,CAACS,KAAR,EAAe;AACX;AACH;;AACD,SAAKL,mBAAL,GAA2BJ,EAAE,CAACU,IAAH,CAAQ,2BAAR,CAA3B;AACA,SAAKJ,YAAL,GAAoBN,EAAE,CAACU,IAAH,CAAQ,uCAAR,CAApB;AACA,SAAKH,gBAAL,GAAwBP,EAAE,CAACU,IAAH,CAAQ,2CAAR,CAAxB;AACAV,IAAAA,EAAE,CAACS,KAAH,CAASE,KAAT,CAAeC,aAAf,CAA6BZ,EAAE,CAACU,IAAH,CAAQ,iDAAR,CAA7B,EAAyF,KAAKG,IAA9F,EAAoG,eAApG,EAAqH,gBAArH;AACAb,IAAAA,EAAE,CAACS,KAAH,CAASK,aAAT,GAAyB,IAAzB;AACH,GApBI;AAsBLC,EAAAA,kBAtBK,gCAsBiB;AAClB,SAAKX,mBAAL,CAAyBY,MAAzB,GAAkC,IAAlC;AACA,SAAKV,YAAL,CAAkBU,MAAlB,GAA2B,IAA3B;AACA,SAAKT,gBAAL,CAAsBS,MAAtB,GAA+B,KAA/B;AACA,SAAKC,YAAL,CAAkB,KAAKC,YAAvB,EAAqC,EAArC;AACH,GA3BI;AA6BLC,EAAAA,iBA7BK,+BA6BgB;AACjB,SAAKC,UAAL,CAAgB,KAAKF,YAArB;AACA,SAAKd,mBAAL,CAAyBY,MAAzB,GAAkC,KAAlC;AACH,GAhCI;AAkCLK,EAAAA,eAlCK,6BAkCc;AACf,SAAKjB,mBAAL,CAAyBY,MAAzB,GAAkC,IAAlC;AACA,SAAKV,YAAL,CAAkBU,MAAlB,GAA2B,KAA3B;AACA,SAAKT,gBAAL,CAAsBS,MAAtB,GAA+B,IAA/B;AACH,GAtCI;AAwCLE,EAAAA,YAxCK,0BAwCW;AACZ,SAAKZ,YAAL,CAAkBU,MAAlB,GAA2B,KAA3B;AACA,SAAKT,gBAAL,CAAsBS,MAAtB,GAA+B,IAA/B;AACH,GA3CI;AA6CLM,EAAAA,cA7CK,4BA6Ca;AACd,SAAKH,iBAAL;AACH,GA/CI;AAiDLI,EAAAA,KAjDK,mBAiDI,CAER,CAnDI;AAqDLC,EAAAA,SArDK,uBAqDQ;AACT,SAAKJ,UAAL,CAAgB,KAAKF,YAArB;;AACA,QAAI,CAAC,CAAClB,EAAE,CAACS,KAAT,EAAgB;AACZT,MAAAA,EAAE,CAACS,KAAH,CAASK,aAAT,GAAyB,IAAzB;AACH;AACJ,GA1DI,CA2DL;;AA3DK,CAAT","sourceRoot":"/","sourcesContent":["var Log = require(\"Log\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _normalLoadingLayer: cc.Node,\n        _loadingTips: cc.Node,\n        _loadTimeoutTips: cc.Node,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        if (!cc.dgame) {\n            return;\n        }\n        this._normalLoadingLayer = cc.find(\"Canvas/NormalLoadingLayer\");\n        this._loadingTips = cc.find(\"Canvas/NormalLoadingLayer/LoadingTips\");\n        this._loadTimeoutTips = cc.find(\"Canvas/NormalLoadingLayer/LoadTimeoutTips\");\n        cc.dgame.utils.addClickEvent(cc.find(\"Canvas/NormalLoadingLayer/LoadTimeoutTips/btnOK\"), this.node, \"NormalLoading\", \"onBtnOKClicked\");\n        cc.dgame.normalLoading = this;\n    },\n\n    startInvokeWaiting () {\n        this._normalLoadingLayer.active = true;\n        this._loadingTips.active = true;\n        this._loadTimeoutTips.active = false;\n        this.scheduleOnce(this._loadTimeout, 10);\n    },\n\n    stopInvokeWaiting () {\n        this.unschedule(this._loadTimeout);\n        this._normalLoadingLayer.active = false;\n    },\n\n    showLoadTimeout () {\n        this._normalLoadingLayer.active = true;\n        this._loadingTips.active = false;\n        this._loadTimeoutTips.active = true;\n    },\n\n    _loadTimeout () {\n        this._loadingTips.active = false;\n        this._loadTimeoutTips.active = true;\n    },\n\n    onBtnOKClicked () {\n        this.stopInvokeWaiting();\n    },\n\n    start () {\n\n    },\n\n    onDestroy () {\n        this.unschedule(this._loadTimeout);\n        if (!!cc.dgame) {\n            cc.dgame.normalLoading = null;\n        }\n    }\n    // update (dt) {},\n});\n"]}