{"version":3,"sources":["assets/scripts/Game/TestScene.js"],"names":["Types","require","PositionData","Log","GameTable","cc","Class","Component","properties","mainMenuPopup","Node","checkoutExitToast","buyinGoldDialog","withdrawGoldDialog","KALExchangeToGoldDialog","gameReviewPopup","gameReplayPopup","debugInfo","Label","playerPrefab","Prefab","pokerPrefab","potLayer","potNum","RichText","currentPotLayer","currentRoundPotNum","sidePots","sidePotNums","dealerMark","actionIdentifter","replayCurrentRoundPotNum","replaySidePots","replaySidePotNums","tableFor4Layer","playerAnchorsFor4","replayTableFor4Layer","replayPlayerAnchorsFor4","tableFor6Layer","playerAnchorsFor6","replayTableFor6Layer","replayPlayerAnchorsFor6","tableFor8Layer","playerAnchorsFor8","replayTableFor8Layer","replayPlayerAnchorsFor8","tableFor9Layer","playerAnchorsFor9","blindInfo","securityTipsBackground","securityTips","dealPublicCards","replayPublicCards","selfHoleCards","cardType","disabledFold","btnFold","btnCheck","btnCall","callNum","btnFreeRaise","freeRaiseStackNum","btnAllin","allinStackNum","btnHalfPotRaise","halfPotRaiseNum","btnTwoThirdPotRaise","twoThirdPotRaiseNum","btnPotRaise","potRaiseNum","freeRaiseSlider","Slider","betRatio","freeRaiseChipsNum","winlightLayer","normalLoadingLayer","normalLoadingIcon","statics","instance","onLoad","console","log","dgame","tableInfo","i","length","cardNode","instantiate","addChild","poker","getComponent","init","setFaceUp","_initFreeRaiseSlider","schedule","_dispatchGameEvent","RawGameEventQueue","HandQueue","Array","DealCardFlag","AnimationTimerCount","SelfReady","ContractStatus","NOTJOIN","ListenEvents","IsRecover","gameReview","GameResults","GameReplays","updateStatus","_resetGameTable","Debug","JSON","stringify","TableId","undefined","parseInt","director","loadScene","playerTables","playerAnchors","_maxPlayers","_maxPlayerStr","active","winSize","width","height","gametable","find","gametable_long","btnmenu","Widget","updateAlignment","menuv2","convertToWorldSpaceAR","v2","x","y","gametablev2","gametable_longv2","newOriginWorldPT","newNodePT","parent","convertToNodeSpaceAR","setPosition","playerAnchor","newOrg","getPosition","GameTablePlayerAnchorPositions","GameTableLongPlayerAnchorPositions","playerNode","player","initPlayerByTablePos","holeCardsLayer","selfHeadWorldPT","newHoleCardsWorldPT","string","SmallBlind","toString","Straddle","Ante","progress","testCase2","start","handler","_freeRaiseStartPos","_freeRaiseEndPos","on","_onBtnFreeRaiseTouchStart","_onBtnFreeRaiseTouchMove","_onBtnFreeRaiseTouchEnd","StartAction","TurnInfoList","SidePot","Stage","TexasStage","PREFLOP","_dealCardPlayerPosArray","getChildren","SidePotPositions","utils","formatRichText","enable","stopAllin","Trace","testCase0","potPos","sidePotPos","initPlayerInfo","PLAYING","dealCards","holeCard1Pos","holeCard2Pos","dealCardsPlayerMyself","scheduleOnce","hideDealCards","pointsArr","push","getCard","j","dstv2","setCardPoint","flipCard","scale","revealHoleCards","playAllin","setCardType","setWinloss","playerARWorldPt","angle","Math","atan2","PI","foldCards","holecard1ARWorldPt","holecard2ARWorldPt","disable","MaxNum","overflow","Overflow","NONE","node","setContentSize","Size","_forceUpdateRenderData","textWidth","min","floor","RESIZE_HEIGHT","textHeight","opacity","runAction","sequence","delayTime","fadeOut","orgHeight","srcPos","dstPos","sub","mag","lastPos","oldVec","newVec","newHeight","stopAllActions","spawn","scaleTo","rotateBy","signAngle","testCase_","SeatId","dealInfo","_recoverDealInfo","parse"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAK,IAAIyC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,UAAI6D,YAAY,GAAG,KAAKzB,aAAL,CAAmB,KAAKC,WAAxB,EAAqCrC,CAArC,CAAnB;AACA,UAAIkE,UAAU,GAAGjJ,EAAE,CAACkF,WAAH,CAAe,KAAKpE,YAApB,CAAjB;AACA8H,MAAAA,YAAY,CAACzD,QAAb,CAAsB8D,UAAtB;AACA,UAAIC,MAAM,GAAGD,UAAU,CAAC5D,YAAX,CAAwB,QAAxB,CAAb;AACA6D,MAAAA,MAAM,CAACC,oBAAP,CAA4B,KAAK/B,WAAjC,EAA8CrC,CAA9C;AACH;;AACD,SAAK6F,uBAAL,CAA6BoB,IAA7B,CAAkC,CAAlC,EA9JS,CA+JT;AACA;AACA;AACA;;;AACA,SAAKpB,uBAAL,CAA6BoB,IAA7B,CAAkC,CAAlC;;AACAhM,IAAAA,EAAE,CAAC6E,KAAH,CAASC,SAAT,CAAmBuK,MAAnB,GAA4B,CAA5B;AACA,QAAIC,QAAQ,GAAG,yGAAf;;AACA,SAAKC,gBAAL,CAAsB5I,IAAI,CAAC6I,KAAL,CAAWF,QAAX,CAAtB,EAtKS,CAuKT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEA;AACH;AA3pBoB,CAAT,CAAhB","sourceRoot":"/","sourcesContent":["var Types = require('Types');\nvar PositionData = require('PositionData');\nvar Log = require('Log');\n\nvar GameTable = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        //菜单栏\n        mainMenuPopup: cc.Node,         //弹出式主菜单\n        checkoutExitToast: cc.Node,     //结算离桌提示框\n        buyinGoldDialog: cc.Node,       //带入金币对话框\n        withdrawGoldDialog: cc.Node,    //撤回金币对话框\n        KALExchangeToGoldDialog: cc.Node, //KAL转金币对话框\n        gameReviewPopup: cc.Node,       //牌局回顾侧菜单\n        gameReplayPopup: cc.Node,       //牌局回放界面\n        debugInfo: cc.Label,            //调试信息\n        //预制资源\n        playerPrefab: cc.Prefab,        //玩家预制资源\n        pokerPrefab: cc.Prefab,         //牌预制资源\n        //底池区域\n        potLayer: cc.Node,              //底池图层\n        potNum: cc.RichText,            //本局底池筹码数\n        currentPotLayer: cc.Node,       //本轮底池图层\n        currentRoundPotNum: cc.RichText,//本轮下注筹码与底池的总和，即总底池数\n        sidePots: [cc.Node],            //边池图层\n        sidePotNums: [cc.RichText],        //边池筹码数\n        dealerMark: cc.Node,            //庄家标识，BlindInfo盲注信息中有\n        actionIdentifter: cc.Node,      //玩家行动指示标\n        replayCurrentRoundPotNum: cc.Label,   //牌局回放本轮下注筹码与底池的总和，即总底池数\n        replaySidePots: [cc.Node],      //牌局回放边池图层\n        replaySidePotNums: [cc.Label],  //牌局回放边池筹码数\n        //4人桌\n        tableFor4Layer: cc.Node,        //4人桌图层\n        playerAnchorsFor4: [cc.Node],   //4人桌各玩家位置\n        replayTableFor4Layer: cc.Node,  //牌局回放4人桌图层\n        replayPlayerAnchorsFor4: [cc.Node],   //牌局回放4人桌各玩家位置\n        //6人桌\n        tableFor6Layer: cc.Node,        //6人桌图层\n        playerAnchorsFor6: [cc.Node],   //6人桌各玩家位置\n        replayTableFor6Layer: cc.Node,  //牌局回放8人桌图层\n        replayPlayerAnchorsFor6: [cc.Node],   //牌局回放8人桌各玩家位置\n        //8人桌\n        tableFor8Layer: cc.Node,        //8人桌图层\n        playerAnchorsFor8: [cc.Node],   //8人桌各玩家位置\n        replayTableFor8Layer: cc.Node,  //牌局回放8人桌图层\n        replayPlayerAnchorsFor8: [cc.Node],   //牌局回放8人桌各玩家位置\n        //9人桌\n        tableFor9Layer: cc.Node,        //9人桌图层\n        playerAnchorsFor9: [cc.Node],   //9人桌各玩家位置\n        //盲注信息区域\n        blindInfo: cc.Label,\n        securityTipsBackground: cc.Node,\n        securityTips: cc.Label,\n        //公共牌区域\n        dealPublicCards: [cc.Node],     //能发牌、移动翻转的公共牌\n        replayPublicCards: [cc.Node],   //牌局回放公共牌\n        //自身玩家操作区域\n        selfHoleCards: [cc.Node],       //摊牌阶段两张底牌最终位置效果，Allin或到摊牌阶段会翻转显示，即holeCard_1、holeCard_2\n        cardType: cc.Label,             //牌型，无论是否弃牌均显示\n        disabledFold: cc.Node,          //禁用的弃牌，点击后到行动时间时自动弃牌\n        btnFold: cc.Node,               //弃牌，带倒计时\n        btnCheck: cc.Node,              //看牌，带倒计时\n        btnCall: cc.Node,               //跟牌\n        callNum: cc.RichText,           //跟注的筹码数\n        btnFreeRaise: cc.Node,          //自由加注\n        freeRaiseStackNum: cc.Label,    //玩家筹码数\n        btnAllin: cc.Node,              //Allin\n        allinStackNum: cc.Label,        //玩家筹码数\n        btnHalfPotRaise: cc.Node,       //半池加注\n        halfPotRaiseNum: cc.Label,      //半池加注筹码数\n        btnTwoThirdPotRaise: cc.Node,   //2/3底池加注\n        twoThirdPotRaiseNum: cc.Label,  //2/3底池加注筹码数\n        btnPotRaise: cc.Node,           //底池加注\n        potRaiseNum: cc.Label,          //底池加注筹码数\n        freeRaiseSlider: cc.Slider,     //自由加注滑动条\n        betRatio: cc.Label,             //下注筹码占财富额的比例\n        freeRaiseChipsNum: cc.Label,    //自由加注筹码数\n        winlightLayer: cc.Node,         //玩家赢了的动画效果\n        //等待界面\n        normalLoadingLayer: cc.Node,\n        normalLoadingIcon: cc.Node,\n    },\n\n    statics: {\n        instance: null\n    },\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        console.log(\"TestScene: onLoad\");\n        cc.dgame.tableInfo = {\"Ante\":\"0\",\"BuyinMax\":\"40000\",\"BuyinMin\":\"4000\",\"CurrentStatu\":2,\"MaxNum\":9,\"MinNum\":2,\"PlayerNum\":2,\"SmallBlind\":\"100\",\"Straddle\":0,\"TableId\":4222124650659841};\n        for (let i = 0; i < this.selfHoleCards.length; i++) {\n            let cardNode = cc.instantiate(this.pokerPrefab);\n            this.selfHoleCards[i].addChild(cardNode);\n            let poker = cardNode.getComponent('Poker');\n            poker.init(0, 0);\n            poker.setFaceUp(false);\n        }\n        for (let i = 0; i < this.dealPublicCards.length; i++) {\n            let cardNode = cc.instantiate(this.pokerPrefab);\n            this.dealPublicCards[i].addChild(cardNode);\n            let poker = cardNode.getComponent('Poker');\n            poker.init(0, 0);\n            poker.setFaceUp(false);\n        }\n/*        for (let i = 0; i < this.replayPublicCards.length; i++) {\n            let cardNode = cc.instantiate(this.pokerPrefab);\n            this.replayPublicCards[i].addChild(cardNode);\n            let poker = cardNode.getComponent('Poker');\n            poker.init(0, 0);\n            poker.setFaceUp(false);\n            this.replayPublicCards[i].scale = 0.8;\n        }*/\n        this._initFreeRaiseSlider();\n        this.schedule(this._dispatchGameEvent, 1);  //此定时器检测本局游戏玩家及手牌都具备后开始发牌动画\n        cc.dgame.tableInfo.RawGameEventQueue = {};   //以手数为下标的GameEvent消息队列，消息来临时插入手数为HandQueue[len(HandQueue)-1]的消息队列中\n        cc.dgame.tableInfo.HandQueue = new Array();  //手数队列，HandQueue[0]为当前手数，onStartGame时退出第一个，插入新的手数\n        cc.dgame.tableInfo.DealCardFlag = {};        //以手数为下标的发牌标志，收到当前手的BlindInfo和第一个TurnInfo才可以发牌\n        cc.dgame.tableInfo.AnimationTimerCount = 0;    //动画定时器个数，需要长时间动画加一，动画结束减一，_dispatchGameEvent要等此值为零时才处理GameEvent消息\n        cc.dgame.tableInfo.SelfReady = false;\n        cc.dgame.tableInfo.ContractStatus = Types.ContractStatus.NOTJOIN;\n        cc.dgame.tableInfo.ListenEvents = false;\n        cc.dgame.tableInfo.IsRecover = false;\n        this.gameReview = {};\n        this.gameReview.GameResults = new Array();\n        this.gameReview.GameReplays = {};\n        cc.dgame.mainMenuPopup.updateStatus();\n        this._resetGameTable();\n        Log.Debug('[GameTable:onLoad] ' + JSON.stringify(cc.dgame.tableInfo));\n        if (cc.dgame.tableInfo === null || cc.dgame.tableInfo.TableId === null || cc.dgame.tableInfo.TableId === undefined || parseInt(cc.dgame.tableInfo.TableId) == 0) {\n            cc.director.loadScene('GameHall');\n            return;\n        }\n        //座位编号规则：\n        //最底为0号位，自身玩家的位置，后面的位置从0号位开始顺时针按顺序排号，玩家任意选座后会以距离0号位置最近的方向（顺时针/逆时针）旋转至0号位置坐下\n        this.playerTables = {};\n        this.playerAnchors = {};\n        //4人桌各位置使用的预制资源\n        this.playerTables['4'] = this.tableFor4Layer;\n        this.playerAnchors['4'] = this.playerAnchorsFor4;\n        //6人桌各位置使用的预制资源\n        this.playerTables['6'] = this.tableFor6Layer;\n        this.playerAnchors['6'] = this.playerAnchorsFor6;\n        //8人桌各位置使用的预制资源\n        this.playerTables['8'] = this.tableFor8Layer;\n        this.playerAnchors['8'] = this.playerAnchorsFor8;\n        //9人桌各位置使用的预制资源\n        this.playerTables['9'] = this.tableFor9Layer;\n        this.playerAnchors['9'] = this.playerAnchorsFor9;\n        //根据最大玩家数显示各玩家位置\n        this._maxPlayers = 9;\n        this._maxPlayerStr = \"9\";\n        this.playerTables[this._maxPlayerStr].active = true;\n        console.log(\"screen: \" + cc.winSize.width + \"x\" + cc.winSize.height);\n        let gametable = cc.find(\"Canvas/bg_gamehall/bg_gametable\");\n        let gametable_long = cc.find(\"Canvas/bg_gamehall/bg_gametable_long\");\n        let btnmenu = cc.find(\"Canvas/MenuLayer/LeftTopMemuLayer/BtnMainMenu\");\n        btnmenu.getComponent(cc.Widget).updateAlignment();  //使对齐生效，否则下面获取到的还是原设计的坐标\n        let menuv2 = btnmenu.convertToWorldSpaceAR(cc.v2(0, 0));\n        console.log(\"btnMenu: (\" + menuv2.x + \", \" + menuv2.y + \"), \" + btnmenu.width + \"x\" + btnmenu.height);\n        let gametablev2 = gametable.convertToWorldSpaceAR(cc.v2(0, 0));\n        console.log(\"gametable: (\" + gametablev2.x + \", \" + gametablev2.y + \"), \" + gametable.width + \"x\" + gametable.height);\n        let gametable_longv2 = gametable_long.convertToWorldSpaceAR(cc.v2(0, 0));\n        console.log(\"gametable_long: (\" + gametable_longv2.x + \", \" + gametable_longv2.y + \"), \" + gametable_long.width + \"x\" + gametable_long.height);\n        let newOriginWorldPT = null;\n        if (cc.winSize.height / cc.winSize.width > 2) {\n            gametable.active = false;\n            gametable_long.active = true;\n            newOriginWorldPT = cc.v2(gametable_longv2.x, (menuv2.y - btnmenu.height / 2)/2);\n            console.log(\"newOriginWorldPT: (\" + newOriginWorldPT.x + \", \" + newOriginWorldPT.y + \")\");\n            let newNodePT = gametable_long.parent.convertToNodeSpaceAR(newOriginWorldPT);\n            console.log(\"newNodePT: (\" + newNodePT.x + \", \" + newNodePT.y + \")\");\n            gametable_long.setPosition(gametable_long.parent.convertToNodeSpaceAR(newOriginWorldPT));\n        } else {\n            gametable.active = true;\n            gametable_long.active = false;\n            newOriginWorldPT = cc.v2(gametablev2.x, (menuv2.y - btnmenu.height / 2)/2);\n            console.log(\"newOriginWorldPT: (\" + newOriginWorldPT.x + \", \" + newOriginWorldPT.y + \")\");\n            let newNodePT = gametable_long.parent.convertToNodeSpaceAR(newOriginWorldPT);\n            console.log(\"newNodePT: (\" + newNodePT.x + \", \" + newNodePT.y + \")\");\n            gametable.setPosition(gametable.parent.convertToNodeSpaceAR(newOriginWorldPT));\n        }\n        for (var i = 0; i < this._maxPlayers; i++) {\n            let playerAnchor = this.playerAnchors[this._maxPlayerStr][i];\n            if (gametable.active) {\n                let newOrg = gametable.getPosition();\n                playerAnchor.setPosition(PositionData.GameTablePlayerAnchorPositions[i].x + newOrg.x, PositionData.GameTablePlayerAnchorPositions[i].y + newOrg.y);\n                console.log(\"player \" + i + \", from: (\" + PositionData.GameTablePlayerAnchorPositions[i].x + \", \" + PositionData.GameTablePlayerAnchorPositions[i].y + \") to (\" + (PositionData.GameTablePlayerAnchorPositions[i].x + newOrg.x) + \", \" + (PositionData.GameTablePlayerAnchorPositions[i].y + newOrg.y) + \")\");\n            } else {\n                let newOrg = gametable_long.getPosition();\n                playerAnchor.setPosition(PositionData.GameTableLongPlayerAnchorPositions[i].x + newOrg.x, PositionData.GameTableLongPlayerAnchorPositions[i].y + newOrg.y);\n                console.log(\"player \" + i + \", from: (\" + PositionData.GameTableLongPlayerAnchorPositions[i].x + \", \" + PositionData.GameTableLongPlayerAnchorPositions[i].y + \") to (\" + (PositionData.GameTableLongPlayerAnchorPositions[i].x + newOrg.x) + \", \" + (PositionData.GameTableLongPlayerAnchorPositions[i].y + newOrg.y) + \")\");\n            }\n            let playerNode = cc.instantiate(this.playerPrefab);\n            playerAnchor.addChild(playerNode);\n            let player = playerNode.getComponent('Player');\n            player.initPlayerByTablePos(this._maxPlayers, i);\n            // player.startCountDown(15);\n            if (i == 0) {\n                let holeCardsLayer = cc.find(\"Canvas/HoldCardsLayer\");\n                let selfHeadWorldPT = playerAnchor.convertToWorldSpaceAR(cc.v2(0, 0));\n                let newHoleCardsWorldPT = cc.v2(selfHeadWorldPT.x, selfHeadWorldPT.y + 168);//168=牌高度一半+牌和头30+头高度一半\n                holeCardsLayer.setPosition(holeCardsLayer.parent.convertToNodeSpaceAR(newHoleCardsWorldPT));\n                //player.btnBackToPlay.active = true;\n                //var seq = cc.sequence(cc.moveBy(0.5, 200, 0), cc.moveBy(0.5, -200, 0));                \n                //playerNode.runAction(seq);\n//                var spawn = cc.spawn(cc.moveBy(0.5, 0, 50), cc.scaleTo(0.5, 0.8, 1.4));\n//                playerNode.runAction(spawn);\n            }\n        }\n        //显示牌局盲注信息\n        this.blindInfo.string = cc.dgame.tableInfo.SmallBlind + '/' + (cc.dgame.tableInfo.SmallBlind * 2).toString();\n        if (cc.dgame.tableInfo.Straddle !== 0) {\n            this.blindInfo.string += '/' + (cc.dgame.tableInfo.SmallBlind * 4).toString();\n        }\n        if (cc.dgame.tableInfo.Ante > 0) {\n            this.blindInfo.string += '(' + cc.dgame.tableInfo.Ante + ')';\n        }\n        this.freeRaiseSlider.progress = 0;\n        this.potLayer.active = true;\n        this.currentPotLayer.active = true;\n        this.testCase2();\n    },\n\n    start () {\n\n    },\n\n    //自由加注滑动条初始化\n    _initFreeRaiseSlider () {\n        let handler = cc.find('Canvas/OperatePanelLayer/btnFreeRaise/RaiseSlider/Handle');\n        this.freeRaiseSlider.progress = 0;\n        this._freeRaiseStartPos = handler.convertToWorldSpaceAR(cc.v2(0, 0));\n        this.freeRaiseSlider.progress = 1;\n        this._freeRaiseEndPos = handler.convertToWorldSpaceAR(cc.v2(0, 0));\n        this.freeRaiseSlider.progress = 0;\n        this.btnFreeRaise.on('touchstart', this._onBtnFreeRaiseTouchStart, this);\n        this.btnFreeRaise.on('touchmove', this._onBtnFreeRaiseTouchMove, this);\n        this.btnFreeRaise.on('touchend', this._onBtnFreeRaiseTouchEnd, this);\n        this.btnFreeRaise.on('touchcancel', this._onBtnFreeRaiseTouchEnd, this);\n    },\n\n    //重置牌桌信息\n    _resetGameTable () {\n        cc.dgame.tableInfo.StartAction = false;    //_handleBlindInfo置为true\n        cc.dgame.tableInfo.TurnInfoList = new Array;    //用于计算上个玩家操作了什么Action\n        cc.dgame.tableInfo.SidePot = new Array();\n        cc.dgame.tableInfo.Stage = Types.TexasStage.PREFLOP;\n        this._dealCardPlayerPosArray = new Array;\n        //公共牌牌面向下并隐藏\n        for (let i = 0; i < this.dealPublicCards.length; i++) {\n            let poker = this.dealPublicCards[i].getChildren()[0].getComponent('Poker');\n            poker.setFaceUp(false);\n            this.dealPublicCards[i].active = false;\n        }\n        //边池重置\n        for (let i = 0; i < this.sidePots.length; i++) {\n            this.sidePots[i].setPosition(PositionData.SidePotPositions[i].x, PositionData.SidePotPositions[i].y);\n            this.sidePotNums[i].string = cc.dgame.utils.formatRichText(0, \"#FFBC1D\", true, false);\n            this.sidePots[i].active = false;\n        }\n        this.selfHoleCards[0].active = false;\n        this.selfHoleCards[1].active = false;\n        this.selfHoleCards[0].getChildren()[0].getComponent('Poker').enable();\n        this.selfHoleCards[1].getChildren()[0].getComponent('Poker').enable();\n        this.selfHoleCards[0].getChildren()[0].getComponent('Poker').stopAllin();\n        this.selfHoleCards[1].getChildren()[0].getComponent('Poker').stopAllin();\n        this.potLayer.active = false;\n        this.currentPotLayer.active = false;\n        if (cc.dgame.tableInfo.AnimationTimerCount > 0) {\n            cc.dgame.tableInfo.AnimationTimerCount--;\n            Log.Trace('[_resetGameTable] AnimationTimerCount(-1): ' + cc.dgame.tableInfo.AnimationTimerCount);\n        }\n    },\n\n    _dispatchGameEvent () {\n    },\n\n    testCase0 () {\n        let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n        let sidePotPos = cc.find('Canvas/PotLayer/SidePotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n        for (let i = 0; i < cc.dgame.tableInfo.MaxNum; i++) {\n            let playerAnchor = this.playerAnchors[this._maxPlayerStr][i];\n            let player = playerAnchor.getChildren()[0].getComponent('Player');\n            player.initPlayerInfo(i, '', 'test' + i, (i+1) * 1000, Types.ContractStatus.PLAYING);\n            if (i != 0) {\n                player.dealCards(0.05 * i, 0.05 * this._maxPlayers + 0.05 * i, potPos, 0.2);\n            } else {\n                let holeCard1Pos = cc.find('Canvas/HoldCardsLayer/HoldCard_1').convertToWorldSpaceAR(cc.v2(0, 0));\n                let holeCard2Pos = cc.find('Canvas/HoldCardsLayer/HoldCard_2').convertToWorldSpaceAR(cc.v2(0, 0));\n                player.dealCardsPlayerMyself(0.05 * i, 0.05 * this._maxPlayers + 0.05 * i, potPos, holeCard1Pos, holeCard2Pos, 0.2, 1);\n                this.scheduleOnce(function () {\n                    player.hideDealCards();\n                    let pointsArr = new Array;\n                    pointsArr.push(cc.dgame.utils.getCard('红心K'));\n                    pointsArr.push(cc.dgame.utils.getCard('红心A'));\n                    for (let j = 0; j < this.selfHoleCards.length; j++) {\n                        this.selfHoleCards[j].active = true;\n                        let poker = this.selfHoleCards[j].getChildren()[0].getComponent('Poker');\n                        let dstv2 = this.selfHoleCards[j].convertToWorldSpaceAR(cc.v2(0, 0));\n                        poker.setCardPoint(pointsArr[j]);\n                        poker.flipCard(dstv2, this.selfHoleCards[j].scale);\n                        poker.setFaceUp(true);\n                    }\n                }, 4);\n            }\n            if (i % 2 != 0) {\n                this.scheduleOnce(function () {\n                    player.revealHoleCards(cc.dgame.utils.getCard('黑桃K'), cc.dgame.utils.getCard('黑桃A'))\n                    this.selfHoleCards[0].getChildren()[0].getComponent('Poker').playAllin();\n                    this.selfHoleCards[1].getChildren()[0].getComponent('Poker').playAllin();\n                }, 4);\n            }\n            this.scheduleOnce(function () {\n                if (i == 0) {\n                    player.setCardType(\"Royal flush\");\n                } else if (i == 1) {\n                    player.setCardType(\"Straight flush\");\n                } else if (i == 2) {\n                    player.setCardType(\"Four of a kind\");\n                } else if (i == 3) {\n                    player.setCardType(\"Full house\");\n                } else if (i == 4) {\n                    player.setCardType(\"Flush\");\n                } else if (i == 5) {\n                    player.setCardType(\"Straight\");\n                } else if (i == 6) {\n                    player.setCardType(\"Three of a kind\");\n                } else if (i == 7) {\n                    player.setCardType(\"Two pairs\");\n                } else if (i == 8) {\n                    player.setCardType(\"One pair\");\n                }\n                player.setWinloss(\"+1000\");\n            });\n            if (i != 0) {\n                this.scheduleOnce(function () {\n                    let playerARWorldPt = playerAnchor.convertToWorldSpaceAR(cc.v2(0, 0));\n                    let angle = Math.atan2(sidePotPos.y - playerARWorldPt.y, sidePotPos.x - playerARWorldPt.x) * 180 / Math.PI - 90;\n                    player.foldCards(playerARWorldPt, playerARWorldPt, sidePotPos, angle, 0.5);\n                }, 12);\n            } else {\n                this.scheduleOnce(function () {\n                    let holecard1ARWorldPt = this.selfHoleCards[0].convertToWorldSpaceAR(cc.v2(0, 0));\n                    let holecard2ARWorldPt = this.selfHoleCards[1].convertToWorldSpaceAR(cc.v2(0, 0));\n                    player.foldCards(holecard1ARWorldPt, holecard2ARWorldPt, sidePotPos, 0, 1);\n                    this.selfHoleCards[0].getChildren()[0].getComponent('Poker').disable();\n                    this.selfHoleCards[1].getChildren()[0].getComponent('Poker').disable();\n                    this.selfHoleCards[0].getChildren()[0].getComponent('Poker').stopAllin();\n                    this.selfHoleCards[1].getChildren()[0].getComponent('Poker').stopAllin();\n                }, 12);\n            }\n        }\n    },\n\n    testCase2 () {\n        this.securityTips.string = \"Hello world\";\n        // 计算宽\n        this.securityTips.overflow = cc.Label.Overflow.NONE;\n        this.securityTips.node.setContentSize(new cc.Size(0, 42));\n        this.securityTips._forceUpdateRenderData();\n        let textWidth = Math.min(this.securityTips.node.width, 450);\n        textWidth = Math.floor(textWidth / 30) * 30;\n\n        // 计算高\n        this.securityTips.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\n        this.securityTips.node.setContentSize(new cc.Size(textWidth, 0));\n        this.securityTips._forceUpdateRenderData();\n        let textHeight = this.securityTips.node.height;\n\n        this.securityTips.node.width = textWidth;\n        this.securityTips.node.height = textHeight;\n\n        this.securityTipsBackground.parent.active = true;\n        this.securityTipsBackground.width = this.securityTips.node.width + 60;\n        this.securityTipsBackground.height = this.securityTips.node.height + 15;\n        if (this.securityTipsBackground.parent.opacity == 255) {\n            this.securityTipsBackground.parent.runAction(\n                cc.sequence(\n                    cc.delayTime(1.5),\n                    cc.fadeOut(1),\n                )\n            );\n        }\n        this.scheduleOnce(function () {\n            console.log(\"this.securityTipsBackground: \" + this.securityTipsBackground);\n            console.log(\"this.securityTips: \" + this.securityTips);\n        }, 5);\n        this.scheduleOnce(function () {\n            //this.currentPotLayer.active = false;\n            this.currentRoundPotNum.string = cc.dgame.utils.formatRichText(\"300\", \"#ffffff\", true, false);\n            this.currentRoundPotNum.node.opacity = 153;\n            //this.currentPotLayer.active = true;\n        }, 4);\n        this.scheduleOnce(function () {\n            //this.currentPotLayer.active = false;\n            this.currentRoundPotNum.string = cc.dgame.utils.formatRichText(400, \"#ffffff\", true, false);\n            this.currentRoundPotNum.node.opacity = 153;\n            //this.currentPotLayer.active = true;\n        }, 8);\n        this.scheduleOnce(function () {\n            //this.currentPotLayer.active = false;\n            this.currentRoundPotNum.string = cc.dgame.utils.formatRichText(500, \"#ffffff\", true, false);\n            this.currentRoundPotNum.node.opacity = 153;\n            //this.currentPotLayer.active = true;\n        }, 12);\n        this.actionIdentifter.active = true;\n        let orgHeight = this.actionIdentifter.height;\n        let srcPos = this.actionIdentifter.convertToWorldSpaceAR(cc.v2(0, 0));\n        let playerAnchor = this.playerAnchors[this._maxPlayerStr][0];\n        let dstPos = playerAnchor.convertToWorldSpaceAR(cc.v2(0, 0));\n        this.actionIdentifter.height = dstPos.sub(srcPos).mag() + 140 / 2;\n        for (let i = 0; i < this._maxPlayers; i+=2) {\n            this.scheduleOnce(function () {\n                let srcPos = this.actionIdentifter.convertToWorldSpaceAR(cc.v2(0, 0));\n                let dstPos = this.playerAnchors[this._maxPlayerStr][(i+2) % this._maxPlayers].convertToWorldSpaceAR(cc.v2(0, 0));\n                let lastPos = this.playerAnchors[this._maxPlayerStr][i].convertToWorldSpaceAR(cc.v2(0, 0));\n                let oldVec = lastPos.sub(srcPos);\n                let newVec = dstPos.sub(srcPos);\n                let newHeight = dstPos.sub(srcPos).mag() + 135 / 2;\n                this.actionIdentifter.stopAllActions();\n                this.actionIdentifter.height = orgHeight;\n                this.actionIdentifter.runAction(\n                    cc.spawn(\n                        cc.scaleTo(0.2, 1, newHeight / orgHeight),\n                        cc.rotateBy(0.2, oldVec.signAngle(newVec) / Math.PI * 180),\n                    )\n                );\n            }, 2 * (i+1));\n        }\n    },\n\n    testCase_ () {\n        cc.dgame.tableInfo = {};\n        this._resetGameTable();\n        this._maxPlayers = 8;\n        this._maxPlayerStr = this._maxPlayers + '';\n        this.playerTables = {};\n        this.playerAnchors = {};\n        //4人桌各位置使用的预制资源\n        this.playerTables[this._maxPlayers] = this.tableFor8Layer;\n        this.playerTables[this._maxPlayers].active = true;\n        this.playerAnchors[this._maxPlayers] = this.playerAnchorsFor8;\n        // this._selfPlayerWin(true);\n        // this.scheduleOnce(function () {\n        //     this._selfPlayerWin(false);\n        // }, 4);\n//         let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n//         let sidePotPos = cc.find('Canvas/PotLayer/SidePotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n//         for (var i = 0; i < 8; i++) {\n//             let playerAnchor = this.playerAnchors[this._maxPlayers][i];\n//             let playerNode = cc.instantiate(this.playerPrefab);\n//             playerAnchor.addChild(playerNode);\n//             let player = playerNode.getComponent('Player');\n//             player.initPlayerByTablePos(this._maxPlayers, i);\n//             // if (i == 5) {\n//             //     player.initPlayerInfo(5, '', test', 2000, Types.ContractStatus.SEATED);\n//             // } else {\n//                 player.initPlayerInfo(i, '', 'test' + i, (i+1) * 1000, Types.ContractStatus.SEATED);\n//                 // if (i != 0) {\n//                 //     player.dealCards(0.05 * i, 0.05 * 8 + 0.05 * i, potPos, 0.2);\n//                 // } else {\n//                 //     let holeCard1Pos = cc.find('Canvas/HoldCardsLayer/HoldCard_1').convertToWorldSpaceAR(cc.v2(0, 0));\n//                 //     let holeCard2Pos = cc.find('Canvas/HoldCardsLayer/HoldCard_2').convertToWorldSpaceAR(cc.v2(0, 0));\n//                 //     player.dealCardsPlayerMyself(0.05 * i, 0.05 * 8 + 0.05 * i, potPos, holeCard1Pos, holeCard2Pos, 0.2, 1);\n//                 //     this.scheduleOnce(function () {\n//                 //         player.hideDealCards();\n//                 //         let pointsArr = new Array;\n//                 //         pointsArr.push(cc.dgame.utils.getCard('红心K'));\n//                 //         pointsArr.push(cc.dgame.utils.getCard('红心A'));\n//                 //         for (let j = 0; j < this.selfHoleCards.length; j++) {\n//                 //             let poker = this.selfHoleCards[j].getChildren()[0].getComponent('Poker');\n//                 //             let dstv2 = this.selfHoleCards[j].convertToWorldSpaceAR(cc.v2(0, 0));\n//                 //             poker.setCardPoint(pointsArr[j]);\n//                 //             poker.flipCard(dstv2, this.selfHoleCards[j].scale);\n//                 //             this.selfHoleCards[j].active = true;\n//                 //         }\n//                 //     }, 4);\n//                 // }\n//                 // if (i % 2 != 0) {\n//                 //     this.scheduleOnce(function () {\n//                 //         player.revealHoleCards(cc.dgame.utils.getCard('黑桃K'), cc.dgame.utils.getCard('黑桃A'))\n//                 //         this.selfHoleCards[0].getChildren()[0].getComponent('Poker').playAllin();\n//                 //         this.selfHoleCards[1].getChildren()[0].getComponent('Poker').playAllin();\n//                 //     }, 4);\n//                 // }\n//                 // if (i != 0) {\n//                 //     this.scheduleOnce(function () {\n//                 //         let playerARWorldPt = playerAnchor.convertToWorldSpaceAR(cc.v2(0, 0));\n//                 //         let angle = Math.atan2(sidePotPos.y - playerARWorldPt.y, sidePotPos.x - playerARWorldPt.x) * 180 / Math.PI - 90;\n//                 //         player.foldCards(playerARWorldPt, playerARWorldPt, sidePotPos, angle, 0.5);\n//                 //     }, 8);\n//                 // } else {\n//                 //     this.scheduleOnce(function () {\n//                 //         let holecard1ARWorldPt = this.selfHoleCards[0].convertToWorldSpaceAR(cc.v2(0, 0));\n//                 //         let holecard2ARWorldPt = this.selfHoleCards[1].convertToWorldSpaceAR(cc.v2(0, 0));\n//                 //         player.foldCards(holecard1ARWorldPt, holecard2ARWorldPt, sidePotPos, 0, 1);\n//                 //         this.selfHoleCards[0].getChildren()[0].getComponent('Poker').disable();\n//                 //         this.selfHoleCards[1].getChildren()[0].getComponent('Poker').disable();\n//                 //         this.selfHoleCards[0].getChildren()[0].getComponent('Poker').stopAllin();\n//                 //         this.selfHoleCards[1].getChildren()[0].getComponent('Poker').stopAllin();\n//                 //     }, 8);\n//                 // }\n//                 player.setBet((i+1) * 100);\n//                 this.scheduleOnce(function () {\n//                     player.chipsToPot();\n//                 }, 3);\n//                 // this.scheduleOnce(function () {\n//                 //     player.winPot(potPos, 2);\n//                 // }, 4);\n//                 // this.scheduleOnce(function () {\n//                 //     player.winPot(potPos, 1);\n//                 // }, 5);\n//                 if (i == 0) {\n//                     this.playerMyself = playerNode;\n//                     // player.setWinlight();\n//                     // this.scheduleOnce(function () {\n//                     //     player.hideWinlight();\n//                     // }, 4);\n//                     //this.btnFreeRaise.active = true;\n//                     //player.setFreeRaise();\n//                     // player.setBet((i+1) * 100);\n//                     // player.setDealerMark();\n//                     // this.scheduleOnce(function () {\n//                     //     player.hideBet();\n//                     //     player.setBet(5000);\n//                     // }, 5);\n//                     // this.scheduleOnce(function () {\n//                     //     player.hideBet();\n//                     //     player.setBet(8000);\n//                     // }, 8);\n//                 }\n\n// //            }\n//         }\n\n//         this.scheduleOnce(function () {\n//             let sidePot = [8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000];\n//             if (sidePot.length == 0) {\n//                 this.potNum.string = totalPotNum - turnPotNum;\n//             } else {\n//                 let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n//                 this.potLayer.active = true;\n//                 this.potNum.string = sidePot[0];\n//                 let srcv2 = this.sidePots[0].parent.convertToNodeSpaceAR(potPos);\n//                 for (let i = 1; i < sidePot.length; i++) {\n//                     if (this.sidePots[i - 1].active == false) {\n//                         let dstv2 = this.sidePots[i - 1].getPosition();\n//                         this.sidePots[i - 1].setPosition(srcv2);\n//                         this.sidePots[i - 1].active = true;\n//                         this.sidePotNums[i - 1].string = sidePot[i];\n//                         this.sidePots[i - 1].runAction(\n//                             cc.moveTo(0.2, dstv2),\n//                         );\n//                     } \n//                 }\n//                 this.potNum.string = sidePot[0];\n//             }\n//         }, 2);\n//         this.scheduleOnce(function () {\n//             let obj = [\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500},{\"Seat\":1,\"Win\":1000},{\"Seat\":2,\"Win\":1000},{\"Seat\":3,\"Win\":1000},{\"Seat\":4,\"Win\":1000},{\"Seat\":5,\"Win\":1000},{\"Seat\":6,\"Win\":1000},{\"Seat\":7,\"Win\":1000}],\"PotValue\":8000},\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500},{\"Seat\":5,\"Win\":1000}],\"PotValue\":7000},\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500},{\"Seat\":2,\"Win\":1000}],\"PotValue\":6000},\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500},{\"Seat\":3,\"Win\":1000}],\"PotValue\":5000},\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500},{\"Seat\":6,\"Win\":1000}],\"PotValue\":4000},\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500},{\"Seat\":7,\"Win\":1000}],\"PotValue\":3000},\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500},{\"Seat\":1,\"Win\":1000},{\"Seat\":2,\"Win\":1000},{\"Seat\":3,\"Win\":1000},{\"Seat\":4,\"Win\":1000},{\"Seat\":5,\"Win\":1000},{\"Seat\":6,\"Win\":1000},{\"Seat\":7,\"Win\":1000}],\"PotValue\":2000},\n//                 {\"Allot\":[{\"Seat\":0,\"Win\":3500}],\"PotValue\":1000},\n//             ];\n//             this._potsToPlayers(obj);\n//         }, 3);\n        // this.dealCards[0].opacity = 255;\n        // this.dealCards[1].opacity = 255;\n        // this.dealCards[0].scale = 1;\n        // this.dealCards[1].scale = 1;\n        // this._dealCardPlayerPosArray.push(0);\n        // this._dealCardsInfo = {};\n        // this._dealCardsInfo.scale = new Array();\n        // this._dealCardsInfo.scale.push(1);\n        // this._dealCardsInfo.scale.push(1);\n        // this.scheduleOnce(this._selfPlayerFlipCards, 3);\n        // cc.dgame.tableInfo.SeatId = 0;\n        for (var i = 0; i < 8; i++) {\n            let playerAnchor = this.playerAnchors[this._maxPlayers][i];\n            let playerNode = cc.instantiate(this.playerPrefab);\n            playerAnchor.addChild(playerNode);\n            let player = playerNode.getComponent('Player');\n            player.initPlayerByTablePos(this._maxPlayers, i);\n        }\n        this._dealCardPlayerPosArray.push(0);\n        // this._dealCardPlayerPosArray.push(1);\n        // this._dealCardPlayerPosArray.push(2);\n        // this._dealCardPlayerPosArray.push(3);\n        // this._dealCardPlayerPosArray.push(4);\n        this._dealCardPlayerPosArray.push(5);\n        cc.dgame.tableInfo.SeatId = 5;\n        var dealInfo = '{\"DeskCard\":{\"publicCard\":[],\"publicIndex\":[]},\"SelfCard\":{\"privateCard\":[11,26],\"privateIndex\":[2,3]}}';\n        this._recoverDealInfo(JSON.parse(dealInfo));\n        // this._dealCardPlayerPosArray.push(6);\n        // this._dealCardPlayerPosArray.push(7);\n        // this.scheduleOnce(function () {\n        //     this._dealFlopCards(cc.dgame.utils.getCard('黑桃Q'), cc.dgame.utils.getCard('黑桃K'), cc.dgame.utils.getCard('黑桃A'));\n        // }, 1.5);\n        // this.scheduleOnce(function () {\n        //     this._dealTurnCard(cc.dgame.utils.getCard('红心Q'));\n        // }, 3.5);\n        // this.scheduleOnce(function () {\n        //     this._dealRiverCard(cc.dgame.utils.getCard('红心A'));\n        // }, 5.5);\n        // this.scheduleOnce(this._dealCards, 4);\n        // cc.dgame.tableInfo.TurnInfo = {};\n        // cc.dgame.tableInfo.TurnInfo.HandCard = ['红心K', '红心A'];\n        // cc.dgame.tableInfo.SeatId = 5;\n        // this.scheduleOnce(this._shiftPlayerSeat, 2);\n        // this.scheduleOnce(function () {\n        //     this._dealFlopCards(cc.dgame.utils.getCard('黑桃Q'), cc.dgame.utils.getCard('黑桃K'), cc.dgame.utils.getCard('黑桃A'));\n        // }, 1);\n        // this.scheduleOnce(function () {\n        //     this._dealTurnCard(cc.dgame.utils.getCard('红心Q'));\n        // }, 2);\n        // this.scheduleOnce(function () {\n        //     this._dealRiverCard(cc.dgame.utils.getCard('红心A'));\n        //     for (let i = 0; i < this._maxPlayers; i++) {\n        //         let pos = this.playerAnchors[this._maxPlayers][i].getChildren()[0].getComponent('Player').getDealerMarkPos();\n        //         Log.Trace('dealer ' + i + ' worldpt: (' + pos.x + ', ' + pos.y + ')');\n        //         if (i == 0) {\n        //             this.dealerMark.setPosition(this.dealerMark.parent.convertToNodeSpaceAR(pos));\n        //             this.dealerMark.active = true;\n        //         } else if (i == 5) {\n        //             this.scheduleOnce(function () {\n        //                 this.dealerMark.setPosition(this.dealerMark.parent.convertToNodeSpaceAR(pos));\n        //                 this.dealerMark.active = true;\n        //             }, 1);\n        //         } else {\n        //             this.playerAnchors[this._maxPlayers][i].getChildren()[0].getComponent('Player').disable();\n        //             this.playerAnchors[this._maxPlayers][i].getChildren()[0].getComponent('Player').startAutoCheckoutCountDown(180);\n        //             this.playerAnchors[this._maxPlayers][i].getChildren()[0].getComponent('Player').showAction(Types.PlayerOP.STANDBY);\n        //         }\n        //     }\n        // }, 3);\n        // this.btnFreeRaise.active = true;\n        // this.btnFreeRaise.on('touchstart', this._onBtnFreeRaiseTouchStart, this);\n        // this.btnFreeRaise.on('touchmove', this._onBtnFreeRaiseTouchMove, this);\n        // this.btnFreeRaise.on('touchend', this._onBtnFreeRaiseTouchEnd, this);\n        // this.btnFreeRaise.on('touchcancel', this._onBtnFreeRaiseTouchEnd, this);\n        // player.setStack('1000');\n        // this.scheduleOnce(function() {\n        //     let stack = player.getStack();\n        //     Log.Trace(stack);\n        //     player.setStack(stack - parseFloat(2));\n        // }, 3);\n\n        // player.initPlayerInfo(1, '', helloworld', 1000, 3);\n        // player.hideAllActions();\n        // this.scheduleOnce(function () {\n        //     Log.Trace('+100');\n        //     player.setWinloss('+100');\n        // }, 3);\n        // this.scheduleOnce(function () {\n        //     Log.Trace('nickname');\n        //     player.hideWinloss();\n        // }, 6);\n\n        // player.setBet(5);\n        // this.scheduleOnce(function () {\n        //     player.setBet(10);\n        // }, 3);\n\n        return;\n    },\n});\n"]}