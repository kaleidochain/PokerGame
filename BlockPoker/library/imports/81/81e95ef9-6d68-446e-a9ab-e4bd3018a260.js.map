{"version":3,"sources":["assets/scripts/Game/SecurityInfoItem.js"],"names":["Log","require","cc","Class","Component","properties","layoutBackground","Node","securityTips","Label","init","string","overflow","Overflow","NONE","node","setContentSize","Size","_forceUpdateRenderData","textWidth","Math","min","width","round","RESIZE_HEIGHT","textHeight","height","parent","Trace","start"],"mappings":";;;;;;AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAjB,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,gBAAgB,EAAEJ,EAAE,CAACK,IADb;AAERC,IAAAA,YAAY,EAAEN,EAAE,CAACO;AAFT,GAHP;AAQL;AAEA;AAEA;AACAC,EAAAA,IAbK,gBAaCF,YAbD,EAae;AAChB,SAAKA,YAAL,CAAkBG,MAAlB,GAA2BH,YAA3B,CADgB,CAEhB;;AACA,SAAKA,YAAL,CAAkBI,QAAlB,GAA6BV,EAAE,CAACO,KAAH,CAASI,QAAT,CAAkBC,IAA/C;AACA,SAAKN,YAAL,CAAkBO,IAAlB,CAAuBC,cAAvB,CAAsC,IAAId,EAAE,CAACe,IAAP,CAAY,CAAZ,EAAe,EAAf,CAAtC;;AACA,SAAKT,YAAL,CAAkBU,sBAAlB;;AACA,QAAIC,SAAS,GAAGC,IAAI,CAACC,GAAL,CAAS,KAAKb,YAAL,CAAkBO,IAAlB,CAAuBO,KAAhC,EAAuC,GAAvC,CAAhB;AACAH,IAAAA,SAAS,GAAGC,IAAI,CAACG,KAAL,CAAWJ,SAAS,GAAG,EAAvB,IAA6B,EAAzC,CAPgB,CAShB;;AACA,SAAKX,YAAL,CAAkBI,QAAlB,GAA6BV,EAAE,CAACO,KAAH,CAASI,QAAT,CAAkBW,aAA/C;AACA,SAAKhB,YAAL,CAAkBO,IAAlB,CAAuBC,cAAvB,CAAsC,IAAId,EAAE,CAACe,IAAP,CAAYE,SAAZ,EAAuB,CAAvB,CAAtC;;AACA,SAAKX,YAAL,CAAkBU,sBAAlB;;AACA,QAAIO,UAAU,GAAG,KAAKjB,YAAL,CAAkBO,IAAlB,CAAuBW,MAAxC;AAEA,SAAKlB,YAAL,CAAkBO,IAAlB,CAAuBO,KAAvB,GAA+BH,SAA/B;AACA,SAAKX,YAAL,CAAkBO,IAAlB,CAAuBW,MAAvB,GAAgCD,UAAhC;AAEA,SAAKnB,gBAAL,CAAsBoB,MAAtB,GAA+B,KAAKlB,YAAL,CAAkBO,IAAlB,CAAuBW,MAAvB,GAAgC,EAA/D;AACA,SAAKpB,gBAAL,CAAsBqB,MAAtB,CAA6BD,MAA7B,GAAsC,KAAKlB,YAAL,CAAkBO,IAAlB,CAAuBW,MAAvB,GAAgC,EAAtE;AACA1B,IAAAA,GAAG,CAAC4B,KAAJ,CAAU,oCAAoC,KAAKpB,YAAL,CAAkBO,IAAlB,CAAuBO,KAA3D,GAAmE,YAAnE,GAAkF,KAAKd,YAAL,CAAkBO,IAAlB,CAAuBW,MAAzG,GAAkH,aAAlH,GAAkIlB,YAA5I;AACH,GAlCI;AAoCLqB,EAAAA,KApCK,mBAoCI,CAER,CAtCI,CAwCL;;AAxCK,CAAT","sourceRoot":"/","sourcesContent":["var Log = require(\"Log\");\n\n// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        layoutBackground: cc.Node,\n        securityTips: cc.Label,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    //https://blog.csdn.net/honey199396/article/details/98235800\n    init (securityTips) {\n        this.securityTips.string = securityTips;\n        // 计算宽\n        this.securityTips.overflow = cc.Label.Overflow.NONE;\n        this.securityTips.node.setContentSize(new cc.Size(0, 42));\n        this.securityTips._forceUpdateRenderData();\n        let textWidth = Math.min(this.securityTips.node.width, 420);\n        textWidth = Math.round(textWidth / 30) * 30;\n\n        // 计算高\n        this.securityTips.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\n        this.securityTips.node.setContentSize(new cc.Size(textWidth, 0));\n        this.securityTips._forceUpdateRenderData();\n        let textHeight = this.securityTips.node.height;\n\n        this.securityTips.node.width = textWidth;\n        this.securityTips.node.height = textHeight;\n\n        this.layoutBackground.height = this.securityTips.node.height + 27;\n        this.layoutBackground.parent.height = this.securityTips.node.height + 27;\n        Log.Trace(\"[SecurityInfoItem:init] width: \" + this.securityTips.node.width + \", height: \" + this.securityTips.node.height + \", content: \" + securityTips);\n    },\n\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n"]}