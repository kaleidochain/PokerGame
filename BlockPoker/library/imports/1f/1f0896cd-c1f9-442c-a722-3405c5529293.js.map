{"version":3,"sources":["assets/scripts/Game/BlockchainTutorial.js"],"names":["cc","Class","Component","properties","touchAnchor","Node","fingerTipsLayer","arrow","fingerTips","fullscreen","normalscreen","onLoad","Index","on","_onTouchStart","_onTouchMove","_onTouchEnd","_showGuidePage","runAction","repeatForever","sequence","callFunc","angle","delayTime","rotateTo","start","winSize","height","width","i","length","active","event","worldPoint","getLocation","_startX","x","tutorial","JSON","parse","sys","localStorage","getItem","Blockchain","setItem","stringify","director","loadScene"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,WAAW,EAAEJ,EAAE,CAACK,IADR;AAERC,IAAAA,eAAe,EAAEN,EAAE,CAACK,IAFZ;AAGRE,IAAAA,KAAK,EAAEP,EAAE,CAACK,IAHF;AAIRG,IAAAA,UAAU,EAAER,EAAE,CAACK,IAJP;AAKRI,IAAAA,UAAU,EAAE,CAACT,EAAE,CAACK,IAAJ,CALJ;AAMRK,IAAAA,YAAY,EAAE,CAACV,EAAE,CAACK,IAAJ;AANN,GAHP;AAYL;AAEAM,EAAAA,MAdK,oBAcK;AACN,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKR,WAAL,CAAiBS,EAAjB,CAAoB,YAApB,EAAkC,KAAKC,aAAvC,EAAsD,IAAtD;AACA,SAAKV,WAAL,CAAiBS,EAAjB,CAAoB,WAApB,EAAiC,KAAKE,YAAtC,EAAoD,IAApD;AACA,SAAKX,WAAL,CAAiBS,EAAjB,CAAoB,UAApB,EAAgC,KAAKG,WAArC,EAAkD,IAAlD;AACA,SAAKZ,WAAL,CAAiBS,EAAjB,CAAoB,aAApB,EAAmC,KAAKG,WAAxC,EAAqD,IAArD;;AACA,SAAKC,cAAL;;AACA,SAAKT,UAAL,CAAgBU,SAAhB,CACIlB,EAAE,CAACmB,aAAH,CACInB,EAAE,CAACoB,QAAH,CACIpB,EAAE,CAACqB,QAAH,CAAY,YAAY;AACpB,WAAKb,UAAL,CAAgBc,KAAhB,GAAwB,CAAC,EAAzB;AACH,KAFD,EAEG,IAFH,CADJ,EAIItB,EAAE,CAACuB,SAAH,CAAa,CAAb,CAJJ,EAKIvB,EAAE,CAACwB,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CALJ,EAMIxB,EAAE,CAACuB,SAAH,CAAa,CAAb,CANJ,CADJ,CADJ;AAYH,GAjCI;AAmCLE,EAAAA,KAnCK,mBAmCI,CAER,CArCI;AAuCLR,EAAAA,cAvCK,4BAuCa;AACd,QAAIjB,EAAE,CAAC0B,OAAH,CAAWC,MAAX,GAAoB3B,EAAE,CAAC0B,OAAH,CAAWE,KAA/B,IAAwC,CAA5C,EAA+C;AAC3C,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpB,UAAL,CAAgBqB,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC7C,YAAIA,CAAC,IAAI,KAAKjB,KAAd,EAAqB;AACjB,eAAKH,UAAL,CAAgBoB,CAAhB,EAAmBE,MAAnB,GAA4B,IAA5B;AACH,SAFD,MAEO;AACH,eAAKtB,UAAL,CAAgBoB,CAAhB,EAAmBE,MAAnB,GAA4B,KAA5B;AACH;AACJ;AACJ,KARD,MAQO;AACH,WAAK,IAAIF,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,KAAKnB,YAAL,CAAkBoB,MAAtC,EAA8CD,EAAC,EAA/C,EAAmD;AAC/C,YAAIA,EAAC,IAAI,KAAKjB,KAAd,EAAqB;AACjB,eAAKF,YAAL,CAAkBmB,EAAlB,EAAqBE,MAArB,GAA8B,IAA9B;AACH,SAFD,MAEO;AACH,eAAKrB,YAAL,CAAkBmB,EAAlB,EAAqBE,MAArB,GAA8B,KAA9B;AACH;AACJ;AACJ;AACJ,GAzDI;AA2DL;AACAjB,EAAAA,aA5DK,yBA4DUkB,KA5DV,EA4DiB;AAClB,QAAIC,UAAU,GAAGD,KAAK,CAACE,WAAN,EAAjB;AACA,SAAKC,OAAL,GAAeF,UAAU,CAACG,CAA1B;;AACA,QAAI,KAAK9B,eAAL,CAAqByB,MAAzB,EAAiC;AAC7B,WAAKzB,eAAL,CAAqByB,MAArB,GAA8B,KAA9B;AACA,WAAKxB,KAAL,CAAWwB,MAAX,GAAoB,KAApB;AACA,WAAKvB,UAAL,CAAgBuB,MAAhB,GAAyB,KAAzB;AACH;AACJ,GApEI;AAsEL;AACAhB,EAAAA,YAvEK,wBAuESiB,KAvET,EAuEgB,CACpB,CAxEI;AA0EL;AACAhB,EAAAA,WA3EK,uBA2EQgB,KA3ER,EA2Ee;AAChB,QAAIC,UAAU,GAAGD,KAAK,CAACE,WAAN,EAAjB,CADgB,CAEhB;;AACA,QAAID,UAAU,CAACG,CAAX,GAAe,KAAKD,OAAxB,EAAiC;AAC7B,UAAI,KAAKvB,KAAL,GAAa,CAAb,GAAiB,KAAKH,UAAL,CAAgBqB,MAArC,EAA6C;AACzC,aAAKlB,KAAL;;AACA,aAAKK,cAAL;AACH,OAHD,MAGO;AACH,YAAIoB,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWvC,EAAE,CAACwC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAX,CAAf;AACAL,QAAAA,QAAQ,CAACM,UAAT,GAAsB,IAAtB;AACA3C,QAAAA,EAAE,CAACwC,GAAH,CAAOC,YAAP,CAAoBG,OAApB,CAA4B,UAA5B,EAAwCN,IAAI,CAACO,SAAL,CAAeR,QAAf,CAAxC;AACArC,QAAAA,EAAE,CAAC8C,QAAH,CAAYC,SAAZ,CAAsB,QAAtB;AACH;AACJ,KAVD,MAUO,IAAId,UAAU,CAACG,CAAX,GAAe,KAAKD,OAAxB,EAAiC;AACpC;AACA,UAAI,KAAKvB,KAAL,GAAa,CAAb,IAAkB,CAAtB,EAAyB;AACrB,aAAKA,KAAL;;AACA,aAAKK,cAAL;AACH;AACJ,KANM,MAMA,CACH;AACH;AACJ,GAjGI,CAmGL;;AAnGK,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        touchAnchor: cc.Node,\n        fingerTipsLayer: cc.Node,\n        arrow: cc.Node,\n        fingerTips: cc.Node,\n        fullscreen: [cc.Node],\n        normalscreen: [cc.Node],\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.Index = 0;\n        this.touchAnchor.on('touchstart', this._onTouchStart, this);\n        this.touchAnchor.on('touchmove', this._onTouchMove, this);\n        this.touchAnchor.on('touchend', this._onTouchEnd, this);\n        this.touchAnchor.on('touchcancel', this._onTouchEnd, this);\n        this._showGuidePage();\n        this.fingerTips.runAction(\n            cc.repeatForever(\n                cc.sequence(\n                    cc.callFunc(function () {\n                        this.fingerTips.angle = -30;\n                    }, this),\n                    cc.delayTime(1),\n                    cc.rotateTo(0.2, 30),\n                    cc.delayTime(1),\n                )\n            )\n        );\n    },\n\n    start () {\n\n    },\n\n    _showGuidePage () {\n        if (cc.winSize.height / cc.winSize.width >= 2) {\n            for (let i = 0; i < this.fullscreen.length; i++) {\n                if (i == this.Index) {\n                    this.fullscreen[i].active = true;\n                } else {\n                    this.fullscreen[i].active = false;\n                }\n            }\n        } else {\n            for (let i = 0; i < this.normalscreen.length; i++) {\n                if (i == this.Index) {\n                    this.normalscreen[i].active = true;\n                } else {\n                    this.normalscreen[i].active = false;\n                }\n            }\n        }\n    },\n\n    //点击开始记录横坐标位置\n    _onTouchStart (event) {\n        let worldPoint = event.getLocation();\n        this._startX = worldPoint.x;\n        if (this.fingerTipsLayer.active) {\n            this.fingerTipsLayer.active = false;\n            this.arrow.active = false;\n            this.fingerTips.active = false;\n        }\n    },\n\n    //根据左右滑动的x轴坐标计算往左还是往右\n    _onTouchMove (event) {\n    },\n\n    //触摸松开则结束并显示上一张或下一张图\n    _onTouchEnd (event) {\n        let worldPoint = event.getLocation();\n        //向左滑\n        if (worldPoint.x < this._startX) {\n            if (this.Index + 1 < this.fullscreen.length) {\n                this.Index++;\n                this._showGuidePage();\n            } else {\n                let tutorial = JSON.parse(cc.sys.localStorage.getItem(\"tutorial\"));\n                tutorial.Blockchain = true;\n                cc.sys.localStorage.setItem(\"tutorial\", JSON.stringify(tutorial));\n                cc.director.loadScene(\"Splash\");\n            }\n        } else if (worldPoint.x > this._startX) {\n            //向右滑\n            if (this.Index - 1 >= 0) {\n                this.Index--;\n                this._showGuidePage();\n            }\n        } else {\n            //不动\n        }\n    },\n\n    // update (dt) {},\n});\n"]}