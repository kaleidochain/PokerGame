{"version":3,"sources":["assets/scripts/Game/ResultHall.js"],"names":["Log","require","cc","Class","Component","properties","normalLoadingLayer","Node","btnBack","resultLayer","singleResultLayer","onLoad","freshPlayedTables","pageNum","dgame","normalLoading","startInvokeWaiting","scheduleOnce","playedlist_cmd","Address","settings","account","Addr","Page","net","gameCall","JSON","stringify","_onPlayedTables","bind","data","stopInvokeWaiting","Trace","director","getScene","name","showLoadTimeout","find","getComponent","populateList","onBtnClickSingleResult","tableId","active","tableDetail_cmd","TableId","_onTableDetail","tableInfo","Result","length","Error","gameEndLabel","Label","string","utils","timestampToDate","EndTime","clubIdLabel","clubid","Math","floor","tableIdLabel","displayTableId","playingNumLabel","creatorNameLabel","CreatorAddr","substr","avatorSprite","Sprite","assetMgr","idx","parseInt","isNaN","spriteFrame","heads","gameLengthLabel","hours","GameLength","toFixed","blindsLabel","formatValue","SmallBlind","toString","Straddle","Ante","totalHandsLabel","CurrentHand","mvpPlayer","mvpHeadSprite","idxMVP","whalePlayer","whaleHeadSprite","idxWhale","tuhaoPlayer","maxBuy","totalBuyInLabel","totalBuyIn","i","buyIn","tuhaoHeadSprite","idxTUHAO","INSResultNode","bg2Widget","Widget","InsuranceWin","insuranceLabel","top","height","updateAlignment","onBtnBackClicked","update","dt"],"mappings":"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","sourceRoot":"/","sourcesContent":["var Log = require(\"Log\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        normalLoadingLayer: cc.Node,//等待界面\r\n        btnBack : cc.Node,\r\n        resultLayer:cc.Node,\r\n        singleResultLayer:cc.Node,\r\n    },\r\n\r\n\r\n\r\n    // use this for initialization\r\n    onLoad () {\r\n        this.freshPlayedTables(1);\r\n    },\r\n\r\n    freshPlayedTables (pageNum) {\r\n        cc.dgame.normalLoading.startInvokeWaiting();\r\n        this.scheduleOnce(function () {\r\n            var playedlist_cmd = {\r\n                Address: cc.dgame.settings.account.Addr,\r\n                Page:pageNum,\r\n            };\r\n            cc.dgame.net.gameCall(['playedTables', JSON.stringify(playedlist_cmd)], this._onPlayedTables.bind(this));\r\n        }, 0.05)\r\n    },\r\n\r\n    _onPlayedTables (data) {\r\n        cc.dgame.normalLoading.stopInvokeWaiting();\r\n        Log.Trace(\"[_onPlayedTables] Scene: \" + cc.director.getScene().name + \", \" + JSON.stringify(data));\r\n        if (data == \"Network disconnected\") {\r\n            cc.dgame.normalLoading.showLoadTimeout();\r\n            return;\r\n        }\r\n        cc.find(\"Canvas/ResultsLayer/resultScrollView\").getComponent(\"ResultList\").populateList(data);\r\n    },\r\n\r\n    onBtnClickSingleResult (tableId) {\r\n        this.resultLayer.active = false;\r\n        cc.find(\"Canvas/BottomMenu\").active = false;\r\n        cc.dgame.normalLoading.startInvokeWaiting();\r\n        this.scheduleOnce(function () {\r\n            var tableDetail_cmd = {\r\n                TableId: tableId,\r\n            };\r\n            cc.dgame.net.gameCall(['tableDetail', JSON.stringify(tableDetail_cmd)], this._onTableDetail.bind(this));\r\n        }, 0.05);\r\n    },\r\n\r\n    _onTableDetail (tableInfo) {\r\n        Log.Trace(\"ResultHall _onTableDetail tableInfo:\" + JSON.stringify(tableInfo));\r\n        cc.dgame.normalLoading.stopInvokeWaiting();\r\n        if (tableInfo == \"Network disconnected\") {\r\n            cc.dgame.normalLoading.showLoadTimeout();\r\n            return;\r\n        }\r\n        if (tableInfo.Result.length <= 0){\r\n            Log.Error(\"_onTableDetail tableInfo.Result.length <= 0\");\r\n            return;\r\n        }\r\n\r\n        this.btnBack.active = true;\r\n        this.singleResultLayer.active = true;\r\n\r\n        let gameEndLabel = cc.find(\"bg/time\", this.singleResultLayer).getComponent(cc.Label);\r\n        gameEndLabel.string = cc.dgame.utils.timestampToDate(tableInfo.EndTime*1000);\r\n\r\n        let clubIdLabel = cc.find(\"bg/clubId\", this.singleResultLayer).getComponent(cc.Label);\r\n        let clubid = Math.floor(tableInfo.TableId / 0x10000000);\r\n        clubIdLabel.string = clubid;\r\n\r\n        let tableIdLabel = cc.find(\"bg/roomId\", this.singleResultLayer).getComponent(cc.Label);\r\n        let displayTableId = tableInfo.TableId - clubid * 0x10000000;\r\n        if (displayTableId < 10) {\r\n            tableIdLabel.string = '00' + displayTableId;\r\n        } else if (displayTableId < 100) {\r\n            tableIdLabel.string = '0' + displayTableId;\r\n        } else {\r\n            tableIdLabel.string = displayTableId;\r\n        }\r\n        let playingNumLabel = cc.find(\"bg/playingNum\", this.singleResultLayer).getComponent(cc.Label);\r\n        playingNumLabel.string = tableInfo.Result.length + \" players\";\r\n        let creatorNameLabel = cc.find(\"bg/creatorName\", this.singleResultLayer).getComponent(cc.Label);\r\n        creatorNameLabel.string = tableInfo.CreatorAddr.substr(2, 8);\r\n\r\n        let avatorSprite = cc.find(\"bg/iconHead\", this.singleResultLayer).getComponent(cc.Sprite);\r\n        let assetMgr = cc.find(\"AssetMgr\").getComponent(\"AssetMgr\");\r\n        var idx = parseInt(tableInfo.CreatorAddr.substr(2, 2), 16);\r\n        if (isNaN(idx)) {\r\n            idx = 0;\r\n        }\r\n        avatorSprite.spriteFrame = assetMgr.heads[idx % 200];\r\n\r\n        let gameLengthLabel = cc.find(\"bg/gameLengthValue\", this.singleResultLayer).getComponent(cc.Label);\r\n        let hours\r\n        if (tableInfo.GameLength%3600 == 0) {\r\n            hours = (tableInfo.GameLength/3600);\r\n        } else {\r\n            hours = (tableInfo.GameLength/3600).toFixed(1);\r\n        }\r\n        if (hours <= 1) {\r\n            gameLengthLabel.string = hours + \" hour\";\r\n        } else {\r\n            gameLengthLabel.string = hours + \" hours\";\r\n        }\r\n        let blindsLabel = cc.find(\"bg/blindsValue\", this.singleResultLayer).getComponent(cc.Label);\r\n        blindsLabel.string = cc.dgame.utils.formatValue(tableInfo.SmallBlind) + \"/\" + cc.dgame.utils.formatValue(tableInfo.SmallBlind * 2).toString();\r\n        if (tableInfo.Straddle !== 0) {\r\n            blindsLabel.string += \"/\" + cc.dgame.utils.formatValue(tableInfo.SmallBlind * 4).toString();\r\n        }\r\n        if (tableInfo.Ante > 0) {\r\n            blindsLabel.string += \"(\" + tableInfo.Ante + \")\";\r\n        }\r\n        let totalHandsLabel = cc.find(\"bg/totalHandsValue\", this.singleResultLayer).getComponent(cc.Label);\r\n        totalHandsLabel.string = tableInfo.CurrentHand;\r\n\r\n\r\n        let mvpPlayer = tableInfo.Result[0][0];\r\n        let mvpHeadSprite = cc.find(\"bg/MVP1/mvpHead\", this.singleResultLayer).getComponent(cc.Sprite);\r\n        var idxMVP = parseInt(mvpPlayer.substr(2, 2), 16);\r\n        if (isNaN(idxMVP)) {\r\n            idxMVP = 0;\r\n        }\r\n        mvpHeadSprite.spriteFrame = assetMgr.heads[idxMVP % 200];\r\n        let whalePlayer = tableInfo.Result[tableInfo.Result.length-1][0];\r\n        let whaleHeadSprite = cc.find(\"bg/Whale1/whaleHead\", this.singleResultLayer).getComponent(cc.Sprite);\r\n        var idxWhale = parseInt(whalePlayer.substr(2, 2), 16);\r\n        if (isNaN(idxWhale)) {\r\n            idxWhale = 0;\r\n        }\r\n        whaleHeadSprite.spriteFrame = assetMgr.heads[idxWhale % 200];\r\n        let tuhaoPlayer;\r\n        let maxBuy = 0;\r\n        let totalBuyInLabel = cc.find(\"bg/totalBuyInValue\", this.singleResultLayer).getComponent(cc.Label);\r\n        let totalBuyIn = 0;\r\n        for (let i in tableInfo.Result) {\r\n            let buyIn = tableInfo.Result[i][2];\r\n            if (buyIn > maxBuy) {\r\n                maxBuy = buyIn;\r\n                tuhaoPlayer = tableInfo.Result[i][0]\r\n            }\r\n            totalBuyIn += buyIn;\r\n        }\r\n        totalBuyInLabel.string = totalBuyIn.toString();\r\n        let tuhaoHeadSprite = cc.find(\"bg/Tuhao1/tuhaoHead\", this.singleResultLayer).getComponent(cc.Sprite);\r\n        var idxTUHAO = parseInt(tuhaoPlayer.substr(2, 2), 16);\r\n        if (isNaN(idxTUHAO)) {\r\n            idxTUHAO = 0;\r\n        }\r\n        tuhaoHeadSprite.spriteFrame = assetMgr.heads[idxTUHAO % 200];\r\n        let INSResultNode = cc.find(\"bottom_view/ins_layer\", this.singleResultLayer);\r\n        INSResultNode.active = false;\r\n        let bg2Widget = cc.find(\"bottom_view/bg2\", this.singleResultLayer).getComponent(cc.Widget);\r\n        if ( tableInfo.InsuranceWin != null ) {\r\n            let INSResultNode = cc.find(\"bottom_view/ins_layer\", this.singleResultLayer);\r\n            let insuranceLabel = cc.find(\"value\", INSResultNode).getComponent(cc.Label);\r\n            insuranceLabel.string = tableInfo.InsuranceWin;\r\n            bg2Widget.top = INSResultNode.height;\r\n            bg2Widget.updateAlignment();\r\n            INSResultNode.active = true;\r\n        } else {\r\n            bg2Widget.top = 0;\r\n            bg2Widget.updateAlignment();\r\n        }\r\n        cc.find(\"bottom_view/bg2/playerScrollView\",this.singleResultLayer).getComponent(\"ResultPlayersList\").populateList(tableInfo.Result);\r\n    },\r\n\r\n    onBtnBackClicked () {\r\n        this.btnBack.active = false;\r\n        this.singleResultLayer.active = false;\r\n        cc.find(\"Canvas/BottomMenu\").active = true;\r\n        this.resultLayer.active = true;\r\n    },\r\n\r\n    // called every frame\r\n    update: function (dt) {\r\n\r\n    },\r\n\r\n});\r\n"]}