{"version":3,"sources":["assets/scripts/Game/ClubItem.js"],"names":["cc","Class","Component","properties","background","Node","clubName","RichText","createClub","joinClub","init","clubInfo","Index","CreateClub","JoinClub","opacity","node","active","showClubID","dgame","utils","formatClubID","ClubID","string","formatRichText","ClubName","clubID","clubAddr","Addr","ownerAddr","Owner","updateSelection","settings","account","LoginAddr","accountAddr","selected","update","dt","selectClub","clubHall","find","getComponent","onBtnCreateClubClicked","onBtnDropdownClubListClicked","onBtnJoinClubClicked","updateClubID"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        background: cc.Node,\r\n        clubName: cc.RichText,\r\n        //addr: cc.Label,\r\n        createClub: cc.Node,\r\n        joinClub: cc.Node,\r\n        // ...\r\n    },\r\n\r\n    // use this for initialization\r\n    init (clubInfo) {\r\n//        this.indexNum.string = clubInfo.index.toString()\r\n        if (clubInfo.Index % 2 == 0 || clubInfo.CreateClub || clubInfo.JoinClub) {\r\n            this.background.opacity = 0;\r\n        }\r\n        if (clubInfo.CreateClub) {\r\n            this.clubName.node.active = false;\r\n            this.createClub.active = true;\r\n            this.joinClub.active = false;\r\n        } else if (clubInfo.JoinClub) {\r\n            this.clubName.node.active = false;\r\n            this.createClub.active = false;\r\n            this.joinClub.active = true;\r\n        } else {\r\n            this.clubName.node.active = true;\r\n            this.createClub.active = false;\r\n            this.joinClub.active = false;\r\n            let showClubID = cc.dgame.utils.formatClubID(clubInfo.ClubID);\r\n            this.clubName.string = cc.dgame.utils.formatRichText(clubInfo.ClubName + \" : \" + showClubID, \"#AFC6DD\", true, false);\r\n            this.clubID = clubInfo.ClubID;\r\n            this.clubAddr = clubInfo.Addr;\r\n            this.ownerAddr = clubInfo.Owner;\r\n        }\r\n    },\r\n\r\n    updateSelection () {\r\n        if (cc.dgame.settings.account.LoginAddr == this.accountAddr) {\r\n            this.selected.active = true;\r\n        } else {\r\n            this.selected.active = false;\r\n        }\r\n    },\r\n\r\n    // called every frame\r\n    update (dt) {\r\n\r\n    },\r\n\r\n    selectClub () {\r\n        var clubHall = cc.find('ClubHall').getComponent('ClubHall');\r\n        if (this.createClub.active) {\r\n            clubHall.onBtnCreateClubClicked();\r\n            clubHall.onBtnDropdownClubListClicked();\r\n        } else if (this.joinClub.active) {\r\n            clubHall.onBtnJoinClubClicked();\r\n            clubHall.onBtnDropdownClubListClicked();\r\n        } else {\r\n            //wallet.updateCurrentAccount(this.accountAddr.string)\r\n            clubHall.updateClubID(this.clubID);\r\n        }\r\n    },\r\n});\r\n"]}