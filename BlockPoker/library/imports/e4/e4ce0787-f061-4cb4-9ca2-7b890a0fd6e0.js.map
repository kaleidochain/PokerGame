{"version":3,"sources":["assets/scripts/Game/ClubList.js"],"names":["cc","Class","Component","properties","scrollView","ScrollView","prefabClubItem","Prefab","onLoad","content","populateList","data","isMaster","removeAllChildren","i","clubInfo","Index","Addr","Owner","ClubName","ClubID","item","instantiate","getComponent","init","addChild","length","CreateClub","JoinClub","getChildren","node","height","updateSelection","update","dt"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        scrollView: cc.ScrollView,\n        prefabClubItem: cc.Prefab,\n    },\n\n    // use this for initialization\n    onLoad () {\n        this.content = this.scrollView.content;\n        //this.populateList();\n    },\n\n    populateList (data, isMaster) {\n        this.content.removeAllChildren()\n        for (let i in data) {\n            var clubInfo = {};\n            clubInfo.Index = i;\n            clubInfo.Addr = data[i].Addr;\n            clubInfo.Owner = data[i].Owner;\n            clubInfo.ClubName = data[i].ClubName;\n            clubInfo.ClubID = data[i].ClubID;\n            var item = cc.instantiate(this.prefabClubItem);\n            item.getComponent('ClubItem').init(clubInfo);\n            this.content.addChild(item);\n        }\n        //俱乐部群主不显示创建俱乐部按钮\n        if (!isMaster) {\n            var clubInfo = {};\n            clubInfo.Index = data.length;\n            clubInfo.CreateClub = true;\n            var item = cc.instantiate(this.prefabClubItem);\n            item.getComponent('ClubItem').init(clubInfo);\n            this.content.addChild(item);\n        }\n        var clubInfo = {};\n        clubInfo.Index = data.length + 1;\n        clubInfo.JoinClub = true;\n        var item = cc.instantiate(this.prefabClubItem);\n        item.getComponent('ClubItem').init(clubInfo);\n        this.content.addChild(item);\n        if (this.content.getChildren().length < 4) {\n            this.scrollView.node.height = 130 * this.content.getChildren().length + 20;\n        } else {\n            this.scrollView.node.height = 130 * 4 + 20;\n        }\n    },\n\n    updateSelection () {\n        for (let i in this.content.getChildren()) {\n            let item = this.content.getChildren()[i].getComponent(\"ClubItem\");\n            item.updateSelection();\n        }\n    },\n    // called every frame\n    update (dt) {\n\n    },\n});"]}