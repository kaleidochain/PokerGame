{"version":3,"sources":["assets/scripts/Game/BoardRecords.js"],"names":["Log","require","cc","Class","Component","properties","scrollView","ScrollView","whatsTexasHoldemContent","Node","fourRoundsOfBettingContent","handRulesContent","fairnessStatementContent","overviewOfSecurityContent","kaleidochainDescriptionContent","onLoad","sys","localStorage","getItem","dgame","settings","account","Addr","setItem","gamelist","JSON","parse","Trace","gameResultList","Array","i","gameResultStr","push","gameReviewGameList","find","getComponent","populateList","start","onBtnBackClicked","director","loadScene","onBtnClearAll","length","removeGameResult","shift","removeItem","review","fulltableid","hand","tableid","gameReviewPopup","FullTableId","TableId","Hand","onBtnGameReviewClicked"],"mappings":"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","sourceRoot":"/","sourcesContent":["var Log = require(\"Log\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        scrollView: cc.ScrollView,\n        whatsTexasHoldemContent: cc.Node,\n        fourRoundsOfBettingContent: cc.Node,\n        handRulesContent: cc.Node,\n        fairnessStatementContent: cc.Node,\n        overviewOfSecurityContent: cc.Node,\n        kaleidochainDescriptionContent: cc.Node,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        if (!cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_gamelist\")) {\n            cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_gamelist\", \"[]\");\n        }\n        let gamelist = JSON.parse(cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_gamelist\"));\n        Log.Trace(\"gamelist: \" + cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_gamelist\"));\n        let gameResultList = new Array;\n        for (let i in gamelist) {\n            let gameResultStr = cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_\" + gamelist[i] + \"_result\");\n            if (!!gameResultStr) {\n                Log.Trace(\"gameResult\" + i + \": \" + gameResultStr);\n                gameResultList.push(JSON.parse(gameResultStr));\n            }\n        }\n        let gameReviewGameList = cc.find(\"Canvas/sprite_splash/scrollView\").getComponent('GameReviewGameList');\n        gameReviewGameList.populateList(gameResultList);\n    },\n\n    start () {\n\n    },\n\n    onBtnBackClicked () {\n        cc.director.loadScene(\"MySettings\");\n    },\n\n    onBtnClearAll () {\n        let gamelist = JSON.parse(cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_gamelist\"));\n        Log.Trace(\"[onBtnClearAll] gamelist: \" + cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_gamelist\"));\n        while (gamelist.length > 0) {\n            let removeGameResult = gamelist.shift();\n            cc.sys.localStorage.removeItem(cc.dgame.settings.account.Addr + \"_\" + removeGameResult + \"_result\");\n            cc.sys.localStorage.removeItem(cc.dgame.settings.account.Addr + \"_\" + removeGameResult + \"_replay\");\n            Log.Trace(\"[onBtnClearAll] delete \" + cc.dgame.settings.account.Addr + \"_\" + removeGameResult + \"_result\");\n            Log.Trace(\"[onBtnClearAll] delete \" + cc.dgame.settings.account.Addr + \"_\" + removeGameResult + \"_replay\");\n        }\n        cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_gamelist\", \"[]\");\n        let gameReviewGameList = cc.find(\"Canvas/sprite_splash/scrollView\").getComponent('GameReviewGameList');\n        gameReviewGameList.populateList([]);\n    },\n\n    review (fulltableid, hand, tableid) {\n        cc.dgame.gameReviewPopup.FullTableId = fulltableid;\n        cc.dgame.gameReviewPopup.TableId = tableid;\n        cc.dgame.gameReviewPopup.Hand = hand;\n        Log.Trace(\"review \" + fulltableid + \"_\" + hand + \", tableid: \" + tableid);\n        cc.dgame.gameReviewPopup.onBtnGameReviewClicked();\n    },\n    // update (dt) {},\n});\n"]}