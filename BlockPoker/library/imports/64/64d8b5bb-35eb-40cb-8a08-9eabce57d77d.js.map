{"version":3,"sources":["assets/scripts/Game/ClubApplicationItem.js"],"names":["cc","Class","Component","properties","accountAddr","Label","applyDate","avator","Sprite","init","sceneName","clubid","applicationInfo","assetMgr","find","getComponent","idx","parseInt","Addr","substr","isNaN","spriteFrame","heads","addr","string","dgame","utils","timestampToTime","Date","update","dt","approve","clubHall","clubRequestMgr","deny"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,WAAW,EAAEJ,EAAE,CAACK,KADR;AAERC,IAAAA,SAAS,EAAEN,EAAE,CAACK,KAFN;AAGRE,IAAAA,MAAM,EAAEP,EAAE,CAACQ;AAHH,GAHP;AASL;AACAC,EAAAA,IAVK,gBAUCC,SAVD,EAUYC,MAVZ,EAUoBC,eAVpB,EAUqC;AACtC,QAAIC,QAAQ,GAAGb,EAAE,CAACc,IAAH,CAAQ,UAAR,EAAoBC,YAApB,CAAiC,UAAjC,CAAf;AACA,QAAIC,GAAG,GAAGC,QAAQ,CAACL,eAAe,CAACM,IAAhB,CAAqBC,MAArB,CAA4B,CAA5B,EAA+B,CAA/B,CAAD,EAAoC,EAApC,CAAlB;;AACA,QAAIC,KAAK,CAACJ,GAAD,CAAT,EAAgB;AACZA,MAAAA,GAAG,GAAG,CAAN;AACH;;AACD,SAAKN,SAAL,GAAiBA,SAAjB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKJ,MAAL,CAAYc,WAAZ,GAA0BR,QAAQ,CAACS,KAAT,CAAeN,GAAG,GAAG,GAArB,CAA1B;AACA,SAAKO,IAAL,GAAYX,eAAe,CAACM,IAA5B;AACA,SAAKd,WAAL,CAAiBoB,MAAjB,GAA0BZ,eAAe,CAACM,IAAhB,CAAqBC,MAArB,CAA4B,CAA5B,EAA+B,EAA/B,IAAqC,KAA/D;AACA,SAAKb,SAAL,CAAekB,MAAf,GAAwBxB,EAAE,CAACyB,KAAH,CAASC,KAAT,CAAeC,eAAf,CAA+Bf,eAAe,CAACgB,IAAhB,GAAuB,IAAtD,CAAxB;AACH,GAtBI;AAwBL;AACAC,EAAAA,MAzBK,kBAyBGC,EAzBH,EAyBO,CAEX,CA3BI;AA6BLC,EAAAA,OA7BK,qBA6BM;AACP,QAAI,KAAKrB,SAAL,IAAkB,UAAtB,EAAkC;AAC9B,UAAIsB,QAAQ,GAAGhC,EAAE,CAACc,IAAH,CAAQ,UAAR,EAAoBC,YAApB,CAAiC,UAAjC,CAAf;AACAiB,MAAAA,QAAQ,CAACD,OAAT,CAAiB,KAAKpB,MAAtB,EAA8B,KAAKY,IAAnC;AACH,KAHD,MAGO;AACH,UAAIU,cAAc,GAAGjC,EAAE,CAACc,IAAH,CAAQ,KAAKJ,SAAb,EAAwBK,YAAxB,CAAqC,gBAArC,CAArB;AACAkB,MAAAA,cAAc,CAACF,OAAf,CAAuB,KAAKpB,MAA5B,EAAoC,KAAKY,IAAzC;AACH;AACJ,GArCI;AAuCLW,EAAAA,IAvCK,kBAuCG;AACJ,QAAI,KAAKxB,SAAL,IAAkB,UAAtB,EAAkC;AAC9B,UAAIsB,QAAQ,GAAGhC,EAAE,CAACc,IAAH,CAAQ,UAAR,EAAoBC,YAApB,CAAiC,UAAjC,CAAf;AACAiB,MAAAA,QAAQ,CAACE,IAAT,CAAc,KAAKvB,MAAnB,EAA2B,KAAKY,IAAhC;AACH,KAHD,MAGO;AACH,UAAIU,cAAc,GAAGjC,EAAE,CAACc,IAAH,CAAQ,KAAKJ,SAAb,EAAwBK,YAAxB,CAAqC,gBAArC,CAArB;AACAkB,MAAAA,cAAc,CAACC,IAAf,CAAoB,KAAKvB,MAAzB,EAAiC,KAAKY,IAAtC;AACH;AACJ;AA/CI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        accountAddr: cc.Label,\n        applyDate: cc.Label,\n        avator: cc.Sprite,\n    },\n\n    // use this for initialization\n    init (sceneName, clubid, applicationInfo) {\n        let assetMgr = cc.find(\"AssetMgr\").getComponent(\"AssetMgr\");\n        var idx = parseInt(applicationInfo.Addr.substr(2, 2), 16);\n        if (isNaN(idx)) {\n            idx = 0;\n        }\n        this.sceneName = sceneName;\n        this.clubid = clubid;\n        this.avator.spriteFrame = assetMgr.heads[idx % 200];\n        this.addr = applicationInfo.Addr;\n        this.accountAddr.string = applicationInfo.Addr.substr(0, 10) + \"...\";\n        this.applyDate.string = cc.dgame.utils.timestampToTime(applicationInfo.Date * 1000);\n    },\n\n    // called every frame\n    update (dt) {\n\n    },\n\n    approve () {\n        if (this.sceneName == \"ClubHall\") {\n            var clubHall = cc.find(\"ClubHall\").getComponent(\"ClubHall\");\n            clubHall.approve(this.clubid, this.addr);\n        } else {\n            var clubRequestMgr = cc.find(this.sceneName).getComponent(\"ClubRequestMgr\");\n            clubRequestMgr.approve(this.clubid, this.addr);\n        }\n    },\n\n    deny () {\n        if (this.sceneName == \"ClubHall\") {\n            var clubHall = cc.find(\"ClubHall\").getComponent(\"ClubHall\");\n            clubHall.deny(this.clubid, this.addr);\n        } else {\n            var clubRequestMgr = cc.find(this.sceneName).getComponent(\"ClubRequestMgr\");\n            clubRequestMgr.deny(this.clubid, this.addr);\n        }\n    },\n});\n"]}