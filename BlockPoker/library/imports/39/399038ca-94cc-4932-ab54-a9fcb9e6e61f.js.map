{"version":3,"sources":["assets/scripts/Game/GameTable.js"],"names":["Types","require","PositionData","Log","cc","Class","Component","properties","mainMenuPopup","Node","checkoutExitToast","buyinGoldDialog","withdrawGoldDialog","KALExchangeToGoldDialog","gameReviewPopup","gameReplayPopup","debugInfo","Label","playerPrefab","Prefab","pokerPrefab","potLayer","potNum","RichText","currentPotLayer","currentRoundPotNum","sidePots","sidePotNums","dealerMark","actionIdentifier","tableFor4Layer","playerAnchorsFor4","tableFor6Layer","playerAnchorsFor6","tableFor8Layer","playerAnchorsFor8","tableFor9Layer","playerAnchorsFor9","fulltableid","blindInfo","roundTips","tipsBackground","tips","securityTipsBackground","securityTips","dealCommunityCards","dealRMTCommunityCards1","dealRMTCommunityCards2","dealRMTCommunityCards3","dealRMTCommunityCards4","highlightCommunityCards","selfHoleCards","cardType","disabledFold","btnFold","btnCheck","btnCall","callNum","btnAheadOfCheckOrFold","CheckOrFold","btnAheadOfCall","aheadOfCallNum","btnAheadOfCallAny","AheadOfSprites","SpriteFrame","btnFreeRaiseDisable","btnFreeRaise","freeRaiseStackNum","btnAllin","allinStackNum","bigBlindRaiseLayer","btn2BBRaise","twoBBRaiseNum","btn3BBRaise","threeBBRaiseNum","btn5BBRaise","fiveBBRaiseNum","potRaiseLayer","btnHalfPotRaise","halfPotRaiseNum","btnTwoThirdPotRaise","twoThirdPotRaiseNum","btnPotRaise","potRaiseNum","freeRaiseSlider","Slider","betRatio","freeRaiseChipsNum","winlightLayer","RMTOperateLayer","RMTOperateWaitingLayer","RMTNegotiateLayer","RMTNegotiateWaitingLayer","INSOperateLayer","INSOperateWaitingLayer","INSOperateDetails","INSMainPotDetails","INSSidePotDetails","INSToggleContainer","INSPotPrefab","normalLoadingLayer","onLoad","value","_actionIdentifierOrgHeight","height","_actionIdentifierAngles","Array","_actionIdentifierHeights","_delayPlayersInfo","i","length","cardNode","instantiate","addChild","poker","getComponent","init","setFaceUp","dealRMTCommunityCards","push","j","_initFreeRaiseSlider","schedule","_dispatchGameEvent","_updateMenuStatus","dgame","tableInfo","RawGameEventQueue","_resendQueue","DealCardFlag","_animationTimerDelay","_delayShiftSeatArray","_RMTTimes","_isBackground","_joinReq","SelfReady","ContractStatus","NOTJOIN","IsRecover","ShiftSeat","SecurityTipsList","FullTableId","TableId","updateStatus","_resetGameInfo","_resetGameTable","active","find","Debug","JSON","stringify","parseInt","director","loadScene","playerTables","playerAnchors","_maxPlayers","MaxNum","_maxPlayerStr","gametable","gametable_long","btnmenu","Widget","updateAlignment","menuv2","convertToWorldSpaceAR","v2","gametablev2","gametable_longv2","newOriginWorldPT","Trace","winSize","width","x","y","newNodePT","parent","convertToNodeSpaceAR","setPosition","playerAnchor","newOrg","getPosition","GameTablePlayerAnchorPositions","GameTableLongPlayerAnchorPositions","playerNode","player","initPlayerByTablePos","srcPos","dstPos","lastPos","oldVec","sub","newVec","mag","signAngle","Math","PI","holeCardsLayer","selfHeadWorldPT","newHoleCardsWorldPT","operateLayer","newOperateWorldPT","winLightLayer","newWinLightWorldPT","communityCardLayer","newCommunityCardWorldPT","securityTipsLayer","newSecurityTipsWorldPT","roundTipsLayer","newRoundTipsWorldPT","tipsLayer","newTipsWorldPT","tableinfo","tableinfov2","tableinfodetail","newPotWorldPT","string","utils","formatValue","SmallBlind","toString","Straddle","Ante","progress","scheduleOnce","net","gameCall","_onGetRecoverData","bind","roomEventMgr","startListen","subGameTable_cmd","addEventListener","_onGameEvent","gameRequestMgr","startCheckGameRequest","handleCountDownTimeout","onClickExitTableItem","clubRequestMgr","startCheckClubRequest","sys","isNative","isMobile","os","OS_IOS","jsb","reflection","callStaticMethod","game","on","EVENT_HIDE","_gameSwitchBackground","EVENT_SHOW","_gameSwitchForeground","LeftTime","_endTime","floor","Date","getTime","gameSwitch_cmd","Action","_onGameSwitchBackground","_onGameSwitchForeground","data","normalLoading","showLoadTimeout","Info","_restoreOperatePanel","_getAllMsgCount","seatinfo_cmd","_onSeatInfoEx","_getAnimationTimerDelay","totalCount","now","maxTick","key","result","count","endTick","duration","start","onDestroy","removeAllMsg","removeEventListener","_exitRoomFlag","off","_recoverDealInfo","dealInfo","_dealCardPlayerPosArray","playerPos","getChildren","SeatId","recoverDealCards","setCardPoint","SelfCard","privateCard","DeskCard","publicCard","_dealFlopCards","formatRichText","_dealTurnCard","_dealRiverCard","_recoverBlindInfo","BlindInfo","setOriginValue","TotalAnteBet","LastDealer","Dealer","newDealCardArr","_isPlaying","anchorNode","stack","getStack","setStack","parseFloat","recoverData","parse","SeatStatus","TableInfo","startInvokeWaiting","self","CurrentStatus","StartAction","_onPlayersInfo","Players","hand","Status","PLAYING","Hand","RecvFirstTurnInfo","NeedDealCard","BigBlind","BigBlindPos","DealerPos","SmallBlindPos","SmallBlindBet","_shiftPlayerSeat","_onBalanceOf","settings","account","Chips","Balance","seats","_querySetSelfSeatId","SeatsInfo","playingNum","setTableStatus","found","seatId","Pos","PlayerAddr","initPlayerInfo","substr","Amount","SEATED","showAction","PlayerOP","STANDBY","showBtnResitDown","disable","enable","PlayerComponentPositions","PlayingOperateLayer","OperateLayer","stopInvokeWaiting","_onSeatInfo","Addr","toLowerCase","_showAnteAndBlindBetThenStartDealCards","dealerNode","dealer","dealerMarkPos","newpos","getDealerMarkPos","runAction","moveTo","_animateBlindInfo","_dealCards","node","turnInfo","Params","totalBet","PlayerInfo","TurnBet","setBet","TotalBet","STRADDLE","BUSTRADDLE","getOriginValue","players","hideAllActions","playerMyself","_onAddChipsSelfReady","WAITING","_onSelfReady","getScene","name","undefined","Warn","hideBtnResitDown","_handleJoin","playersinfo_cmd","SittingSeatId","stopAllActions","TableProps","hideWaitingTips","Errstr","msg","_showNotice","_handleLeave","animationTimerInfo","_getTypeInGameEventQueueCount","leaveGameEvent","Event","stopAutoCheckoutCountDown","indexOf","_handleClearGame","clearInfo","clearGameEvent","_resetINS","sitdownPlayerNode","sitdownPlayer","isEmpty","stopCountDown","hideBet","hideDealCards","hideWinloss","hideCardType","hideINSFlag","_handleStart","getPlayerAddr","type","_handleStartGame","startGameEvent","CurrentHand","_handleBlindInfo","curHand","DealCardSequence","opacity","sequence","delayTime","fadeOut","_handleSyncGameReplaysBlindInfo","_handleSelfHoleCards","localStorage","getItem","setItem","holecardslist","removeHoleCards","pop","removeItem","unshift","HoleCards","_quickBetType","TurnInfoList","Stage","TexasStage","PREFLOP","maxTurnBet","_processMyTurn","chooseAheadOfCheckOrFold","chooseAheadOfCall","chooseAheadOfCallAny","OP","_reSetAheadOfNode","hideActions","Call","Value","onClickBtnCall","onClickBtnFold","onClickBtnCheck","Fold","Check","Flag","Button","interactable","Raise","Bet","callNumVal","raiseMinVal","quickBetType","roundPotNumVal","pot","halfPot","round","twoThirdPot","fullPot","twoTimesBB","threeTimesBB","fiveTimesBB","elapsedSecs","CurTick","Tick","_startAutoCheckCountDown","_startAutoFoldCountDown","managed","actions","onClickBtnHalfPotRaise","onClickBtnTwoThirdPotRaise","onClickBtnPotRaise","random","_processAHeadOfOP","CurnSeat","AheadOfFold","AheadOfCheck","showAheadOfCallAny","showAheadOfCall","oldAheadOfCallNum","AheadOfCall","_getShownPublicCardNum","_isAllinDealCard","lastTurnInfo","lastPublicCardNum","nowPublicCardNum","_handleNewTurn","identifierDelay","_chipsToPot","bAllinDealCard","pubCards","getCard","curSeatId","anchorCurPlayer","curPlayer","startCountDown","lastActionSeatId","seatActualPos","_getAnchorPosByContractPos","newHeight","angle","scale","spawn","scaleTo","rotateTo","IsMyTurn","RmtCard","_handleRmtCards","RMTCards","pokerPtArr","k","moveEnd","callFunc","RMTCommunityCardPositions","_handleTurnInfo","CardsLevelName","cardtype","getCardType","delay","FLOP","Turn","RIVER","spectatorFirstTurn","_resetCommunityCards","_resetPlayerBets","_resetTips","_resetSelfHoleCards","TURN","SHOWDOWN","selfHoleCardsStr","selfHoleCardsInfo","turnTotalBet","pokerPT","getCardPoint","turnInfoPT","Operate","END","revealHoleCards","newTurn","lastHoleCardCount","curHoleCardCount","RmtIns","ShowRMTOption","_handleShowRMTOption","RMTTimesResult","_handleRMTTimesResult","RMTTimesChoose","_handleRMTTimesChoose","ShowINS","_handleShowINS","ShowPlayerINS","_showPlayerINSFlag","InsWinInfo","_handleINSWinInfo","turnPotNum","totalPotNum","lastPlayerNode","lastPlayer","FOLD","sidePotPos","playerWorldPt","atan2","foldCards","Allin","ALLIN","setAllinHead","bet","getBet","lastTotalBet","curTotalBet","action","CHECK","audioMgr","playCheckSound","CALL","BET","RAISE","_handleLeaveNext","_showTips","_handleStandupNext","_getSeatIdByPlayerAddr","_potsToPlayers","potallot","maxPotNum","playerWinPotNum","speed","interval","potAllot","Allot","Seat","Win","potPos","winPot","sidePotNum","_onGetGameReplays","gameReplayID","_saveGameResult","gameOverInfo","gameResult","val","Pot","GameTime","getNowFormatDate","CommunityCards","InsWinList","INSSelfWin","INSPlayerWin","InsBuyerList","order","winList","playerInfo","HandCard","RMTCommunityCards","CardType","WinLoss","totalWin","LevelName","win","gamelist","removeGameResult","_highlightCommunityCards","suit","genCards","genCardsPTArr","highlightPoker","_highlightSelfHoleCards","_handleGameOverInfo","gameOverEvent","turnBets","winGenCards","PotAllot","GenCards","rakeRate","rake","rakeNum","totalWinTimes","winTimes","rakenum","setCardType","setWinloss","_selfPlayerWin","setWinlight","hideWinlight","highlightHoleCards","showRMTWinner","hideRMTWinner","clearPlayerInfoDelay","showBtnBackToPlay","startAutoCheckoutCountDown","resetGameTableEvent","_showSecurityTips","content","overflow","Overflow","NONE","setContentSize","Size","_forceUpdateRenderData","textWidth","min","RESIZE_HEIGHT","textHeight","_handleSecurityTips","tipsInfo","Content","tipsCarousel","substring","needDelay","gameEvent","securityTipsEvent","securityInfoList","populateList","_handleNotaryInfo","notaryInfo","Type","_handleConnectStatus","statusInfo","splice","setDisconnectMark","hideDisconnectMark","needShift","_handleSettle","shift","disableCheckoutExit","_handleAddChips","_handleWithdrawChips","_handleChangeSeats","bFadeout","settleGameEvent","foundSettle","_onStandup","_onJoinTable","_joinTable","pos","buyinGold","jointable_cmd","NeedChips","_onAddChips","_addChips","addchips_cmd","onBtnBuyinChipsConfirmClicked","clubFlag","NeedApprove","showWaitingTips","WantSeatId","BuyinChips","lastSeatId","BuyinGoldType","SITDOWN","lastSeatIdPlayerNode","_changeSeats","BACKTOPLAY","hideBtnBackToPlay","_onSelfLeave","_onSelfLeaveNext","_onCheckLeave","canLeave","onClickExitTableItem2","leave_cmd","onDirectExit","onClickConfirmCheckoutExit","_foldCountDownProc","_countDownTotal","_stopAutoFoldCountDown","progressBar","ProgressBar","_operateCountDown","countDownLabel","_countDownOverTip","playTimeOverTip","layerNode","unschedule","_checkCountDownProc","_stopAutoCheckCountDown","dealCards","holeCard1Pos","holeCard2Pos","dealCardsPlayerMyself","dstv2","flipCard","update","dt","contractPos","curPos","distanceArr","sqrt","pow","abs","join","minDistance","max","nextSeat","oldPlayerNode","newPlayerNode","oldPos","newPos","moveBy","_onChangeSeats","changeseats_cmd","Address","withdrawGold","withdrawchips_cmd","_onWithdrawChips","betResult","state","info","op","fold_cmd","ID","_onFold","holecard1ARWorldPt","holecard2ARWorldPt","bet_cmd","_onBet","showAheadOfCheckOrFold","isShow","unSelectSprite","selectedSprite","Sprite","spriteFrame","unSelectSprite2","unSelectSprite3","playAllin","halfPotRaiseNumVal","twoThirdPotRaiseNumVal","potRaiseNumVal","event","worldPoint","getLocation","_freeRaiseEndPos","playSliderTop","_freeRaiseStartPos","playSlider","slots","Error","onClickBtnAllin","freeRaiseChipsNumVal","handler","_onBtnFreeRaiseTouchStart","_onBtnFreeRaiseTouchMove","_onBtnFreeRaiseTouchEnd","Pots","_replayPots","srcv2","chipsToPot","playChipsToPot","hideAllinHead","SidePotPositions","stopAllin","_resetPotsSidePots","flop1Pt","flop2Pt","flop3Pt","animate","flopPtArr","flopWolrdPt","CommunityCardPositions","flop2MoveEnd","flop3MoveEnd","turnPt","playDealCard","dealCard","riverPt","show","repeatForever","rotateBy","addr","color","noticeLayer","unmanaged","eventArr","seatTurn","happenedINS","_startRMTChooseCountDown","RMTPlayer","Times","RMTTimes","_startNegotiateYesCountDown","totalSecureBuy","totalFullPotBuy","potsSum","MainPot","SecureBuy","FullPotBuy","SidePot","pots","getChildByName","newAmounts","_getNewBuyAmount","removeAllChildren","mainPotNode","sidePotNode","mainPot","newMainAmount","_initINSDetails","sidePot","newSideAmount","_initBuyLayer","INSPlayer","bBuyed","buttonNode","buyMinAmount","_INSoperateCountDown","_INScountDownTotal","maskNode","_INSCDMask","_INSCDAmount","_INSChooseCountDownProc","onBtnBuyINS","onBtnINSPass","choosePot","potInfo","outsCardsLayer","assetMgr","childrenCount","children","Outs","carNode","cards0","communityCardsLayer","PublicCards","potName","PotNum","OddsValue","OutsLen","_initINSRaiseSlider","slider","targetOff","totalLength","amount","Selected","UnSelected","_changeBuyLayer","Order","oldMainAmount","oldSideAmount","Index","ceil","totalBuyAmount","buyNode","valueLabel","selectNode","passNode","_startINSChooseCountDown","oterPot","newValue","_stopINSChooseCountDown","_onINSCancelBuy","customEventData","_onRMTClose","mainAmount","sideAmount","ins_cmd","_onINSBuy","totalAmount","_stopWaitingINS","showINSFlag","_playINSEffect","BuyerSeat","mainWin","InsWin","insurancePayToPlayer","playerPayToInsurance","sideWin","_stopRMTChooseCountDown","rmtchoose_cmd","_onRMTChoose","onBtnRMTOnceClicked","_RMTChooseCountDownProc","declarermt_cmd","Agree","_onDeclareRMT","_stopNegotiateYesCountDown","onBtnNegotiateYesClicked","_RMTNegotiateYesCountDownProc","audioEngine","stopAll","restart","OS_ANDROID","OS_WINDOWS","OS_OSX","StopNode","STANDBYNEXT","OFFLINE","SHOWDOWNOFFLINE","_onSelfPlayingStatus"],"mappings":"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e,OAAzE,GAAmF,GAAnF,GAAyFoe,UAAU,CAAC1S,IAApG,GAA2G,gBAA3G,GAA8HnL,IAAI,CAACC,SAAL,CAAe4d,UAAf,CAAxI;AACA9mB,IAAAA,EAAE,CAACyH,KAAH,CAASoG,GAAT,CAAaC,QAAb,CAAsB,CAAC,qBAAD,EAAwB,EAAxB,CAAtB,EAAmD,KAAK4Y,iBAAL,CAAuB1Y,IAAvB,CAA4B,IAA5B,EAAkChO,EAAE,CAACyH,KAAH,CAASqN,QAAT,CAAkBC,OAAlB,CAA0B2B,IAA1B,GAAiC,GAAjC,GAAuCoQ,UAAU,CAACpe,OAAlD,GAA4D,GAA5D,GAAkEoe,UAAU,CAAC1S,IAA7E,GAAoF,SAAtH,CAAnD,EAhH2B,CAiH3B;AACA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","sourceRoot":"/","sourcesContent":["var Types = require('Types');\nvar PositionData = require('PositionData');\nvar Log = require('Log');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        //菜单栏\n        mainMenuPopup: cc.Node,         //弹出式主菜单\n        checkoutExitToast: cc.Node,     //结算离桌提示框\n        buyinGoldDialog: cc.Node,       //带入金币对话框\n        withdrawGoldDialog: cc.Node,    //撤回金币对话框\n        KALExchangeToGoldDialog: cc.Node, //KAL转金币对话框\n        gameReviewPopup: cc.Node,       //牌局回顾侧菜单\n        gameReplayPopup: cc.Node,       //牌局回放界面\n        debugInfo: cc.Label,            //调试信息\n        //预制资源\n        playerPrefab: cc.Prefab,        //玩家预制资源\n        pokerPrefab: cc.Prefab,         //牌预制资源\n        //底池区域\n        potLayer: cc.Node,              //底池图层\n        potNum: cc.RichText,            //本局底池筹码数\n        currentPotLayer: cc.Node,       //本轮底池图层\n        currentRoundPotNum: cc.RichText,//本轮下注筹码与底池的总和，即总底池数\n        sidePots: [cc.Node],            //边池图层\n        sidePotNums: [cc.RichText],     //边池筹码数\n        dealerMark: cc.Node,            //庄家标识，BlindInfo盲注信息中有\n        actionIdentifier: cc.Node,      //玩家行动指示标\n        //4人桌\n        tableFor4Layer: cc.Node,        //4人桌图层\n        playerAnchorsFor4: [cc.Node],   //4人桌各玩家位置\n        //6人桌\n        tableFor6Layer: cc.Node,        //6人桌图层\n        playerAnchorsFor6: [cc.Node],   //6人桌各玩家位置\n        //8人桌\n        tableFor8Layer: cc.Node,        //8人桌图层\n        playerAnchorsFor8: [cc.Node],   //8人桌各玩家位置\n        //9人桌\n        tableFor9Layer: cc.Node,        //9人桌图层\n        playerAnchorsFor9: [cc.Node],   //9人桌各玩家位置\n        //盲注信息区域\n        fulltableid: cc.Label,\n        blindInfo: cc.Label,\n        roundTips: cc.RichText,\n        tipsBackground: cc.Node,\n        tips: cc.Label,\n        securityTipsBackground: cc.Node,\n        securityTips: cc.Label,\n        //公共牌区域\n        dealCommunityCards: [cc.Node],      //能发牌、移动翻转的公共牌\n        dealRMTCommunityCards1: [cc.Node],  //能移动的多牌公共牌\n        dealRMTCommunityCards2: [cc.Node],  //能移动的多牌公共牌\n        dealRMTCommunityCards3: [cc.Node],  //能移动的多牌公共牌\n        dealRMTCommunityCards4: [cc.Node],  //能移动的多牌公共牌\n        highlightCommunityCards: [cc.Node], //高亮公共牌，用于结算时高亮成牌，遇到多牌情况时可移动\n        //自身玩家操作区域\n        selfHoleCards: [cc.Node],       //摊牌阶段两张底牌最终位置效果，Allin或到摊牌阶段会翻转显示，即holeCard_1、holeCard_2\n        cardType: cc.Label,             //牌型，无论是否弃牌均显示\n        disabledFold: cc.Node,          //禁用的弃牌，点击后到行动时间时自动弃牌\n        btnFold: cc.Node,               //弃牌，带倒计时\n        btnCheck: cc.Node,              //看牌，带倒计时\n        btnCall: cc.Node,               //跟牌\n        callNum: cc.RichText,           //跟注的筹码数\n        btnAheadOfCheckOrFold: cc.Node, //预操作-看/弃牌\n        CheckOrFold: cc.RichText,       //预操作-看/弃牌的文案显示\n        btnAheadOfCall: cc.Node,        //预操作-跟牌-有人下注\n        aheadOfCallNum: cc.RichText,    //预操作-跟注的筹码数\n        btnAheadOfCallAny: cc.Node,     //预操作-跟牌-没人下注\n        AheadOfSprites:[cc.SpriteFrame], //预操作-未选及选中的图标集合\n        btnFreeRaiseDisable: cc.Node,   //自由加注置灰\n        btnFreeRaise: cc.Node,          //自由加注\n        freeRaiseStackNum: cc.Label,    //玩家筹码数\n        btnAllin: cc.Node,              //Allin\n        allinStackNum: cc.Label,        //玩家筹码数\n        bigBlindRaiseLayer: cc.Node,    //大盲加注图层\n        btn2BBRaise: cc.Node,           //2倍大盲加注\n        twoBBRaiseNum: cc.Label,        //2倍大盲加注筹码数\n        btn3BBRaise: cc.Node,           //3倍大盲加注\n        threeBBRaiseNum: cc.Label,      //3倍大盲加注筹码数\n        btn5BBRaise: cc.Node,           //5倍大盲加注\n        fiveBBRaiseNum: cc.Label,       //5倍大盲加注筹码数\n        potRaiseLayer: cc.Node,         //底池加注图层\n        btnHalfPotRaise: cc.Node,       //半池加注\n        halfPotRaiseNum: cc.Label,      //半池加注筹码数\n        btnTwoThirdPotRaise: cc.Node,   //2/3底池加注\n        twoThirdPotRaiseNum: cc.Label,  //2/3底池加注筹码数\n        btnPotRaise: cc.Node,           //底池加注\n        potRaiseNum: cc.Label,          //底池加注筹码数\n        freeRaiseSlider: cc.Slider,     //自由加注滑动条\n        betRatio: cc.Label,             //下注筹码占财富额的比例\n        freeRaiseChipsNum: cc.Label,    //自由加注筹码数\n        winlightLayer: cc.Node,         //玩家赢了的动画效果\n        RMTOperateLayer: cc.Node,       //多牌领先玩家操作界面\n        RMTOperateWaitingLayer: cc.Node,//多牌其他玩家等待领先玩家操作界面\n        RMTNegotiateLayer: cc.Node,     //多牌其他玩家操作界面\n        RMTNegotiateWaitingLayer: cc.Node,//多牌领先玩家等待其他玩家同意界面\n        INSOperateLayer:cc.Node,        //保险操作界面\n        INSOperateWaitingLayer: cc.Node,//保险其他玩家等待领先玩家操作界面\n        INSOperateDetails:cc.Node,      //保险详情界面(主池或边池）\n        INSMainPotDetails:cc.Node,      //保险主池详情界面\n        INSSidePotDetails:cc.Node,      //保险边池详情界面\n        INSToggleContainer:cc.Node,     //保险共用操作按钮列表\n        INSPotPrefab:cc.Prefab,         //保险底池预制资源\n\n        //等待界面\n        normalLoadingLayer: cc.Node,\n    },\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        // 增加value字段存储原始值\n        this.potNum.value = \"0\";\n        this.currentRoundPotNum.value = \"0\";\n        this.callNum.value = \"0\";\n        this.twoBBRaiseNum.value = \"0\";\n        this.threeBBRaiseNum.value = \"0\";\n        this.fiveBBRaiseNum.value = \"0\";\n        this.twoThirdPotRaiseNum.value = \"0\";\n        this.potRaiseNum.value = \"0\";\n        this.freeRaiseChipsNum.value = \"0\";\n        this._actionIdentifierOrgHeight = this.actionIdentifier.height;\n        this._actionIdentifierAngles = new Array();\n        this._actionIdentifierHeights = new Array();\n        this._delayPlayersInfo = false;\n\n        for (let i = 0; i < this.selfHoleCards.length; i++) {\n            let cardNode = cc.instantiate(this.pokerPrefab);\n            this.selfHoleCards[i].addChild(cardNode);\n            let poker = cardNode.getComponent('Poker');\n            poker.init(0, 0);\n            poker.setFaceUp(false);\n        }\n        for (let i = 0; i < this.dealCommunityCards.length; i++) {\n            let cardNode = cc.instantiate(this.pokerPrefab);\n            this.dealCommunityCards[i].addChild(cardNode);\n            let poker = cardNode.getComponent('Poker');\n            poker.init(0, 0);\n            poker.setFaceUp(false);\n        }\n        let dealRMTCommunityCards = new Array();\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards1);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards2);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards3);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards4);\n        for (let i = 0; i < dealRMTCommunityCards.length; i++) {\n            for (let j = 0; j < dealRMTCommunityCards[i].length; j++) {\n                let cardNode = cc.instantiate(this.pokerPrefab);\n                dealRMTCommunityCards[i][j].addChild(cardNode);\n                let poker = cardNode.getComponent('Poker');\n                poker.init(0, 0);\n                poker.setFaceUp(false);\n            }\n        }\n        for (let i = 0; i < this.highlightCommunityCards.length; i++) {\n            let cardNode = cc.instantiate(this.pokerPrefab);\n            this.highlightCommunityCards[i].addChild(cardNode);\n            let poker = cardNode.getComponent('Poker');\n            poker.init(0, 0);\n            poker.setFaceUp(false);\n        }\n        this._initFreeRaiseSlider();\n        this.schedule(this._dispatchGameEvent, 1);  //此定时器检测本局游戏玩家及手牌都具备后开始发牌动画\n        this.schedule(this._updateMenuStatus, 60);  //定时更新玩家自身状态更新左上角菜单\n        cc.dgame.tableInfo.RawGameEventQueue = new Array();   //GameEvent消息队列\n        this._resendQueue = new Array();\n        cc.dgame.tableInfo.DealCardFlag = {};        //以手数为下标的发牌标志，收到当前手的BlindInfo和第一个TurnInfo才可以发牌\n        this._animationTimerDelay = {}; //记录动画定时器个数与延时，_dispatchGameEvent要等此值为零时才处理GameEvent消息\n        this._delayShiftSeatArray = new Array;\n        this._RMTTimes = 1;\n        this._isBackground = false;\n        this._joinReq = {};\n        cc.dgame.tableInfo.SelfReady = false;\n        cc.dgame.tableInfo.ContractStatus = Types.ContractStatus.NOTJOIN;\n        cc.dgame.tableInfo.IsRecover = false;\n        cc.dgame.tableInfo.ShiftSeat = false;\n        cc.dgame.tableInfo.SecurityTipsList = new Array();\n        cc.dgame.gameReviewPopup.FullTableId = cc.dgame.tableInfo.FullTableId;\n        cc.dgame.gameReviewPopup.TableId = cc.dgame.tableInfo.TableId;\n        cc.dgame.mainMenuPopup.updateStatus();\n        this._resetGameInfo();\n        this._resetGameTable();\n        this.debugInfo.active = false;\n        cc.find(\"Canvas/TableInfoLayer/layoutTableInfo/btnTableInfo/btn_tableinfo_on\").active = cc.find(\"Canvas/TableInfoDetailLayer\").active;\n        cc.find(\"Canvas/TableInfoLayer/layoutTableInfo/btnTableInfo/btn_tableinfo_off\").active = !cc.find(\"Canvas/TableInfoDetailLayer\").active;\n        Log.Debug('[GameTable:onLoad] ' + JSON.stringify(cc.dgame.tableInfo));\n        if (!cc.dgame.tableInfo || !cc.dgame.tableInfo.TableId || parseInt(cc.dgame.tableInfo.TableId) == 0) {\n            cc.director.loadScene('GameHall');\n            return;\n        }\n        //座位编号规则：\n        //最底为0号位，自身玩家的位置，后面的位置从0号位开始顺时针按顺序排号，玩家任意选座后会以距离0号位置最近的方向（顺时针/逆时针）旋转至0号位置坐下\n        this.playerTables = {};\n        this.playerAnchors = {};\n        //4人桌各位置使用的预制资源\n        this.playerTables['4'] = this.tableFor4Layer;\n        this.playerAnchors['4'] = this.playerAnchorsFor4;\n        //6人桌各位置使用的预制资源\n        this.playerTables['6'] = this.tableFor6Layer;\n        this.playerAnchors['6'] = this.playerAnchorsFor6;\n        //8人桌各位置使用的预制资源\n        this.playerTables['8'] = this.tableFor8Layer;\n        this.playerAnchors['8'] = this.playerAnchorsFor8;\n        //9人桌各位置使用的预制资源\n        this.playerTables['9'] = this.tableFor9Layer;\n        this.playerAnchors['9'] = this.playerAnchorsFor9;\n        //根据最大玩家数显示各玩家位置\n        this._maxPlayers = cc.dgame.tableInfo.MaxNum;\n        this._maxPlayerStr = cc.dgame.tableInfo.MaxNum + '';\n        this.playerTables[this._maxPlayerStr].active = true;\n        let gametable = cc.find(\"Canvas/bg_gamehall/bg_gametable\");\n        let gametable_long = cc.find(\"Canvas/bg_gamehall/bg_gametable_long\");\n        let btnmenu = cc.find(\"Canvas/MenuLayer/LeftTopMemuLayer/BtnMainMenu\");\n        btnmenu.getComponent(cc.Widget).updateAlignment();  //使对齐生效，否则下面获取到的还是原设计的坐标\n        let menuv2 = btnmenu.convertToWorldSpaceAR(cc.v2(0, 0));\n        let gametablev2 = gametable.convertToWorldSpaceAR(cc.v2(0, 0));\n        let gametable_longv2 = gametable_long.convertToWorldSpaceAR(cc.v2(0, 0));\n        let newOriginWorldPT = null;\n        Log.Trace(\"WxH: \" + cc.winSize.width + \"x\" + cc.winSize.height + \", ratio: \" + cc.winSize.height / cc.winSize.width);\n        if (cc.winSize.height / cc.winSize.width >= 2) {\n            gametable.active = false;\n            gametable_long.active = true;\n            newOriginWorldPT = cc.v2(gametable_longv2.x, (menuv2.y - btnmenu.height / 2)/2);\n            let newNodePT = gametable_long.parent.convertToNodeSpaceAR(newOriginWorldPT);\n            gametable_long.setPosition(gametable_long.parent.convertToNodeSpaceAR(newOriginWorldPT));\n        } else {\n            gametable.active = true;\n            gametable_long.active = false;\n            newOriginWorldPT = cc.v2(gametablev2.x, (menuv2.y - btnmenu.height / 2)/2);\n            let newNodePT = gametable_long.parent.convertToNodeSpaceAR(newOriginWorldPT);\n            gametable.setPosition(gametable.parent.convertToNodeSpaceAR(newOriginWorldPT));\n        }\n        Log.Trace(\"newOriginWorldPT: \" + newOriginWorldPT);\n        for (var i = 0; i < this._maxPlayers; i++) {\n            let playerAnchor = this.playerAnchors[this._maxPlayerStr][i];\n            if (gametable.active) {\n                let newOrg = gametable.getPosition();\n                playerAnchor.setPosition(PositionData.GameTablePlayerAnchorPositions[i].x + newOrg.x, PositionData.GameTablePlayerAnchorPositions[i].y + newOrg.y);\n            } else {\n                let newOrg = gametable_long.getPosition();\n                playerAnchor.setPosition(PositionData.GameTableLongPlayerAnchorPositions[i].x + newOrg.x, PositionData.GameTableLongPlayerAnchorPositions[i].y + newOrg.y);\n            }\n            let playerNode = cc.instantiate(this.playerPrefab);\n            playerAnchor.addChild(playerNode);\n            let player = playerNode.getComponent('Player');\n            player.initPlayerByTablePos(this._maxPlayers, i);\n\n            //计算玩家指示器长度和角度\n            let srcPos = this.actionIdentifier.convertToWorldSpaceAR(cc.v2(0, 0));\n            let dstPos = this.playerAnchors[this._maxPlayerStr][i].convertToWorldSpaceAR(cc.v2(0, 0));\n            let lastPos = this.playerAnchors[this._maxPlayerStr][0].convertToWorldSpaceAR(cc.v2(0, 0));\n            let oldVec = lastPos.sub(srcPos);\n            let newVec = dstPos.sub(srcPos);\n            this._actionIdentifierHeights.push(dstPos.sub(srcPos).mag() + 136 / 2);\n            this._actionIdentifierAngles.push(newVec.signAngle(oldVec) / Math.PI * 180);\n\n            // player.startCountDown(15);\n            if (i == 0) {\n                let holeCardsLayer = cc.find(\"Canvas/HoldCardsLayer\");\n                let selfHeadWorldPT = playerAnchor.convertToWorldSpaceAR(cc.v2(0, 0));\n                let newHoleCardsWorldPT = cc.v2(selfHeadWorldPT.x, selfHeadWorldPT.y + 178);//178=牌高度一半+牌和头40+头高度一半\n                holeCardsLayer.setPosition(holeCardsLayer.parent.convertToNodeSpaceAR(newHoleCardsWorldPT));\n\n                let operateLayer = cc.find(\"Canvas/OperatePanelLayer\");\n                let newOperateWorldPT = cc.v2(newHoleCardsWorldPT.x, newHoleCardsWorldPT.y - 15);//操作层比底牌低15\n                operateLayer.setPosition(operateLayer.parent.convertToNodeSpaceAR(newOperateWorldPT));\n\n                let winLightLayer = cc.find(\"Canvas/WinlightLayer\");\n                let newWinLightWorldPT = cc.v2(newHoleCardsWorldPT.x, newHoleCardsWorldPT.y + 300);//WinLight层比底牌高300\n                winLightLayer.setPosition(winLightLayer.parent.convertToNodeSpaceAR(newWinLightWorldPT));\n\n                let communityCardLayer = cc.find(\"Canvas/CommunityCardsLayer\");\n                let newCommunityCardWorldPT = cc.v2(newHoleCardsWorldPT.x, newHoleCardsWorldPT.y + 550);//公共牌层比底牌高550\n                communityCardLayer.setPosition(communityCardLayer.parent.convertToNodeSpaceAR(newCommunityCardWorldPT));\n\n                let securityTipsLayer = cc.find(\"Canvas/SecurityTipsLayer\");\n                let newSecurityTipsWorldPT = cc.v2(newHoleCardsWorldPT.x, newHoleCardsWorldPT.y + 550);//安全提示层比底牌高550\n                securityTipsLayer.setPosition(securityTipsLayer.parent.convertToNodeSpaceAR(newSecurityTipsWorldPT));\n\n                let roundTipsLayer = cc.find(\"Canvas/RoundTips\");\n                let newRoundTipsWorldPT = null;\n                if (gametable.active) {\n                    newRoundTipsWorldPT = cc.v2(newCommunityCardWorldPT.x, newCommunityCardWorldPT.y + 158);//轮次提示层比公共牌高158\n                } else {\n                    newRoundTipsWorldPT = cc.v2(newCommunityCardWorldPT.x, newCommunityCardWorldPT.y + 308);//轮次提示层比公共牌高308\n                }\n                roundTipsLayer.setPosition(roundTipsLayer.parent.convertToNodeSpaceAR(newRoundTipsWorldPT));\n\n                let tipsLayer = cc.find(\"Canvas/TipsLayer\");\n                let newTipsWorldPT = null;\n                if (gametable.active) {\n                    newTipsWorldPT = cc.v2(newCommunityCardWorldPT.x, newCommunityCardWorldPT.y + 158);//轮次提示层比公共牌高158\n                } else {\n                    newTipsWorldPT = cc.v2(newCommunityCardWorldPT.x, newCommunityCardWorldPT.y + 308);//轮次提示层比公共牌高308\n                }\n                tipsLayer.setPosition(tipsLayer.parent.convertToNodeSpaceAR(newTipsWorldPT));\n\n                let tableinfo = cc.find(\"Canvas/TableInfoLayer\");\n                tableinfo.getComponent(cc.Widget).updateAlignment();  //使对齐生效，否则下面获取到的还是原设计的坐标\n                let tableinfov2 = tableinfo.convertToWorldSpaceAR(cc.v2(0, 0));\n                tableinfov2.y = tableinfov2.y - 35 - 6;\n                let tableinfodetail = cc.find(\"Canvas/TableInfoDetailLayer/scrollview\");\n                tableinfodetail.setPosition(tableinfodetail.parent.convertToNodeSpaceAR(tableinfov2));\n\n                let potLayer = cc.find(\"Canvas/PotLayer\");\n                let newPotWorldPT = null;\n                if (gametable.active) {\n                    newPotWorldPT = cc.v2(newCommunityCardWorldPT.x, newCommunityCardWorldPT.y + 340);//轮次提示层比公共牌高340\n                } else {\n                    newPotWorldPT = cc.v2(newCommunityCardWorldPT.x, newCommunityCardWorldPT.y + 490);//轮次提示层比公共牌高490\n                }\n                potLayer.setPosition(potLayer.parent.convertToNodeSpaceAR(newPotWorldPT));\n                //player.btnBackToPlay.active = true;\n                //var seq = cc.sequence(cc.moveBy(0.5, 200, 0), cc.moveBy(0.5, -200, 0));                \n                //playerNode.runAction(seq);\n//                var spawn = cc.spawn(cc.moveBy(0.5, 0, 50), cc.scaleTo(0.5, 0.8, 1.4));\n//                playerNode.runAction(spawn);\n            }\n        }\n        //显示牌局盲注信息\n        this.fulltableid.string = cc.dgame.tableInfo.FullTableId;\n        this.blindInfo.string = cc.dgame.utils.formatValue(cc.dgame.tableInfo.SmallBlind) + '/' + cc.dgame.utils.formatValue(cc.dgame.tableInfo.SmallBlind * 2).toString();\n        if (cc.dgame.tableInfo.Straddle !== 0) {\n            this.blindInfo.string += '/' + cc.dgame.utils.formatValue(cc.dgame.tableInfo.SmallBlind * 4).toString();\n        }\n        if (cc.dgame.tableInfo.Ante > 0) {\n            this.blindInfo.string += '(' + cc.dgame.utils.formatValue(cc.dgame.tableInfo.Ante) + ')';\n        }\n        this.freeRaiseSlider.progress = 0;\n        this.scheduleOnce(function () {\n            cc.dgame.net.gameCall([\"Play_GetRecoverData\", \"\"], this._onGetRecoverData.bind(this));\n        }, 0.1);\n        cc.dgame.gametable = this;\n        cc.dgame.roomEventMgr.startListen();\n        let subGameTable_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        }\n        cc.dgame.net.gameCall([\"subscribeGameTable\", JSON.stringify(subGameTable_cmd)]);\n        cc.dgame.net.addEventListener(['gameEvent', parseInt(cc.dgame.tableInfo.TableId)], this._onGameEvent.bind(this));\n        cc.dgame.gameRequestMgr.startCheckGameRequest();\n        cc.dgame.gameRequestMgr.handleCountDownTimeout = this.onClickExitTableItem.bind(this);\n        cc.dgame.clubRequestMgr.startCheckClubRequest();\n        if (cc.sys.isNative) {\n            if (cc.sys.isMobile) {\n                if (cc.sys.os === cc.sys.OS_IOS) {\n                    jsb.reflection.callStaticMethod(\"NativeGengine\", \"keepScreenOn:\", true);\n                }\n            }\n        }\n\n        cc.game.on(cc.game.EVENT_HIDE, this._gameSwitchBackground.bind(this), this);\n\n        cc.game.on(cc.game.EVENT_SHOW, this._gameSwitchForeground.bind(this), this);\n\n        if (parseInt(cc.dgame.tableInfo.TableId) < 0xE000000000000 && parseInt(cc.dgame.tableInfo.LeftTime) > 0) {\n            this._endTime = Math.floor(new Date().getTime() / 1000) + parseInt(cc.dgame.tableInfo.LeftTime);\n        } else {\n            this._endTime = 0;\n        }\n        // this._handleRmtCards(JSON.parse('{\"CurnSeat\":-1,\"DeskCard\":{},\"Hand\":6,\"HandCard\":[\"梅花9\",\"梅花5\"],\"IsMyTurn\":false,\"OP\":{\"Bet\":false,\"Call\":{\"Flag\":false,\"Value\":0},\"Check\":false,\"Fold\":false,\"Raise\":{\"Flag\":false,\"Value\":0}},\"PlayerInfo\":[{\"Allin\":true,\"Balance\":0,\"Fold\":false,\"ID\":2,\"TotalBet\":699,\"TurnBet\":699},{\"Allin\":true,\"Balance\":0,\"Fold\":false,\"ID\":7,\"TotalBet\":400,\"TurnBet\":400}],\"Pot\":[800,299],\"RmtCard\":[[\"梅花7\",\"黑桃10\",\"黑桃8\",\"梅花4\",\"方块7\"],[\"方块Q\",\"方块8\",\"梅花8\",\"黑桃2\",\"方块4\"],[\"黑桃J\",\"方块3\",\"梅花Q\",\"红心K\",\"方块2\"],[\"梅花K\",\"黑桃6\",\"黑桃A\",\"梅花A\",\"方块J\"]]}'));\n        // this.scheduleOnce(function () {\n        //     this._highlightCommunityCards(0, [\"梅花7\",\"黑桃10\",\"黑桃8\",\"梅花4\",\"方块7\"]);\n        // }, 5);\n        // cc.dgame.utils.setOriginValue(this.potNum, 534, \"yellow\");\n        // cc.dgame.utils.setOriginValue(this.sidePotNums[0], 1466,\"yellow\");\n        // this.potLayer.active = true;\n        // this.sidePots[0].active = true;\n        // this.scheduleOnce(function () {\n        //     this._potsToPlayers(JSON.parse('[[{\"Allot\":[{\"Seat\":7,\"Win\":178}],\"PotValue\":178},{\"Allot\":[{\"Seat\":7,\"Win\":489}],\"PotValue\":489}],[{\"Allot\":[{\"Seat\":7,\"Win\":178}],\"PotValue\":178},{\"Allot\":[{\"Seat\":7,\"Win\":489}],\"PotValue\":489}],[{\"Allot\":[{\"Seat\":2,\"Win\":178}],\"PotValue\":178},{\"Allot\":[{\"Seat\":7,\"Win\":488}],\"PotValue\":488}]]'));\n        // }, 2);\n        //this._onGetRecoverData('{\"ConsensusState\":3,\"DealInfo\":{\"DeskCard\":{\"publicCard\":[25,14,38],\"publicIndex\":[4,5,6]},\"SelfCard\":{\"privateCard\":[],\"privateIndex\":[]}},\"Flop\":{\"BetSignflag\":false,\"Betflag\":false,\"Dealcardflag\":true},\"FlopFlag\":false,\"GameOverFlag\":false,\"Hand\":1,\"HandDiffFlag\":false,\"Preflop\":{\"BetSignflag\":true,\"Betflag\":true,\"BlindInfo\":{\"BigBlind\":2,\"Dealer\":7,\"SmallBlind\":7,\"SmallBlindBet\":1,\"TotalAnteBet\":0},\"Dealcardflag\":true,\"ForceBetflag\":true},\"PreflopFlag\":true,\"RiverFlag\":false,\"SeatStatus\":0,\"SettleFlag\":false,\"TableInfo\":{\"Ante\":0,\"BigBlindPos\":2,\"CurrentStatus\":2,\"DealerPos\":7,\"Maximum\":9,\"Minimum\":2,\"NeedChips\":200,\"Players\":[{\"Amount\":\"400\",\"Hand\":0,\"PlayerAddr\":\"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\"Pos\":0,\"Status\":3},{\"Amount\":\"400\",\"Hand\":1,\"PlayerAddr\":\"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\"Pos\":2,\"Status\":6},{\"Amount\":\"400\",\"Hand\":1,\"PlayerAddr\":\"0x2b9B0f95f131d7F254bb9B3674641fE64738ff10\",\"Pos\":7,\"Status\":6}],\"SmallBlind\":1,\"SmallBlindPos\":7,\"Straddle\":0,\"TableID\":261318426755078},\"TurnFlag\":false}');\n    },\n\n    _gameSwitchBackground () {\n        Log.Trace(\"游戏进入后台\");\n        this._isBackground = true;\n        let gameSwitch_cmd = {\n            Action: \"Background\"\n        }\n        cc.dgame.net.gameCall([\"gameSwitch\",JSON.stringify(gameSwitch_cmd)], this._onGameSwitchBackground.bind(this));\n    },\n\n    _gameSwitchForeground () {\n        Log.Trace(\"游戏进入前台\");\n        this._isBackground = false;\n        let gameSwitch_cmd = {\n            Action: \"Foreground\"\n        }\n        cc.dgame.net.gameCall([\"gameSwitch\",JSON.stringify(gameSwitch_cmd)], this._onGameSwitchForeground.bind(this));\n    },\n\n    _onGameSwitchBackground (data) {\n        Log.Trace('[_onGameSwitchBackground] ' + data);\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n    },\n\n    _onGameSwitchForeground (data) {\n        Log.Trace('[_onGameSwitchForeground] ' + JSON.stringify(data));\n        if (data.Info == \"SwitchForegroundBeforeSwitchBackground\") {\n            return;\n        }\n\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            this._resendQueue.push({\"type\":\"gameSwitchForeground\"});\n            Log.Trace(\"[_onGameSwitchForeground] this._resendQueue: \" + JSON.stringify(this._resendQueue));\n            return;\n        }\n\n        this._updateMenuStatus();\n        if (data.Info == \"NotInAnyTable\" || data.Info == \"NotInGame\") {\n            this._resetGameInfo();\n            this._resetGameTable();\n            this._restoreOperatePanel();\n            cc.dgame.tableInfo.RawGameEventQueue = new Array();\n            this.debugInfo.string = this._getAllMsgCount();\n            var seatinfo_cmd = {\n                TableId: cc.dgame.tableInfo.TableId,\n            };\n            cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n        }\n    },\n\n    _getAnimationTimerDelay () {\n        let totalCount = 0;\n        let now = new Date().getTime();\n        let maxTick = now;\n        for (let key in this._animationTimerDelay) {\n            if (this._animationTimerDelay[key] > maxTick) {\n                maxTick = this._animationTimerDelay[key];\n            }\n            totalCount++;\n        }\n        let result = {};\n        result.count = totalCount;\n        result.endTick = maxTick;\n        result.duration = maxTick - now;\n        Log.Trace(\"[_getAnimationTimerDelay] \" + JSON.stringify(result) + \", \" + JSON.stringify(this._animationTimerDelay));\n        return result;\n    },\n\n    start () {\n\n    },\n\n    onDestroy () {\n        if (cc.sys.isNative) {\n            if (cc.sys.isMobile) {\n                if (cc.sys.os === cc.sys.OS_IOS) {\n                    jsb.reflection.callStaticMethod(\"NativeGengine\", \"keepScreenOn:\", false);\n                }\n            }\n        }\n        if (!!cc.dgame) {\n            cc.dgame.gametable = null;\n            cc.dgame.net.gameCall([\"unsubscribeGameTable\", \"\"]);\n            cc.dgame.net.removeAllMsg();\n            cc.dgame.net.removeEventListener([\"gameEvent\"]);\n            delete this._exitRoomFlag;\n        }\n        cc.game.off(cc.game.EVENT_HIDE);\n        cc.game.off(cc.game.EVENT_SHOW);\n        Log.Trace(\"GameTable:onDestroy\");\n    },\n\n    _recoverDealInfo (dealInfo) {\n        Log.Trace(\"GameTable:_recoverDealInfo:\" + JSON.stringify(dealInfo));\n        for (let i = 0; i < this._dealCardPlayerPosArray.length; i++) {\n            let playerPos = this._dealCardPlayerPosArray[i];\n            let player = this.playerAnchors[this._maxPlayerStr][playerPos].getChildren()[0].getComponent('Player');\n            if (playerPos != cc.dgame.tableInfo.SeatId) {\n                //其他玩家发牌，发到玩家头像FirstCard、SecondCard\n                player.recoverDealCards();\n            } else {\n                //自身玩家发牌，发到HoleCard位置，然后隐藏，使用GameTable的HoleCard来翻转，弃牌的时候用Player的DealCard来弃牌\n                for (let j = 0; j < this.selfHoleCards.length; j++) {\n                    this.selfHoleCards[j].active = true;\n                    let poker = this.selfHoleCards[j].getChildren()[0].getComponent('Poker');\n                    poker.setCardPoint(dealInfo.SelfCard.privateCard[j]);\n                    poker.setFaceUp(true);\n                }\n            }\n        }\n\n        if (dealInfo.DeskCard.publicCard.length >= 3) {\n            this._dealFlopCards(dealInfo.DeskCard.publicCard[0], dealInfo.DeskCard.publicCard[1], dealInfo.DeskCard.publicCard[2], false);\n            this.roundTips.string = cc.dgame.utils.formatRichText(\"Flop round\", \"#ffffff\", true, true);\n            if (dealInfo.DeskCard.publicCard.length >= 4) {\n                this._dealTurnCard(dealInfo.DeskCard.publicCard[3], false);\n                this.roundTips.string = cc.dgame.utils.formatRichText(\"Turn round\", \"#ffffff\", true, true);\n                if (dealInfo.DeskCard.publicCard.length == 5) {\n                    this._dealRiverCard(dealInfo.DeskCard.publicCard[4], false);\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"River round\", \"#ffffff\", true, true);\n                }\n            }\n        }\n    },\n\n    _recoverBlindInfo (blindInfo) {\n        cc.dgame.tableInfo.BlindInfo = blindInfo;\n        this.currentPotLayer.active = true;\n        cc.dgame.utils.setOriginValue(this.currentRoundPotNum,cc.dgame.tableInfo.BlindInfo.TotalAnteBet);\n        cc.dgame.tableInfo.LastDealer = cc.dgame.tableInfo.BlindInfo.Dealer;\n        let i = (cc.dgame.tableInfo.BlindInfo.Dealer + 1) % this._maxPlayers;\n        let newDealCardArr = new Array();\n        //从庄家的下一位开始转一圈，判断每个位置上玩家状态，PLAYING则按顺序加入列表中\n        while (i != cc.dgame.tableInfo.BlindInfo.Dealer) {\n            if (this._isPlaying(i)) {\n                newDealCardArr.push(i);\n            }\n            i = (i + 1) % this._maxPlayers;\n        }\n        //最后判断是否是空Dealer\n        if (this._isPlaying(i)) {\n            newDealCardArr.push(i)\n        }\n        this._dealCardPlayerPosArray = newDealCardArr;\n        Log.Debug('[_recoverBlindInfo] _dealCardPlayerPosArray: ' + JSON.stringify(this._dealCardPlayerPosArray));\n        //扣除前注\n        for (let i = 0; i < this._dealCardPlayerPosArray.length; i++) {\n            let anchorNode = this.playerAnchors[this._maxPlayerStr][this._dealCardPlayerPosArray[i]].getChildren()[0];\n            let player = anchorNode.getComponent('Player');\n            let stack = player.getStack();\n            player.setStack(stack - parseFloat(cc.dgame.tableInfo.Ante));\n        }\n        if (!this.potLayer.active) {\n            this.potLayer.active = true;\n        }\n    },\n\n    _onGetRecoverData (data) {\n        //{\"ConsensusState\":3,\"DealInfo\":{\"DeskCard\":{\"publicCard\":[],\"publicIndex\":[]},\"SelfCard\":{\"privateCard\":[35,20],\"privateIndex\":[2,3]}},\"FlopFlag\":false,\"GameOverFlag\":false,\"Hand\":145,\"HandDiffFlag\":false,\"Preflop\":{\"BetSignflag\":false,\"Betflag\":false,\"BlindInfo\":{\"BigBlind\":5,\"Dealer\":0,\"SmallBlind\":0,\"SmallBlindBet\":5,\"TotalAnteBet\":4},\"Dealcardflag\":true,\"ForceBetflag\":true},\"PreflopFlag\":false,\"RiverFlag\":false,\"SeatStatus\":6,\"SettleFlag\":false,\"TableInfo\":{\"Players\":[{\"Amount\":\"2500\",\"Hand\":145,\"PlayerAddr\":\"0x0ec426721669CB0ddA2f23CdD74ff5cf78D3D5f9\",\"Pos\":0,\"Status\":6},{\"Amount\":\"1000\",\"Hand\":145,\"PlayerAddr\":\"0x515728cD4A9E1F1B084F0A13477e1eB82baBB36b\",\"Pos\":5,\"Status\":6}],\"TableID\":1},\"TurnFlag\":false}\n        //data = '{\"SeatStatus\":0,\"TableInfo\":{\"Ante\":0,\"BigBlindPos\":8,\"CurrentStatus\":2,\"DealerPos\":5,\"Maximum\":9,\"Minimum\":2,\"NeedChips\":200,\"Players\":[{\"Amount\":\"421\",\"Hand\":12,\"PlayerAddr\":\"0xabE6510cce65383B7fC4CFaf767638160F13729C\",\"Pos\":0,\"Status\":6},{\"Amount\":\"388\",\"Hand\":0,\"PlayerAddr\":\"0x834d2B2ee9B9261f38724FE37527332D2a8FE306\",\"Pos\":1,\"Status\":9},{\"Amount\":\"384\",\"Hand\":12,\"PlayerAddr\":\"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\"Pos\":2,\"Status\":6},{\"Amount\":\"400\",\"Hand\":0,\"PlayerAddr\":\"0x623849eb70CF988f279C0ab888037E32391d89D0\",\"Pos\":3,\"Status\":3},{\"Amount\":\"534\",\"Hand\":12,\"PlayerAddr\":\"0xCF1467f2b3716700C7AcFabc269e6192f5EA75b2\",\"Pos\":5,\"Status\":6},{\"Amount\":\"340\",\"Hand\":12,\"PlayerAddr\":\"0x65AFA55bb04B92672470826588887e7CBe0014B0\",\"Pos\":7,\"Status\":6},{\"Amount\":\"333\",\"Hand\":12,\"PlayerAddr\":\"0xeabf753cCfB9f6C23A2866D0d3108AFc807703D5\",\"Pos\":8,\"Status\":6}],\"SmallBlind\":1,\"SmallBlindPos\":7,\"Straddle\":0,\"TableID\":21715891519489}}';\n        Log.Trace('[_onGetRecoverData] ' + data);\n        if (parseInt(data) === -1) {\n            Log.Trace('[_onGetRecoverData] fail');\n            return;\n        }\n        let recoverData = JSON.parse(data);\n        Log.Trace('[_onGetRecoverData] SeatStatus: ' + recoverData.SeatStatus);\n        if (!recoverData.TableInfo) {\n            cc.dgame.normalLoading.startInvokeWaiting();\n            let self = this;\n            this.scheduleOnce(function () {\n                //获取当前牌桌的玩家信息，包括自己创建自动坐下\n                var seatinfo_cmd = {\n                    TableId: cc.dgame.tableInfo.TableId,\n                };\n                cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], self._onSeatInfoEx.bind(self));\n            }, 0.05);\n            return;\n        }\n        Log.Trace('[_onGetRecoverData] CurrentStatus: ' + recoverData.TableInfo.CurrentStatus);\n        this._dealCardPlayerPosArray = new Array;\n        cc.dgame.tableInfo.IsRecover = true;\n        cc.dgame.tableInfo.StartAction = true;\n        this._onPlayersInfo(recoverData.TableInfo.Players);\n        let hand = 0;\n        for (let i = 0; i < recoverData.TableInfo.Players.length; i++) {\n            if (recoverData.TableInfo.Players[i].Status >= Types.ContractStatus.PLAYING && recoverData.TableInfo.Players[i].Hand > hand) {\n                hand = recoverData.TableInfo.Players[i].Hand;\n            }\n        }\n        if (recoverData.SeatStatus == Types.ContractStatus.PLAYING) {\n            cc.dgame.tableInfo.SelfReady = true;\n        }\n        cc.dgame.tableInfo.RawGameEventQueue = new Array();\n        cc.dgame.tableInfo.DealCardFlag[hand] = {};\n        cc.dgame.tableInfo.DealCardFlag[hand].RecvFirstTurnInfo = false;\n        cc.dgame.tableInfo.DealCardFlag[hand].NeedDealCard = false;\n        let blindInfo = {};\n        blindInfo.BigBlind = recoverData.TableInfo.BigBlindPos;\n        blindInfo.Dealer = recoverData.TableInfo.DealerPos;\n        blindInfo.SmallBlind = recoverData.TableInfo.SmallBlindPos;\n        blindInfo.SmallBlindBet = recoverData.TableInfo.SmallBlind;\n        blindInfo.TotalAnteBet = recoverData.TableInfo.BigBlindPos;\n        this._recoverBlindInfo(blindInfo);\n        cc.dgame.tableInfo.ShiftSeat = true;\n        this._shiftPlayerSeat();\n        var seatinfo_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n        this._delayShiftSeatArray.push({\"type\":\"Play_Recover\"});\n    },\n\n    _onBalanceOf (data) {\n        Log.Trace('[_onBalanceOf] ' + JSON.stringify(data));\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        cc.dgame.settings.account.Chips = data.Balance;\n    },\n\n    _onSeatInfoEx (seats) {\n        Log.Trace('[_onSeatInfoEx] cc.dgame.tableInfo.ShiftSeat: ' + cc.dgame.tableInfo.ShiftSeat + \", \" + JSON.stringify(seats));\n        if (seats == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        if (cc.dgame.tableInfo.ShiftSeat) {\n            this._delayShiftSeatArray.push({\"type\":\"onSeatInfoEx\", \"data\": seats});\n            return;\n        }\n        this._querySetSelfSeatId(seats.SeatsInfo);\n        Log.Trace('[_onSeatInfoEx] cc.dgame.tableInfo.SeatId:' + cc.dgame.tableInfo.SeatId + \", cc.dgame.tableInfo.SelfReady: \" + cc.dgame.tableInfo.SelfReady);\n\n        let playingNum = 0;\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            player.setTableStatus(seats.CurrentStatus);\n            let found = false;\n            let j = 0;\n            for (; j < seats.SeatsInfo.length; j++) {\n                let seatId = seats.SeatsInfo[j].Pos;  //根据合约位置显示玩家信息\n                if (seatId == i && seats.SeatsInfo[j].PlayerAddr != '0x0000000000000000000000000000000000000000') {\n                    player.initPlayerInfo(seats.SeatsInfo[j].Pos, seats.SeatsInfo[j].PlayerAddr, seats.SeatsInfo[j].PlayerAddr.substr(2, 8), seats.SeatsInfo[j].Amount, seats.SeatsInfo[j].Status);\n                    if (seats.SeatsInfo[j].Status >= Types.ContractStatus.PLAYING) {\n                        playingNum++;\n                    }\n                    if (seats.SeatsInfo[j].Status == Types.ContractStatus.SEATED) {\n                        player.showAction(Types.PlayerOP.STANDBY);\n                        if (seatId == cc.dgame.tableInfo.SeatId && !cc.dgame.tableInfo.SelfReady) {\n                            player.showBtnResitDown();\n                        }\n                    }\n                    found = true;\n                    break;\n                }\n            }\n\n            if (!found) {\n                player.initPlayerInfo(i, '', '', 0, Types.ContractStatus.NOTJOIN);\n                if (cc.dgame.tableInfo.SeatId > -1) {   //自己坐了，其他位置不可点击\n                    Log.Trace('[_onSeatInfoEx] player.disable()');\n                    player.disable();\n                } else {\n                    Log.Trace('[_onSeatInfoEx] player.enable()');\n                    player.enable();\n                }\n            } else {\n                if (cc.dgame.tableInfo.SeatId == i) {\n                    if (seats.SeatsInfo[j].Status >= Types.ContractStatus.PLAYING) {\n                        player.operateLayer.setPosition(PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.x, PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.y);\n                        Log.Trace(\"(x, y) = (\" + PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.x + \",\" + PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.y + \")\");\n                    } else {\n                        player.operateLayer.setPosition(PositionData.PlayerComponentPositions[this._maxPlayers][0].OperateLayer.x, PositionData.PlayerComponentPositions[this._maxPlayers][0].OperateLayer.y);\n                        Log.Trace(\"(x, y) = (\" + PositionData.PlayerComponentPositions[this._maxPlayers][0].OperateLayer.x + \",\" + PositionData.PlayerComponentPositions[this._maxPlayers][0].OperateLayer.y + \")\");\n                    }\n                    cc.dgame.tableInfo.ContractStatus = seats.SeatsInfo[j].Status;\n                    cc.dgame.mainMenuPopup.updateStatus();\n                }\n            }\n        }\n\n        if (playingNum == 0) {\n            this.dealerMark.active = false;\n        }\n\n        cc.dgame.normalLoading.stopInvokeWaiting();\n    },\n\n    _onSeatInfo (seats) {\n        //[{'Amount':10000,'PlayerAddr':'0xaD0fa5E70681062B20dC5162eeB8b16A9fA8ee2D','Pos':0,'Status':3},\n        //{'Amount':0,'PlayerAddr':'0x0000000000000000000000000000000000000000','Pos':0,'Status':0},\n        //{'Amount':0,'PlayerAddr':'0x0000000000000000000000000000000000000000','Pos':0,'Status':0},\n        //{'Amount':0,'PlayerAddr':'0x0000000000000000000000000000000000000000','Pos':0,'Status':0},\n        //{'Amount':0,'PlayerAddr':'0x0000000000000000000000000000000000000000','Pos':0,'Status':0},\n        //{'Amount':0,'PlayerAddr':'0x0000000000000000000000000000000000000000','Pos':0,'Status':0},\n        //{'Amount':0,'PlayerAddr':'0x0000000000000000000000000000000000000000','Pos':0,'Status':0},\n        //{'Amount':0,'PlayerAddr':'0x0000000000000000000000000000000000000000','Pos':0,'Status':0}]\n        Log.Trace('[_onSeatInfo] ' + JSON.stringify(seats));\n        if (seats == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n\n        this._querySetSelfSeatId(seats);\n        Log.Trace('[_onSeatInfo] cc.dgame.tableInfo.SeatId:' + cc.dgame.tableInfo.SeatId);\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            let found = false;\n            let j = 0;\n            for (; j < seats.length; j++) {\n                let seatId = seats[j].Pos;  //根据合约位置显示玩家信息\n                if (seatId == i && seats[j].PlayerAddr != '0x0000000000000000000000000000000000000000') {\n                    player.initPlayerInfo(seats[j].Pos, seats[j].PlayerAddr, seats[j].PlayerAddr.substr(2, 8), seats[j].Amount, seats[j].Status);\n                    if (seats[j].Status == Types.ContractStatus.SEATED) {\n                        player.showAction(Types.PlayerOP.STANDBY);\n                        if (seatId == cc.dgame.tableInfo.SeatId) {\n                            player.showBtnResitDown();\n                        }\n                    }\n                    found = true;\n                    break;\n                }\n            }\n\n            if (!found) {\n                player.initPlayerInfo(i, '', '', 0, Types.ContractStatus.NOTJOIN);\n                if (cc.dgame.tableInfo.SeatId > -1) {   //自己坐了，其他位置不可点击\n                    Log.Trace('[_onSeatInfo] player.disable()');\n                    player.disable();\n                } else {\n                    Log.Trace('[_onSeatInfo] player.enable()');\n                    player.enable();\n                }\n            } else {\n                if (cc.dgame.tableInfo.SeatId == i) {\n                    if (seats[j].Status >= Types.ContractStatus.PLAYING) {\n                        player.operateLayer.setPosition(PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.x, PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.y);\n                    } else {\n                        player.operateLayer.setPosition(PositionData.PlayerComponentPositions[this._maxPlayers][0].OperateLayer.x, PositionData.PlayerComponentPositions[this._maxPlayers][0].OperateLayer.y);\n                    }\n                    cc.dgame.tableInfo.ContractStatus = seats[j].Status;\n                    cc.dgame.mainMenuPopup.updateStatus();\n                }\n            }\n        }\n        cc.dgame.normalLoading.stopInvokeWaiting();\n    },\n\n    _querySetSelfSeatId (seats) {\n        for (let j = 0; j < seats.length; j++) {\n            let seatId = seats[j].Pos;\n            if (cc.dgame.settings.account.Addr.toLowerCase() === seats[j].PlayerAddr.toLowerCase()) {\n                cc.dgame.tableInfo.SeatId = seatId;\n                break;\n            }\n        }\n    },\n\n    _showAnteAndBlindBetThenStartDealCards () {\n        //显示顺序：\n        //移动Dealer标识，同时扣除前注，并显示前注后的总底池；\n        //1秒后前注入底池，大小盲straddle同时推筹码，并扣除相应筹码，修改总底池；\n        //1秒后发牌，发牌结束后第一位玩家开始倒计时\n        let dealerNode = this.playerAnchors[this._maxPlayerStr][cc.dgame.tableInfo.BlindInfo.Dealer].getChildren()[0];\n        let dealer = dealerNode.getComponent('Player');\n        let dealerMarkPos = this.dealerMark.getPosition();\n        Log.Info('[_showAnteAndBlindBetThenStartDealCards] dealer: ' + cc.dgame.tableInfo.BlindInfo.Dealer + ', (' + dealerMarkPos.x + ', ' + dealerMarkPos.y + '), lastDealer: ' + cc.dgame.tableInfo.LastDealer);\n        let newpos = this.dealerMark.parent.convertToNodeSpaceAR(dealer.getDealerMarkPos());\n        if (cc.dgame.tableInfo.LastDealer == null) { //第一局，庄家标识直接闪现\n            Log.Debug('[_showAnteAndBlindBetThenStartDealCards] dealer new pos: (' + newpos.x + ', ' + newpos.y + ')');\n            this.dealerMark.setPosition(newpos);\n            this.dealerMark.active = true;\n        } else {    //后面庄家位置按顺时针顺序轮庄，庄的位置有可能为空\n            this.dealerMark.runAction(\n                cc.moveTo(0.2, newpos),\n            );\n        }\n        cc.dgame.tableInfo.LastDealer = cc.dgame.tableInfo.BlindInfo.Dealer;\n        //扣除前注\n        for (let i = 0; i < this._dealCardPlayerPosArray.length; i++) {\n            let anchorNode = this.playerAnchors[this._maxPlayerStr][this._dealCardPlayerPosArray[i]].getChildren()[0];\n            let player = anchorNode.getComponent('Player');\n            let stack = player.getStack();\n            player.setStack(stack - parseFloat(cc.dgame.tableInfo.Ante));\n        }\n        //前注后的总底池\n        cc.dgame.utils.setOriginValue(this.currentRoundPotNum,cc.dgame.tableInfo.BlindInfo.TotalAnteBet);\n\n        //大小盲straddle\n        this.scheduleOnce(this._animateBlindInfo, 1);\n        this._animationTimerDelay[\"_animateBlindInfo\"] = new Date().getTime() + 1000;\n\n        //发牌\n        this.scheduleOnce(this._dealCards, 2);\n        this._animationTimerDelay[\"_dealCards\"] = new Date().getTime() + 2000 + (0.1 * this._dealCardPlayerPosArray.length + 0.2) * 1000;\n        this._getAnimationTimerDelay();\n    },\n\n    _animateBlindInfo () {\n        if (!this.potLayer.active) {\n            this.potLayer.active = true;\n            this.roundTips.string = cc.dgame.utils.formatRichText(\"Preflop round\", \"#ffffff\", true, true);\n            this.roundTips.node.active = true;\n        }\n\n        let turnInfo = cc.dgame.tableInfo.RawGameEventQueue[0].Params;\n        let totalBet = 0;\n        Log.Trace(\"[_animateBlindInfo] turnInfo: \" + JSON.stringify(turnInfo));\n        for (let seatId in turnInfo.PlayerInfo) {\n            if (turnInfo.PlayerInfo[seatId].TurnBet > 0) {\n                let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n                let player = playerNode.getComponent('Player');\n                player.setBet(turnInfo.PlayerInfo[seatId].TurnBet, true);\n                player.setStack(turnInfo.PlayerInfo[seatId].Balance);\n                totalBet = totalBet + turnInfo.PlayerInfo[seatId].TotalBet;\n                if (seatId == cc.dgame.tableInfo.BlindInfo.Straddle) {  //Straddle位\n                    player.showAction(Types.PlayerOP.STRADDLE);\n                } else if (seatId != cc.dgame.tableInfo.BlindInfo.SmallBlind && seatId != cc.dgame.tableInfo.BlindInfo.BigBlind) {  //非大小盲、非Straddle位\n                    player.showAction(Types.PlayerOP.BUSTRADDLE);\n                }\n            }\n        }\n        cc.dgame.utils.setOriginValue(this.potNum,cc.dgame.utils.getOriginValue(this.currentRoundPotNum),\"yellow\");\n        cc.dgame.utils.setOriginValue(this.currentRoundPotNum,totalBet);\n        //第一轮下注从大小盲开始\n        //TurnInfoList存储TurnInfo消息中的CurnSeat、PlayerInfo、DeskCard，根据两个TurnInfo中DeskCard长度的变化决定这个消息在哪个Stage（Preflop、Flop、Turn、River）\n        //DeskCard长度出现变化，这个消息还是归到上一个Stage，然后改变当前Stage\n        Log.Debug('[_animateBlindInfo]' + JSON.stringify(cc.dgame.tableInfo));\n        delete this._animationTimerDelay[\"_animateBlindInfo\"];\n        this._getAnimationTimerDelay();\n    },\n\n    _onPlayersInfo (players) {\n        //[{\"Amount\":2500,\"Hand\":0,\"PlayerAddr\":\"0x90FC0EE5AE41a7296E249088312a17078CB7C64f\",\"Pos\":0,\"Status\":5},\n        //{\"Amount\":1000,\"Hand\":0,\"PlayerAddr\":\"0x5030BdC5d71ea71B9cbeD4c4411EB6826caF6a97\",\"Pos\":5,\"Status\":3}]\n        Log.Trace('[_onPlayersInfo] ' + JSON.stringify(players));\n        if (players == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            this._delayPlayersInfo = true;\n            return;\n        }\n\n        Log.Trace(\"[_onPlayersInfo] this._joinReq: \" + JSON.stringify(this._joinReq));\n        if (!!this._joinReq.TableId) {\n            players.push({\"Amount\": this._joinReq.Amount, \"Hand\": 0, \"PlayerAddr\": cc.dgame.settings.account.Addr, \"Pos\": this._joinReq.Pos, \"Status\": 4});\n        }\n        this._delayPlayersInfo = false;\n        this._querySetSelfSeatId(players);\n        Log.Trace('[_onPlayersInfo] cc.dgame.tableInfo.SeatId:' + cc.dgame.tableInfo.SeatId + \", cc.dgame.tableInfo.SelfReady: \" + cc.dgame.tableInfo.SelfReady);\n\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            let found = false;\n            let j = 0;\n            for (; j < players.length; j++) {\n                let seatId = players[j].Pos;\n                if (seatId == i) {\n                    player.initPlayerInfo(players[j].Pos, players[j].PlayerAddr, players[j].PlayerAddr.substr(2, 8), players[j].Amount, players[j].Status);\n                    if (players[j].Status == Types.ContractStatus.SEATED) {\n                        player.showAction(Types.PlayerOP.STANDBY);\n                        if (seatId == cc.dgame.tableInfo.SeatId && !cc.dgame.tableInfo.SelfReady) {\n                            player.showBtnResitDown();\n                        }\n                    }\n                    found = true;\n                    break;\n                }    \n            }\n\n            if (!found) {\n                player.initPlayerInfo(i, '', '', 0, Types.ContractStatus.NOTJOIN);\n                if (cc.dgame.tableInfo.SeatId > -1) {   //自己坐了，其他位置不可点击\n                    player.disable();\n                } else {\n                    player.enable();\n                }\n            } else {\n                if (cc.dgame.tableInfo.SeatId == i) {\n                    cc.dgame.tableInfo.ContractStatus = players[j].Status;\n                    cc.dgame.mainMenuPopup.updateStatus();\n                }\n                if (cc.dgame.tableInfo.StartAction && players[j].Status >= Types.ContractStatus.PLAYING) {\n                    player.enable();\n                    player.hideAllActions();         //在本局中的玩家隐藏等待中提示\n                    if (cc.dgame.tableInfo.SeatId == i) {\n                        this.playerMyself = playerNode;\n                        Log.Info('[_onPlayersInfo] playerMyself: ' + i);\n                    }\n                }\n            }\n        }\n\n        if (cc.dgame.tableInfo.StartAction) {\n            cc.dgame.tableInfo.StartAction = false;\n        }\n    },\n\n    _onAddChipsSelfReady (data) {\n        Log.Trace('[_onAddChipsSelfReady]');\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        Log.Trace('[_onAddChipsSelfReady] this._maxPlayerStr:' + this._maxPlayerStr);\n        let playerNode = this.playerAnchors[this._maxPlayerStr][cc.dgame.tableInfo.SeatId].getChildren()[0];\n        let player = playerNode.getComponent('Player');\n        player.showAction(Types.PlayerOP.WAITING);\n        cc.dgame.tableInfo.SelfReady = true;\n        cc.dgame.normalLoading.stopInvokeWaiting();\n    },\n\n    _onSelfReady (data) {\n        Log.Trace('[_onSelfReady] currentScene: ' + cc.director.getScene().name);\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n        if (cc.dgame.tableInfo.SeatId == null  || cc.dgame.tableInfo.SeatId == undefined) {\n            Log.Warn('[_onSelfReady] cc.dgame.tableInfo.SeatId: ' + cc.dgame.tableInfo.SeatId);\n            return;\n        }\n        Log.Trace('[_onSelfReady] this._maxPlayerStr:' + this._maxPlayerStr);\n        let playerNode = this.playerAnchors[this._maxPlayerStr][cc.dgame.tableInfo.SeatId].getChildren()[0];\n        let player = playerNode.getComponent('Player');\n        player.showAction(Types.PlayerOP.WAITING);\n        player.hideBtnResitDown();\n        cc.dgame.tableInfo.SelfReady = true;\n        cc.dgame.tableInfo.ShiftSeat = true;\n        this._shiftPlayerSeat();\n        cc.dgame.normalLoading.stopInvokeWaiting();\n    },\n\n    _handleJoin (data) {\n        //{\"Addr\":\"0x5030BdC5d71ea71B9cbeD4c4411EB6826caF6a97\",\"Amount\":1000,\"Pos\":5,\"Tableid\":2}\n        Log.Trace('[_handleJoin] ' + JSON.stringify(data));\n        var playersinfo_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        if (cc.dgame.settings.account.Addr.toLowerCase() === data.Addr.toLowerCase()) {\n            delete cc.dgame.tableInfo.SittingSeatId;\n            this._joinReq = {};\n            this.securityTipsBackground.parent.stopAllActions();\n            this.securityTipsBackground.parent.active = false;\n            if (parseInt(cc.dgame.tableInfo.TableId) < 0xE000000000000 && (cc.dgame.tableInfo.TableProps & 0x1) == 0) {\n                cc.dgame.gameRequestMgr.hideWaitingTips();\n            }\n            if (data.Errstr == undefined || data.Errstr == \"\") {\n                cc.dgame.tableInfo.SeatId = data.Pos;\n                if (!cc.dgame.tableInfo.SelfReady && this._exitRoomFlag != true) {\n                    cc.dgame.normalLoading.startInvokeWaiting();\n                    cc.dgame.net.gameCall(['ready', ''], this._onSelfReady.bind(this));\n                }\n            } else {\n                cc.dgame.tableInfo.SeatId = -1;\n                let msg = data.Errstr;\n                if (msg == \"error pos\") {\n                    msg = \"The location has been seated\";\n                }\n                this._showNotice(msg);\n                cc.dgame.gameRequestMgr.hideWaitingTips();\n                cc.dgame.net.gameCall(['playersinfo', JSON.stringify(playersinfo_cmd)], this._onPlayersInfo.bind(this));\n            }\n        } else {\n            if (data.Errstr == undefined || data.Errstr == \"\") {\n                cc.dgame.net.gameCall(['playersinfo', JSON.stringify(playersinfo_cmd)], this._onPlayersInfo.bind(this));\n            }\n        }\n    },\n\n    _handleLeave (data) {\n        let animationTimerInfo = this._getAnimationTimerDelay();\n        Log.Trace('[_handleLeave] ' + cc.director.getScene().name + ', tableInfo: ' + JSON.stringify(cc.dgame.tableInfo) + ', data: ' + JSON.stringify(data));\n        if (animationTimerInfo.count > 0 || this._getTypeInGameEventQueueCount(\"GameOverInfo\") == 1) {\n            let leaveGameEvent = {};\n            leaveGameEvent.Event = \"Leave\";\n            leaveGameEvent.Params = data;\n            cc.dgame.tableInfo.RawGameEventQueue.push(leaveGameEvent);\n            Log.Trace('[_handleLeave] new: ' + this._getAllMsgCount());\n            return;\n        }\n        //_handleLeave {\"Addr\":\"0x0A964B7178e69B118F71d87D4B16A36bb8aeCD51\",\"Pos\":5,\"Tableid\":3}\n        Log.Trace('[_handleLeave] cc.dgame.tableInfo.SeatId:' + cc.dgame.tableInfo.SeatId +\n            ', cc.dgame.tableInfo.SittingSeatId: ' + cc.dgame.tableInfo.SittingSeatId +\n            ', data.Pos: ' + data.Pos + ', data.Errstr: ' + data.Errstr + ', data.Addr.toLowerCase(): ' + data.Addr.toLowerCase()\n        + ', cc.dgame.settings.account.Addr.toLowerCase():' + cc.dgame.settings.account.Addr.toLowerCase() + ', this._exitRoomFlag:' + this._exitRoomFlag);\n        if (data.Errstr != \"\") {\n            if (data.Addr.toLowerCase() == cc.dgame.settings.account.Addr.toLowerCase()) {\n                if (this._exitRoomFlag == true) {\n                    delete this._exitRoomFlag;\n                    cc.dgame.normalLoading.stopInvokeWaiting();\n                }\n            }\n            return\n        }\n        if (data.Addr.toLowerCase() == cc.dgame.settings.account.Addr.toLowerCase()) {\n            delete cc.dgame.tableInfo.SittingSeatId;\n            delete cc.dgame.tableInfo.SeatId;\n            cc.dgame.tableInfo.SelfReady = false;\n            this.playerMyself = null;\n            cc.dgame.tableInfo.ContractStatus = Types.ContractStatus.NOTJOIN;\n            this.dealerMark.active = false;\n            cc.dgame.mainMenuPopup.updateStatus();\n            if (!!this.playerMyself) {\n                let player = this.playerMyself.getComponent('Player');\n                if (!!player) {\n                    player.stopAutoCheckoutCountDown();\n                }\n            } else {\n                Log.Warn(\"this.playerMyself == null\")\n            }\n            if (this._exitRoomFlag == true) {\n                delete this._exitRoomFlag;\n                cc.dgame.normalLoading.stopInvokeWaiting();\n                if (this.fulltableid.string.indexOf(\"Free\") != -1 || this.fulltableid.string.indexOf(\"Small\") != -1 || this.fulltableid.string.indexOf(\"Medium\") != -1 || this.fulltableid.string.indexOf(\"Large\") != -1) {\n                    cc.director.loadScene(\"GameHall\");\n                } else {\n                    cc.director.loadScene(\"ClubHall\");\n                }\n            }\n            this._resetGameInfo();\n            this._resetGameTable();\n        }\n        let playerNode = this.playerAnchors[this._maxPlayerStr][data.Pos].getChildren()[0];\n        if (playerNode != null) {\n            let player = playerNode.getComponent('Player');\n            if (player != null) {\n                player.initPlayerInfo(data.Pos, '', '', 0, Types.ContractStatus.NOTJOIN);\n                player.stopAutoCheckoutCountDown();\n                if (cc.dgame.tableInfo.SelfReady) {\n                    player.disable();\n                } else {\n                    player.enable();\n                }\n            } else {\n                Log.Warn(\"player == null\")\n            }\n        } else {\n            Log.Warn(\"playerNode == null\")\n        }\n        delete cc.dgame.tableInfo.LastDealer;\n        //旁观和正在玩的情况下不重置其他位置的状态\n        if (!cc.dgame.tableInfo.SelfReady) {\n            var seatinfo_cmd = {\n                TableId: cc.dgame.tableInfo.TableId,\n            };\n            cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n        }\n    },\n\n    _handleClearGame(clearInfo) {\n        Log.Trace('[_handleClearGame] clearInfo:' + JSON.stringify(clearInfo) +\n            ' ,cc.dgame.tableInfo.SeatId:' + cc.dgame.tableInfo.SeatId);\n        if (cc.dgame.tableInfo.SeatId != clearInfo.Pos) {\n            return\n        }\n        let animationTimerInfo = this._getAnimationTimerDelay();\n        if (animationTimerInfo.count > 0 || this._getTypeInGameEventQueueCount(\"GameOverInfo\") == 1) {\n            let clearGameEvent = {};\n            clearGameEvent.Event = \"ClearGame\";\n            clearGameEvent.Params = clearInfo;\n            cc.dgame.tableInfo.RawGameEventQueue.push(clearGameEvent);\n            Log.Trace('[_handleClearGame] new: ' + this._getAllMsgCount());\n            return;\n        }\n        this._restoreOperatePanel();\n        this._resetINS();\n        for (let i = 0; i < this._maxPlayers; i++) {\n            var sitdownPlayerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            var sitdownPlayer = sitdownPlayerNode.getComponent('Player');\n            let isEmpty = sitdownPlayer.isEmpty();\n            if (isEmpty == false) {\n                Log.Trace('[_handleClearGame] clear pos:' + i);\n                sitdownPlayer.stopCountDown();\n                sitdownPlayer.hideAllActions();\n                sitdownPlayer.hideBet();\n                sitdownPlayer.hideDealCards();\n                sitdownPlayer.hideWinloss();\n                sitdownPlayer.hideCardType();\n                sitdownPlayer.hideINSFlag();\n            }\n        }\n    },\n\n    _handleStart (data) {\n        //{\"Addr\":\"0x5030BdC5d71ea71B9cbeD4c4411EB6826caF6a97\",\"Errstr\":\"\",\"Pos\":5,\"Tableid\":2}\n        Log.Trace('[_handleStart] ' + JSON.stringify(data));\n        var playerNode = this.playerAnchors[this._maxPlayerStr][data.Pos].getChildren()[0];\n        var player = playerNode.getComponent('Player');\n        if (player.getPlayerAddr() != \"\") {\n            if (data.Errstr != \"\") {\n                if (data.Errstr == \"table timeout\") {\n                    cc.find(\"Canvas/TableTimeoutLayer/bg_tips/label\").getComponent(cc.Label).string = \"This table is over. Please select another table to play\";\n                    cc.find(\"Canvas/TableTimeoutLayer\").active = true;\n                    return;\n                }\n                player.showAction(Types.PlayerOP.STANDBY);\n                if (cc.dgame.settings.account.Addr.toLowerCase() === data.Addr.toLowerCase()) {\n                    cc.dgame.tableInfo.SelfReady = false;\n                    player.showBtnResitDown();\n                }\n            } else {\n                player.showAction(Types.PlayerOP.WAITING);\n                player.stopAutoCheckoutCountDown();\n                if (cc.dgame.settings.account.Addr.toLowerCase() === data.Addr.toLowerCase()) {\n                    cc.dgame.tableInfo.SelfReady = true;\n                }\n            }\n        }\n    },\n\n    _getTypeInGameEventQueueCount (type) {\n        let count = 0;\n        for (let i = 0; i < cc.dgame.tableInfo.RawGameEventQueue.length; i++) {\n            if (cc.dgame.tableInfo.RawGameEventQueue[i].Event == type) {\n                count++;\n            }\n        }\n        return count;\n    },\n\n    _handleStartGame (data) {\n        //{\"Errstr\":\"\",\"Hand\":4,\"Player\":\"0x90FC0EE5AE41a7296E249088312a17078CB7C64f\",\"Pos\":0,\"Tableid\":2}\n        let animationTimerInfo = this._getAnimationTimerDelay();\n        Log.Trace('[_handleStartGame] ' + JSON.stringify(data));\n        if (animationTimerInfo.count > 0 || this._getTypeInGameEventQueueCount(\"Settle\") == 1) {\n            let startGameEvent = {};\n            startGameEvent.Event = \"StartGame\";\n            startGameEvent.Params = data;\n            cc.dgame.tableInfo.RawGameEventQueue.push(startGameEvent);\n            Log.Trace('[_handleStartGame] new: ' + this._getAllMsgCount());\n            return;\n        }\n\n        Log.Trace('[_handleStartGame] ' + this._getAllMsgCount());\n\n        cc.dgame.tableInfo.StartAction = true;\n\n        //这次调用playersinfo为了确定本局有哪些玩家\n        var playersinfo_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        cc.dgame.net.gameCall(['playersinfo', JSON.stringify(playersinfo_cmd)], this._onPlayersInfo.bind(this));\n\n        cc.dgame.tableInfo.CurrentHand = data.Hand;\n        cc.dgame.tableInfo.DealCardFlag[data.Hand] = {};\n        cc.dgame.tableInfo.DealCardFlag[data.Hand].RecvFirstTurnInfo = false;\n        cc.dgame.tableInfo.DealCardFlag[data.Hand].NeedDealCard = true;\n        this.debugInfo.string = this._getAllMsgCount();\n    },\n\n    _handleBlindInfo (blindInfo) {\n        //{\"BigBlind\":5,\"Dealer\":0,\"Hand\":153,\"SmallBlind\":0,\"SmallBlindBet\":5,\"TotalAnteBet\":4}\n        Log.Trace('[_handleBlindInfo] ' + JSON.stringify(blindInfo));\n        let curHand = blindInfo.Hand;\n        Log.Debug('[_handleBlindInfo] curHand: ' + curHand);\n        cc.dgame.tableInfo.BlindInfo = blindInfo;\n        cc.dgame.utils.setOriginValue(this.currentRoundPotNum,cc.dgame.tableInfo.BlindInfo.TotalAnteBet);\n        this.currentPotLayer.active = true;\n        this._dealCardPlayerPosArray = blindInfo.DealCardSequence;\n\n        Log.Trace(\"[_handleBlindInfo] this.securityTipsBackground.parent.opacity: \" + this.securityTipsBackground.parent.opacity);\n        if (this.securityTipsBackground.parent.opacity == 255) {\n            this.securityTipsBackground.parent.runAction(\n                cc.sequence(\n                    cc.delayTime(1.5),\n                    cc.fadeOut(1),\n                )\n            );\n        }\n    },\n\n    _handleSyncGameReplaysBlindInfo (blindInfo) {\n        //旁观/切后台后切回来/杀进程后恢复找fc同步GameReplays不会收到StartGame事件，需要在这里初始化\n        Log.Trace('[_handleSyncGameReplaysBlindInfo] ' + JSON.stringify(blindInfo));\n        let curHand = blindInfo.Hand;\n        Log.Debug('[_handleSyncGameReplaysBlindInfo] curHand: ' + curHand);\n        cc.dgame.tableInfo.BlindInfo = blindInfo;\n        this.currentPotLayer.active = true;\n        this._dealCardPlayerPosArray = blindInfo.DealCardSequence;\n        var playersinfo_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        cc.dgame.net.gameCall(['playersinfo', JSON.stringify(playersinfo_cmd)], this._onPlayersInfo.bind(this));\n    },\n\n    _handleSelfHoleCards (selfHoleCards) {\n        Log.Trace(\"[_handleSelfHoleCards] \" + JSON.stringify(selfHoleCards));\n        if (!cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_holecardslist\")) {\n            cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_holecardslist\", \"[]\");\n        }\n        let holecardslist = JSON.parse(cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_holecardslist\"));\n        if (holecardslist.length >= 5) {\n            let removeHoleCards = holecardslist.pop();\n            cc.sys.localStorage.removeItem(cc.dgame.settings.account.Addr + \"_\" + removeHoleCards + \"_SelfHoleCards\");\n        }\n        holecardslist.unshift(selfHoleCards.TableId + \"_\" + selfHoleCards.Hand);\n        Log.Trace(\"[_handleSelfHoleCards] holecardslist: \" + JSON.stringify(holecardslist));\n        cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_holecardslist\", JSON.stringify(holecardslist));\n        cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_\" + selfHoleCards.TableId + \"_\" + selfHoleCards.Hand + \"_SelfHoleCards\", JSON.stringify(selfHoleCards.HoleCards));\n    },\n\n    _quickBetType () {\n        let turnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 1];\n        if (turnInfo.Stage == Types.TexasStage.PREFLOP) {\n            let maxTurnBet = 0;\n            for (let seatId in turnInfo.PlayerInfo) {\n                if (turnInfo.PlayerInfo[seatId].TurnBet > maxTurnBet) {\n                    maxTurnBet = turnInfo.PlayerInfo[seatId].TurnBet;\n                }\n            }\n            if (maxTurnBet == 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet) {\n                return \"bbraise\";\n            }\n        }\n        return \"potraise\";\n    },\n\n    _processMyTurn (turnInfo) {\n        Log.Debug('[_processMyTurn] this.chooseAheadOfCheckOrFold :' + this.chooseAheadOfCheckOrFold\n            + ', this.chooseAheadOfCall :' + this.chooseAheadOfCall +\n            + ', this.chooseAheadOfCallAny :' + this.chooseAheadOfCallAny +\n        ', turnInfo.OP:' + JSON.stringify(turnInfo.OP));\n        this._reSetAheadOfNode();\n        let player = this.playerMyself.getComponent('Player');\n        player.hideActions();\n        if (this.chooseAheadOfCall == true || this.chooseAheadOfCallAny == true) {\n            this.chooseAheadOfCall = false;\n            this.chooseAheadOfCallAny = false;\n            cc.dgame.utils.setOriginValue(this.callNum,turnInfo.OP.Call.Value,\"brown\");\n            this.onClickBtnCall();\n            return\n        } else if (this.chooseAheadOfCheckOrFold == true) {\n            this.chooseAheadOfCheckOrFold = false;\n            if (turnInfo.OP.Call.Value > 0) {\n                this.onClickBtnFold();\n            } else {\n                this.onClickBtnCheck();\n            }\n            return\n        }\n        this.btnFold.active = turnInfo.OP.Fold;\n        this.btnCheck.active = turnInfo.OP.Check;\n        this.btnCall.active = turnInfo.OP.Call.Flag;\n        if (this.btnCall.active) {\n            this.btnCall.getComponent(cc.Button).interactable = true;\n            cc.dgame.utils.setOriginValue(this.callNum,turnInfo.OP.Call.Value,\"brown\");\n        }\n        this.btnFreeRaise.active = turnInfo.OP.Raise.Flag || turnInfo.OP.Bet;\n        let stack = player.getStack();\n        Log.Trace('[_processMyTurn] stack: ' + stack);\n        let callNumVal = cc.dgame.utils.getOriginValue(this.callNum);\n        if (callNumVal >= stack) {\n            cc.dgame.utils.setOriginValue(this.callNum,stack,\"brown\");\n            this.btnCall.active = false;\n            this.btnAllin.active = true;\n            this.btnFreeRaise.active = false;\n            this.btnFreeRaiseDisable.active = true;\n        }\n        this.raiseMinVal = turnInfo.OP.Raise.Value;\n        if (this.raiseMinVal >= stack) {\n            this.raiseMinVal = stack;\n        }\n        if (this.btnFreeRaise.active) {\n            //player.setFreeRaise();\n            //this.freeRaiseStackNum.string = player.getStack();\n            //this.allinStackNum.string = player.getStack();\n            //计算底池加注\n            let quickBetType = this._quickBetType();\n            if (quickBetType == \"potraise\") {\n                this.potRaiseLayer.active = true;\n                this.bigBlindRaiseLayer.active = false;\n                let roundPotNumVal = cc.dgame.utils.getOriginValue(this.currentRoundPotNum);\n                let pot = roundPotNumVal + callNumVal;\n                let halfPot = Math.round(pot * 0.5 + callNumVal);\n                let twoThirdPot = Math.round(pot * 2 / 3 + callNumVal);\n                let fullPot = pot + callNumVal;\n                Log.Trace('[_processMyTurn] halfPot: ' + halfPot + ', twoThirdPot: ' + twoThirdPot + ', fullPot: ' + fullPot + ', pot: ' + pot  + ', callNum: ' + callNumVal + ', stack: ' + stack);\n                if (halfPot > 0 && halfPot <= stack) {\n                    this.btnHalfPotRaise.active = true;\n                    cc.dgame.utils.setOriginValue(this.halfPotRaiseNum,halfPot,\"none\");\n                } else {\n                    this.btnHalfPotRaise.active = false;\n                }\n                if (twoThirdPot > 0 && twoThirdPot <= stack) {\n                    this.btnTwoThirdPotRaise.active = true;\n                    cc.dgame.utils.setOriginValue(this.twoThirdPotRaiseNum,twoThirdPot,\"none\");\n                } else {\n                    this.btnTwoThirdPotRaise.active = false;\n                }\n                if (fullPot > 0 && fullPot <= stack) {\n                    this.btnPotRaise.active = true;\n                    cc.dgame.utils.setOriginValue(this.potRaiseNum,fullPot,\"none\");\n                } else {\n                    this.btnPotRaise.active = false;\n                }\n            } else {\n                this.potRaiseLayer.active = false;\n                this.bigBlindRaiseLayer.active = true;\n                let twoTimesBB = Math.round(2 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet);\n                let threeTimesBB = Math.round(3 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet);\n                let fiveTimesBB = Math.round(5 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet);\n                Log.Trace('[_processMyTurn] 2BB: ' + twoTimesBB + ', 3BB: ' + threeTimesBB + ', 5BB: ' + fiveTimesBB + ', raiseMinVal: ' + this.raiseMinVal + ', stack: ' + stack);\n                if (twoTimesBB <= stack) {\n                    this.btn2BBRaise.active = true;\n                    cc.dgame.utils.setOriginValue(this.twoBBRaiseNum,twoTimesBB,\"none\");\n                } else {\n                    this.btn2BBRaise.active = false;\n                }\n                if (threeTimesBB <= stack) {\n                    this.btn3BBRaise.active = true;\n                    cc.dgame.utils.setOriginValue(this.threeBBRaiseNum,threeTimesBB,\"none\");\n                } else {\n                    this.btn3BBRaise.active = false;\n                }\n                if (fiveTimesBB <= stack) {\n                    this.btn5BBRaise.active = true;\n                    cc.dgame.utils.setOriginValue(this.fiveBBRaiseNum,fiveTimesBB,\"none\");\n                } else {\n                    this.btn5BBRaise.active = false;\n                }\n            }\n        }\n\n        let elapsedSecs = 0;\n        if (!!turnInfo.CurTick && !!turnInfo.Tick) {\n            elapsedSecs = turnInfo.CurTick - turnInfo.Tick;\n        }\n        if (this.btnCheck.active) {\n            this._startAutoCheckCountDown(elapsedSecs);\n        } else {\n            this._startAutoFoldCountDown(elapsedSecs);\n        }\n\n        let managed = cc.find('Canvas/MenuLayer/LeftTopMemuLayer/BtnManaged/Managed');\n        if (managed.active) {\n            let actions = new Array();\n            if (this.btnFold.active) {\n                actions.push(this.onClickBtnFold);\n            }\n            if (this.btnCheck.active) {\n                actions.push(this.onClickBtnCheck);\n            }\n            if (this.btnCall.active) {\n                actions.push(this.onClickBtnCall);\n            }\n            if (this.btnHalfPotRaise.active) {\n                actions.push(this.onClickBtnHalfPotRaise);\n            }\n            if (this.btnCheck.active) {\n                actions.push(this.onClickBtnCheck);\n            }\n            if (this.btnCall.active) {\n                actions.push(this.onClickBtnCall);\n            }\n            if (this.btnTwoThirdPotRaise.active) {\n                actions.push(this.onClickBtnTwoThirdPotRaise);\n            }\n            if (this.btnCheck.active) {\n                actions.push(this.onClickBtnCheck);\n            }\n            if (this.btnCall.active) {\n                actions.push(this.onClickBtnCall);\n            }\n            if (this.btnPotRaise.active) {\n                actions.push(this.onClickBtnPotRaise);\n            }\n            if (this.btnCheck.active) {\n                actions.push(this.onClickBtnCheck);\n            }\n            if (this.btnCall.active) {\n                actions.push(this.onClickBtnCall);\n            }\n            this.scheduleOnce(actions[parseInt(Math.random() * actions.length)], 0.1);\n        }\n    },\n\n    _processAHeadOfOP (turnInfo) {\n        if (turnInfo.CurnSeat == -1) {\n            Log.Debug('[_processAHeadOfOP] urnInfo.CurnSeat == -1');\n            this._reSetAheadOfNode();\n            this.chooseAheadOfCheckOrFold = false;\n            this.chooseAheadOfCallAny = false;\n            this.chooseAheadOfCall = false;\n            return\n        }\n        Log.Debug('[_processAHeadOfOP] turnInfo.OP: ' + JSON.stringify(turnInfo.OP));\n        if (turnInfo.OP.AheadOfFold == true) {\n            this.btnAheadOfCheckOrFold.active = true;\n            if (turnInfo.OP.AheadOfCheck == true) {\n                this.CheckOrFold.string = cc.dgame.utils.formatRichText(\"Check/fold\", \"#ffffff\", true, false);\n                this.btnAheadOfCallAny.active = true;\n                this.btnAheadOfCall.active = false;\n            } else {\n                this.CheckOrFold.string = cc.dgame.utils.formatRichText(\"Fold\", \"#ffffff\", true, false);\n                this.btnAheadOfCall.active = true;\n                this.btnAheadOfCallAny.active = false;\n                Log.Debug('[_processAHeadOfOP] chooseAheadOfCallAny: ' + this.chooseAheadOfCallAny);\n                Log.Debug('[_processAHeadOfOP] chooseAheadOfCall: ' + this.chooseAheadOfCall);\n                if (this.chooseAheadOfCallAny == true) { //预操作-CallAny按钮之前被选中,有人下注则CallAny的UI表现及状态传递给Call,所见即所得\n                    this.showAheadOfCallAny(false); //若再次加注按下条规则处理,即只选中CallNum一次\n                    this.showAheadOfCall(true);\n                } else if (this.chooseAheadOfCall == true) { //预操作-Call按钮之前被选中，若有加注需取消选中\n                    let oldAheadOfCallNum = cc.dgame.utils.getOriginValue(this.aheadOfCallNum);\n                    Log.Debug('[_processAHeadOfOP] oldAheadOfCallNum: ' + oldAheadOfCallNum);\n                    if (oldAheadOfCallNum > 0 && turnInfo.OP.AheadOfCall.Value > oldAheadOfCallNum) {\n                        this.showAheadOfCall(false);\n                    }\n                }\n                cc.dgame.utils.setOriginValue(this.aheadOfCallNum,turnInfo.OP.AheadOfCall.Value,\"brown\");\n            }\n            Log.Debug('[_processAHeadOfOP] CheckOrFoldText: ' + this.CheckOrFold.string);\n        } else {\n            if (this.chooseAheadOfCall == true) { //预操作-Call按钮之前被选中，若上一个加注则刚好轮到自己要取消选中\n                let oldAheadOfCallNum = cc.dgame.utils.getOriginValue(this.aheadOfCallNum);\n                Log.Debug('[_processAHeadOfOP] oldAheadOfCallNum2: ' + oldAheadOfCallNum);\n                if (oldAheadOfCallNum > 0 && turnInfo.OP.Call.Value > oldAheadOfCallNum) {\n                    this.showAheadOfCall(false);\n                }\n            }\n        }\n    },\n\n    _getShownPublicCardNum () {\n        let result = 0;\n        for (let i = 0; i < this.dealCommunityCards.length; i++) {\n            if (this.dealCommunityCards[i].active) {\n                result += 1;\n            }\n        }\n        return result;\n    },\n\n    _isAllinDealCard () {\n        if (cc.dgame.tableInfo.TurnInfoList.length < 2) {\n            return false;\n        }\n        let turnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 1];\n        let lastTurnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 2];\n        let lastPublicCardNum = 0;\n        let nowPublicCardNum = 0;\n        if (lastTurnInfo.DeskCard != undefined && lastTurnInfo.DeskCard.length != undefined) {\n            lastPublicCardNum = lastTurnInfo.DeskCard.length;\n        }\n        if (turnInfo.DeskCard != undefined && turnInfo.DeskCard.length != undefined) {\n            nowPublicCardNum = turnInfo.DeskCard.length;\n        }\n\n        if (lastPublicCardNum == 0 && nowPublicCardNum >= 4 || lastPublicCardNum == 3 && nowPublicCardNum == 5) {\n            Log.Info('[_isAllinDealCard] lastPublicCardNum: ' + lastPublicCardNum + ', nowPublicCardNum: ' + nowPublicCardNum);\n            return true;\n        }\n\n        return false;\n    },\n\n    _handleNewTurn (turnInfo) {\n        Log.Trace('[_handleNewTurn] ' + JSON.stringify(turnInfo));\n        // if (cc.dgame.tableInfo.TurnInfoList.length < 1) {\n        //     //安卓切后台后Cocos驱动的js动不了，但通知过来的消息JS能够处理，譬如被公证离线，离桌，调用resetGameTable会清除牌局数据，再切回前台cocos驱动的js能动后牌局早就不存在了\n        //     delete this._animationTimerDelay[\"_handleNewTurn\"];\n        //     this._getAnimationTimerDelay();\n        //     return;\n        // }\n        // let turnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 1];\n        let identifierDelay = 0.6;\n\n        //桌上筹码推至底池\n        this._chipsToPot(turnInfo);\n        let bAllinDealCard = this._isAllinDealCard();\n        let pubCards = this._getShownPublicCardNum();\n        Log.Trace(\"[_handleNewTurn] bAllinDealCard: \" + bAllinDealCard + \", getShownPublicCardNum: \" + pubCards);\n        if (!bAllinDealCard) {\n            if (turnInfo.DeskCard.length == 3 && pubCards == 0) {\n                this._dealFlopCards(cc.dgame.utils.getCard(turnInfo.DeskCard[0]), cc.dgame.utils.getCard(turnInfo.DeskCard[1]), cc.dgame.utils.getCard(turnInfo.DeskCard[2]), true);\n                this.roundTips.string = cc.dgame.utils.formatRichText(\"Flop round\", \"#ffffff\", true, true);\n                identifierDelay = 0.7;\n            } else if (turnInfo.DeskCard.length == 4 && pubCards == 3) {\n                this._dealTurnCard(cc.dgame.utils.getCard(turnInfo.DeskCard[3]), true);\n                this.roundTips.string = cc.dgame.utils.formatRichText(\"Turn round\", \"#ffffff\", true, true);\n                identifierDelay = 0.3;\n            } else if (turnInfo.DeskCard.length == 5 && pubCards == 4) {\n                this._dealRiverCard(cc.dgame.utils.getCard(turnInfo.DeskCard[4]), true);\n                this.roundTips.string = cc.dgame.utils.formatRichText(\"River round\", \"#ffffff\", true, true);\n                identifierDelay = 0.3;\n            }\n        }\n        let elapsedSecs = 0;\n        if (!!turnInfo.CurTick && !!turnInfo.Tick) {\n            elapsedSecs = turnInfo.CurTick - turnInfo.Tick\n        }\n        let curSeatId = turnInfo.CurnSeat;\n        //当前行动的玩家非玩家自己则在头像上显示倒计时\n        if (curSeatId != cc.dgame.tableInfo.SeatId) {\n            if (curSeatId != -1) {\n                let anchorCurPlayer = this.playerAnchors[this._maxPlayerStr][curSeatId].getChildren()[0];\n                let curPlayer = anchorCurPlayer.getComponent('Player');\n                curPlayer.startCountDown(15, elapsedSecs);\n            }\n            this.scheduleOnce(function () {\n                let lastActionSeatId = -1;\n                if (cc.dgame.tableInfo.TurnInfoList.length >= 2) {\n                    let lastTurnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 2];\n                    lastActionSeatId = lastTurnInfo.CurnSeat;\n                }\n\n                //玩家指示标指向当前行动玩家\n                if (this.actionIdentifier.active == false) {\n                    this.actionIdentifier.active = true;\n                }\n\n                if (curSeatId != -1) {\n                    let seatActualPos = this._getAnchorPosByContractPos(curSeatId);\n                    if (seatActualPos < this._maxPlayers) {\n                        let newHeight = this._actionIdentifierHeights[seatActualPos];\n                        this.actionIdentifier.stopAllActions();\n                        this.actionIdentifier.height = this._actionIdentifierOrgHeight;\n                        if (lastActionSeatId == -1) {\n                            this.actionIdentifier.angle = -this._actionIdentifierAngles[seatActualPos];\n                            this.actionIdentifier.scale = 1;\n                            this.actionIdentifier.height = newHeight;\n                        } else {\n                            this.actionIdentifier.runAction(\n                                cc.spawn(\n                                    cc.scaleTo(0.2, 1, newHeight / this._actionIdentifierOrgHeight),\n                                    cc.rotateTo(0.2, this._actionIdentifierAngles[seatActualPos]),\n                                )\n                            );\n                        }\n                    }\n                } else {\n                    this.actionIdentifier.active = false;\n                }\n            }, identifierDelay);\n        } else {\n            this.actionIdentifier.active = false;\n        }\n        if (turnInfo.IsMyTurn) {\n            this._processMyTurn(turnInfo);\n        }\n        if (!!turnInfo.RmtCard) {\n            this._handleRmtCards(turnInfo);\n        }\n        delete this._animationTimerDelay[\"_handleNewTurn\" + turnInfo.Stage];\n        this._getAnimationTimerDelay();\n    },\n\n    _handleRmtCards (turnInfo) {\n        cc.dgame.tableInfo.RMTCards = turnInfo.RmtCard;\n        let dealRMTCommunityCards = new Array();\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards1);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards2);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards3);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards4);\n\n        //i，每一副多牌\n        for (let i = 0; i < turnInfo.RmtCard.length; i++) {\n            let pokerPtArr = new Array(5);\n            //按照公共牌的位置设置每副多牌的牌点\n            for (let j = 0; j < turnInfo.RmtCard[i].length; j++) {\n                pokerPtArr[5 - turnInfo.RmtCard[i].length + j] = cc.dgame.utils.getCard(turnInfo.RmtCard[i][j]);\n            }\n            let k = 0;\n            for (let j = 5 - turnInfo.RmtCard[i].length; j < 5; j++) {\n                dealRMTCommunityCards[i][j].setPosition(dealRMTCommunityCards[i][5 - turnInfo.RmtCard[i].length].getPosition());\n                dealRMTCommunityCards[i][j].active = true;\n                let poker = dealRMTCommunityCards[i][j].getChildren()[0].getComponent('Poker');\n                poker.setCardPoint(pokerPtArr[j]);\n                poker.setFaceUp(true);\n                if (k != 0) {\n                    let moveEnd = cc.callFunc(function () {\n                        delete this._animationTimerDelay[\"_handleRmtCards_moveEnd_\" + i + \"_\" + j];\n                        this._getAnimationTimerDelay();\n                    }, this);\n                    this.scheduleOnce(function () {\n                        dealRMTCommunityCards[i][j].runAction(\n                            cc.sequence(\n                                cc.moveTo(0.2 * k, PositionData.RMTCommunityCardPositions[i][j].x, PositionData.RMTCommunityCardPositions[i][j].y),\n                                moveEnd,\n                            ),\n                        );\n                    }, 0.2 * (i + 1));\n                    this._animationTimerDelay[\"_handleRmtCards_moveEnd_\" + i + \"_\" + j] = new Date().getTime() + (0.2 * (i + 1)) * 1000 + 0.2 * k * 1000;\n                    this._getAnimationTimerDelay();\n                }\n                k++;\n            }\n        }\n    },\n\n    _handleTurnInfo (turnInfo) {\n        //{\"CurnSeat\":0,\"DeskCard\":{},\"HandCard\":[\"红心J\",\"黑桃7\"],\"CardsLevelName\":\"皇家同花顺\",IsMyTurn\":true,\n        //\"OP\":{\"Bet\":false,\"Call\":{\"Flag\":true,\"Value\":5},\"Check\":false,\"Fold\":true,\"Raise\":{\"Flag\":true,\"Value\":5}},\n        //\"PlayerInfo\":[{\"Allin\":false,\"Balance\":2493,\"Fold\":false,\"ID\":0,\"TotalBet\":7,\"TurnBet\":5},\n        //{\"Allin\":false,\"Balance\":2388,\"Fold\":false,\"ID\":5,\"TotalBet\":12,\"TurnBet\":10}]}\n        //收到BlindInfo以后需要调用PlayersInfo来确认参与本局的所有玩家，确定发牌动画的顺序，BlindInfo和TurnInfo间隔过短会引发TurnInfo在PlayersInfo回应之前，此时需要将TurnInfo延迟一下\n        let curHand = turnInfo.Hand;\n        Log.Trace('[_handleTurnInfo] curHand: ' + curHand + ', isPlaying: ' + this._isPlaying() + ', TurnInfo: ' + JSON.stringify(turnInfo) + ', DealCardFlag: ' + JSON.stringify(cc.dgame.tableInfo.DealCardFlag) + ', SelfReady: ' + cc.dgame.tableInfo.SelfReady);\n        //isPlaying为false有可能在旁观，但cc.dgame.tableInfo.SelfReady为false一定是已经离桌了，所以消息不处理\n        if (turnInfo.Stage < Types.TexasStage.PREFLOP) {\n            Log.Warn(\"[_handleTurnInfo] invalid stage\")\n            return true;\n        }\n        //{\"Hand\":8,\"PlayerInfo\":{},\"Stage\":2}  洗牌阶段切后台切前台会得到这样的turnInfo\n        if (!turnInfo.PlayerInfo) {\n            Log.Warn(\"[_handleTurnInfo] invalid turninfo\");\n            return true;\n        }\n        if (turnInfo.PlayerInfo.length == 0) {\n            Log.Warn(\"[_handleTurnInfo] invalid turninfo\");\n            return true;\n        }\n        if (!!turnInfo.CardsLevelName && this._isPlaying()) {\n            let cardtype = cc.dgame.utils.getCardType(turnInfo.CardsLevelName);\n            if (cardtype != this.cardType.string) {\n                let delay = 0.6;\n                if (turnInfo.Stage == Types.TexasStage.FLOP) {\n                    delay = 0.6;\n                } else if (turnInfo.Stage == Types.TexasStage.Turn || turnInfo.Stage == Types.TexasStage.RIVER) {\n                    delay = 0.4;\n                }\n                this.scheduleOnce(function () {\n                    this.cardType.string = cardtype;\n                }, delay + 1.4);\n            }\n        }\n        let spectatorFirstTurn = false;\n        if (cc.dgame.tableInfo.DealCardFlag[curHand].RecvFirstTurnInfo == false) {\n            cc.dgame.tableInfo.DealCardFlag[curHand].RecvFirstTurnInfo = true;\n            if (this._isPlaying() && cc.dgame.tableInfo.DealCardFlag[curHand].NeedDealCard) {\n                if (turnInfo.IsMyTurn) {\n                    cc.dgame.net.gameCall([\"Play_ExtendDeclareTime\", \"\"]);\n                }\n                this._resetCommunityCards();\n                this._resetPlayerBets();\n                this._resetTips();\n                this._resetSelfHoleCards();\n                this._showAnteAndBlindBetThenStartDealCards();\n                var seatinfo_cmd = {\n                    TableId: cc.dgame.tableInfo.TableId,\n                };\n                cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n                return false;\n            } else {\n                spectatorFirstTurn = true;\n                this._resetCommunityCards();\n                this._resetPlayerBets();\n                this._resetTips();\n                this._resetSelfHoleCards();\n                this.potLayer.active = true;\n                this.currentPotLayer.active = true;\n                switch (turnInfo.Stage) {\n                case Types.TexasStage.PREFLOP:\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"Preflop round\", \"#ffffff\", true, true);\n                    break;\n                case Types.TexasStage.FLOP:\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"Flop round\", \"#ffffff\", true, true);\n                    break;\n                case Types.TexasStage.TURN:\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"Turn round\", \"#ffffff\", true, true);\n                    break;\n                case Types.TexasStage.RIVER:\n                case Types.TexasStage.SHOWDOWN:\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"River round\", \"#ffffff\", true, true);\n                    break;\n                }\n                this.roundTips.node.active = true;\n                let dealer = this.playerAnchors[this._maxPlayerStr][cc.dgame.tableInfo.BlindInfo.Dealer].getChildren()[0].getComponent('Player');\n                let newpos = this.dealerMark.parent.convertToNodeSpaceAR(dealer.getDealerMarkPos());\n                Log.Info('[_handleTurnInfo] dealer: ' + cc.dgame.tableInfo.BlindInfo.Dealer + ', (' + newpos.x + ', ' + newpos.y + ')');\n                this.dealerMark.setPosition(newpos);\n                this.dealerMark.active = true;\n                //旁观恢复在玩玩家头像右下角两张牌\n                for (let i = 0; i < this._dealCardPlayerPosArray.length; i++) {\n                    let playerPos = this._dealCardPlayerPosArray[i];\n                    let player = this.playerAnchors[this._maxPlayerStr][playerPos].getChildren()[0].getComponent('Player');\n                    if (playerPos != cc.dgame.tableInfo.SeatId) {\n                        //其他玩家发牌，发到玩家头像FirstCard、SecondCard\n                        player.recoverDealCards();\n                    } else {\n                        let selfHoleCardsStr = cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_\" + turnInfo.TableId + \"_\" + curHand + \"_SelfHoleCards\");\n                        if (!!selfHoleCardsStr) {\n                            let selfHoleCards = JSON.parse(selfHoleCardsStr);\n                            let selfHoleCardsInfo = {};\n                            selfHoleCardsInfo.TableId = turnInfo.TableId;\n                            selfHoleCardsInfo.Hand = curHand;\n                            selfHoleCardsInfo.HoleCards = selfHoleCards;\n                            cc.dgame.net.gameCall([\"selfHoleCards\", JSON.stringify(selfHoleCardsInfo)]);\n                            //自身玩家发牌，发到HoleCard位置，然后隐藏，使用GameTable的HoleCard来翻转，弃牌的时候用Player的DealCard来弃牌\n                            for (let j = 0; j < this.selfHoleCards.length; j++) {\n                                this.selfHoleCards[j].active = true;\n                                let poker = this.selfHoleCards[j].getChildren()[0].getComponent('Poker');\n                                poker.setCardPoint(selfHoleCardsInfo.HoleCards[j]);\n                                poker.setFaceUp(true);\n                                if (turnInfo.PlayerInfo[playerPos + \"\"].Fold) {\n                                    poker.disable();\n                                } else {\n                                    poker.enable();\n                                }\n                            }\n                        } else {\n                            Log.Trace(\"[_handleTurnInfo] empty \" + cc.dgame.settings.account.Addr + \"_\" + turnInfo.TableId + \"_\" + curHand + \"_SelfHoleCards\");\n                            player.recoverDealCards();\n                        }\n                    }\n                    player.setBet(turnInfo.PlayerInfo[playerPos + \"\"].TurnBet);\n                }\n                let totalBet = 0;\n                let turnTotalBet = 0;\n                for (let seatId in turnInfo.PlayerInfo) {\n                    if (turnInfo.PlayerInfo[seatId].TurnBet > 0) {\n                        totalBet = totalBet + turnInfo.PlayerInfo[seatId].TotalBet;\n                        turnTotalBet = turnTotalBet + turnInfo.PlayerInfo[seatId].TurnBet;\n                    }\n                }\n                cc.dgame.utils.setOriginValue(this.potNum,turnTotalBet,\"yellow\");\n                cc.dgame.utils.setOriginValue(this.currentRoundPotNum,totalBet);\n                for (let i = 0; i < this.dealCommunityCards.length; i++) {\n                    let poker = this.dealCommunityCards[i].getChildren()[0].getComponent(\"Poker\");\n                    let pokerPT = poker.getCardPoint();\n                    if (!!turnInfo.DeskCard && !!turnInfo.DeskCard.length && !!turnInfo.DeskCard[i]) {\n                        let turnInfoPT = cc.dgame.utils.getCard(turnInfo.DeskCard[i]);\n                        Log.Trace(\"poker[\" + i + \"]: \" + pokerPT + \", turnInfo.DeskCard[\" + i + \"]: \" + turnInfo.DeskCard[i]);\n                        if (pokerPT != turnInfoPT) {\n                            poker.setCardPoint(turnInfoPT);\n                        }\n                        poker.setFaceUp(true);\n                        poker.enable();\n                        this.dealCommunityCards[i].active = true;\n                    } else {\n                        Log.Trace(\"poker[\" + i + \"]: \" + pokerPT);\n                        poker.setCardPoint(52);\n                        this.dealCommunityCards[i].active = false;\n                    }\n                }\n                var seatinfo_cmd = {\n                    TableId: cc.dgame.tableInfo.TableId,\n                };\n                cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n            }\n        }\n\n        if (turnInfo.CurnSeat == -1) {\n            for (let seatId in turnInfo.PlayerInfo) {\n                let playerNode = this.playerAnchors[this._maxPlayerStr][parseInt(seatId)].getChildren()[0];\n                let player = playerNode.getComponent('Player');\n                if (turnInfo.PlayerInfo[seatId].Operate < Types.PlayerOP.END) {\n                    player.showAction(turnInfo.PlayerInfo[seatId].Operate);\n                }\n                if (!!turnInfo.PlayerInfo[seatId].HoleCards && turnInfo.PlayerInfo[seatId].HoleCards.length > 0 && cc.dgame.tableInfo.SeatId != parseInt(seatId)) {\n                    player.revealHoleCards(turnInfo.PlayerInfo[seatId].HoleCards[0], turnInfo.PlayerInfo[seatId].HoleCards[1]);\n                }\n            }\n            if (!!turnInfo.RmtCard) {\n                this._handleRmtCards(turnInfo);\n                return true;\n            }\n        }\n\n        let newTurn = false;\n        //新的一轮开始了\n        Log.Trace(\"[_handleTurnInfo] cc.dgame.tableInfo.TurnInfoList.length: \" + cc.dgame.tableInfo.TurnInfoList.length);\n        if (cc.dgame.tableInfo.TurnInfoList.length > 0) {\n            let lastTurnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 1];\n            let lastHoleCardCount = 0;\n            let curHoleCardCount = 0;\n            for (let seatId in lastTurnInfo.PlayerInfo) {\n                if (!!lastTurnInfo.PlayerInfo[seatId].HoleCards && lastTurnInfo.PlayerInfo[seatId].HoleCards.length > 0) {\n                    lastHoleCardCount++;\n                }\n            }\n            for (let seatId in turnInfo.PlayerInfo) {\n                if (!!turnInfo.PlayerInfo[seatId].HoleCards && turnInfo.PlayerInfo[seatId].HoleCards.length > 0) {\n                    curHoleCardCount++;\n                }\n            }\n            Log.Info('[_handleTurnInfo] last holecard count: ' + lastHoleCardCount + ', holecard count: ' + curHoleCardCount + \", last Stage: \" + lastTurnInfo.Stage + \", Stage: \" + turnInfo.Stage);\n            if (lastTurnInfo.Stage != turnInfo.Stage || lastHoleCardCount != curHoleCardCount && curHoleCardCount >= 2) {\n                newTurn = true;\n                //本轮下注结束，各玩家下的注归入底池\n                let animationTimerInfo = this._getAnimationTimerDelay();\n                let delay = animationTimerInfo.duration + 1200;\n                this.scheduleOnce(this._handleNewTurn.bind(this, turnInfo), delay / 1000);\n                this._animationTimerDelay[\"_handleNewTurn\" + turnInfo.Stage] = new Date().getTime() + delay;\n                this._getAnimationTimerDelay();\n            }\n        }\n\n        let elapsedSecs = 0;\n        if (!!turnInfo.CurTick && !!turnInfo.Tick) {\n            elapsedSecs = turnInfo.CurTick - turnInfo.Tick\n        }\n\n        if (!!turnInfo.RmtIns) {\n            if (!!turnInfo.RmtIns.ShowRMTOption) {\n                this._handleShowRMTOption(turnInfo.RmtIns.ShowRMTOption, elapsedSecs);\n            } else if (!!turnInfo.RmtIns.RMTTimesResult) {\n                this._handleRMTTimesResult(turnInfo.RmtIns.RMTTimesResult);\n            } else if (!!turnInfo.RmtIns.RMTTimesChoose) {\n                this._handleRMTTimesChoose(turnInfo.RmtIns.RMTTimesChoose, elapsedSecs);\n            } else if (!!turnInfo.RmtIns.ShowINS) {\n                this._handleShowINS(turnInfo.RmtIns.ShowINS, elapsedSecs);\n            } else if (!!turnInfo.RmtIns.ShowPlayerINS) {\n                this._showPlayerINSFlag(turnInfo.RmtIns.ShowPlayerINS);\n            } else if (!!turnInfo.RmtIns.InsWinInfo) {\n                this._handleINSWinInfo(turnInfo.RmtIns.InsWinInfo);\n            }\n        }\n        cc.dgame.tableInfo.TurnInfoList.push(turnInfo);\n        //计算底池与跟注大小\n        let turnPotNum = 0;\n        let totalPotNum = 0;\n        for (let seatId in turnInfo.PlayerInfo) {\n            Log.Trace('[_handleTurnInfo] player ' + seatId + ', stack: ' + turnInfo.PlayerInfo[seatId].Balance + ', bet: ' + turnInfo.PlayerInfo[seatId].TurnBet);\n            let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            player.setStack(turnInfo.PlayerInfo[seatId].Balance);\n            player.showAction(turnInfo.PlayerInfo[seatId].Operate);\n            totalPotNum += turnInfo.PlayerInfo[seatId].TotalBet;\n            turnPotNum += turnInfo.PlayerInfo[seatId].TurnBet;\n        }\n        if (newTurn == false && turnInfo.CurnSeat != -1) {\n            cc.dgame.utils.setOriginValue(this.potNum,totalPotNum - turnPotNum,\"yellow\");\n        }\n        cc.dgame.utils.setOriginValue(this.currentRoundPotNum,totalPotNum);\n\n        //显示弃牌或Allin的玩家\n        let lastActionSeatId = -1;\n        if (cc.dgame.tableInfo.TurnInfoList.length >= 2) {\n            let lastTurnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 2];\n            lastActionSeatId = lastTurnInfo.CurnSeat;\n        }\n\n        let curSeatId = turnInfo.CurnSeat;\n        if (curSeatId != cc.dgame.tableInfo.SeatId && newTurn == false) {\n            //当前行动的玩家非玩家自己则在头像上显示倒计时\n            if (newTurn == false && curSeatId != -1) {\n                let anchorCurPlayer = this.playerAnchors[this._maxPlayerStr][curSeatId].getChildren()[0];\n                let curPlayer = anchorCurPlayer.getComponent('Player');\n                curPlayer.startCountDown(15, elapsedSecs);\n            }\n            //玩家指示标指向当前行动玩家（非自己）\n            if (this.actionIdentifier.active == false) {\n                this.actionIdentifier.active = true;\n            }\n            if (curSeatId != -1) {\n                let seatActualPos = this._getAnchorPosByContractPos(curSeatId);\n                Log.Trace(\"[_handleTurnInfo] curSeatId: \" + curSeatId + \", seatActualPos: \" + seatActualPos);\n                if (seatActualPos < this._maxPlayers) {\n                    let newHeight = this._actionIdentifierHeights[seatActualPos];\n                    this.actionIdentifier.stopAllActions();\n                    this.actionIdentifier.height = this._actionIdentifierOrgHeight;\n                    if (lastActionSeatId == -1) {\n                        this.actionIdentifier.angle = -this._actionIdentifierAngles[seatActualPos];\n                        this.actionIdentifier.scale = 1;\n                        this.actionIdentifier.height = newHeight;\n                    } else {\n                        this.actionIdentifier.runAction(\n                            cc.spawn(\n                                cc.scaleTo(0.2, 1, newHeight / this._actionIdentifierOrgHeight),\n                                cc.rotateTo(0.2, this._actionIdentifierAngles[seatActualPos]),\n                            )\n                        );\n                    }\n                }\n            } else {\n                this.actionIdentifier.active = false;\n            }\n        } else {\n            this.actionIdentifier.active = false;\n        }\n\n        //若记录了上一轮行动玩家的座位号，则停止该玩家的倒计时\n        Log.Trace(\"lastActionSeatId: \" + lastActionSeatId + \", cc.dgame.tableInfo.SeatId: \" + cc.dgame.tableInfo.SeatId + \", spectatorFirstTurn: \" + spectatorFirstTurn);\n        if (lastActionSeatId != -1 && lastActionSeatId != cc.dgame.tableInfo.SeatId && !spectatorFirstTurn) {\n            let lastTurnInfo = cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 2];\n            let lastPlayerNode = this.playerAnchors[this._maxPlayerStr][lastActionSeatId].getChildren()[0];\n            let lastPlayer = lastPlayerNode.getComponent('Player');\n            lastPlayer.stopCountDown();\n            if (turnInfo.PlayerInfo[lastActionSeatId + \"\"].Fold && lastTurnInfo.PlayerInfo[lastActionSeatId + \"\"].Fold == false) {\n                lastPlayer.showAction(Types.PlayerOP.FOLD);\n                let sidePotPos = cc.find('Canvas/PotLayer/SidePotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n                let playerWorldPt = lastPlayerNode.convertToWorldSpaceAR(cc.v2(0, 0));\n                let angle = Math.atan2(sidePotPos.y - playerWorldPt.y, sidePotPos.x - playerWorldPt.x) * 180 / Math.PI - 90;\n                lastPlayer.foldCards(playerWorldPt, playerWorldPt, sidePotPos, angle, 0.5);\n            } else if (turnInfo.PlayerInfo[lastActionSeatId + \"\"].Allin && lastTurnInfo.PlayerInfo[lastActionSeatId + \"\"].Allin == false) {\n                lastPlayer.showAction(Types.PlayerOP.ALLIN);\n                lastPlayer.setAllinHead();\n                if (lastActionSeatId != cc.dgame.tableInfo.SeatId) {\n                    //自身玩家已经把筹码推到牌桌上了，这里不需要重复再推\n                    let bet = lastPlayer.getBet();\n                    let lastTotalBet = lastTurnInfo.PlayerInfo[lastActionSeatId + \"\"].TotalBet;\n                    let curTotalBet = turnInfo.PlayerInfo[lastActionSeatId + \"\"].TotalBet;\n                    lastPlayer.setBet(bet + curTotalBet - lastTotalBet, true);\n                }\n            } else {\n                let lastTotalBet = lastTurnInfo.PlayerInfo[lastActionSeatId + \"\"].TotalBet;\n                let curTotalBet = turnInfo.PlayerInfo[lastActionSeatId + \"\"].TotalBet;\n                let action = turnInfo.PlayerInfo[lastActionSeatId + \"\"].Operate;\n                let bet = lastPlayer.getBet();\n                if (action < Types.PlayerOP.END) {\n                    lastPlayer.showAction(action);\n                    switch (action) {\n                    case Types.PlayerOP.CHECK:\n                        if (lastActionSeatId != cc.dgame.tableInfo.SeatId) {\n                            cc.dgame.audioMgr.playCheckSound();\n                        }\n                        break;\n                    case Types.PlayerOP.CALL:\n                    case Types.PlayerOP.BET:\n                    case Types.PlayerOP.RAISE:\n                        if (lastActionSeatId != cc.dgame.tableInfo.SeatId) {\n                            //自身玩家已经把筹码推到牌桌上了，这里不需要重复再推\n                            lastPlayer.setBet(bet + curTotalBet - lastTotalBet, true);\n                        }\n                        break;\n                    }\n                }\n                Log.Trace('lastAction: ' + lastActionSeatId + ', Stage: ' + turnInfo.Stage + ', curTotalBet: ' + curTotalBet + ', lastTotalBet: ' + lastTotalBet + ', Op: ' + action + ', CurrentTurnBet: ' + (bet + curTotalBet - lastTotalBet));\n            }\n        }\n        this._processAHeadOfOP(turnInfo);\n        if (turnInfo.IsMyTurn && newTurn == false) {\n            this._processMyTurn(turnInfo);\n        }\n\n        Log.Trace(\"[_handleTurnInfo] newTurn: \" + newTurn);\n        if (newTurn == false) {\n            //检查turnInfo中的公共牌和显示的是否一致\n            for (let i = 0; i < this.dealCommunityCards.length; i++) {\n                let poker = this.dealCommunityCards[i].getChildren()[0].getComponent(\"Poker\");\n                let pokerPT = poker.getCardPoint();\n                if (!!turnInfo.DeskCard && !!turnInfo.DeskCard.length && !!turnInfo.DeskCard[i]) {\n                    let turnInfoPT = cc.dgame.utils.getCard(turnInfo.DeskCard[i]);\n                    Log.Trace(\"poker[\" + i + \"]: \" + pokerPT + \", turnInfo.DeskCard[\" + i + \"]: \" + turnInfo.DeskCard[i]);\n                    if (pokerPT != turnInfoPT) {\n                        poker.setCardPoint(turnInfoPT);\n                    }\n                    poker.setFaceUp(true);\n                    poker.enable();\n                    this.dealCommunityCards[i].active = true;\n                } else {\n                    Log.Trace(\"poker[\" + i + \"]: \" + pokerPT);\n                    poker.setCardPoint(52);\n                    this.dealCommunityCards[i].active = false;\n                }\n            }\n        }\n        return true;\n    },\n\n    _handleLeaveNext (data) {\n        Log.Trace('[_handleLeaveNext] ' + JSON.stringify(data));\n        this._showTips('[' + data.Addr.substr(2, 8) + '] Has applied for settlement to leave the table, will automatically stand up after the end of this hand', true);\n    },\n\n    //处理非本玩家的暂离事件\n    _handleStandupNext (data) {\n        Log.Trace(\"[_handleStandupNext] \" + JSON.stringify(data));\n        let seatId = this._getSeatIdByPlayerAddr(data.Addr);\n        Log.Trace(\"[_handleStandupNext] SeatId: \" + seatId + \", cc.dgame.tableInfo.SeatId: \" + cc.dgame.tableInfo.SeatId);\n    },\n\n    _potsToPlayers (potallot) {\n        if (!potallot || !potallot.length) {\n            Log.Warn(\"[_potsToPlayers] PotAllot is illegal\");\n            return;\n        }\n        //计算每个玩家赢得底池和边池个数来决定动画播放速度，由于每个边池消失时同时往所有赢得该边池的玩家发筹码，所以所有玩家动画播放速度以赢得边池数量最多的玩家为准\n        //玩家赢后展示4秒，_resetGameTable在GameOverInfo后3秒执行，会重置边池状态，winPot正常速度0.95秒\n        let maxPotNum = 0;\n        let playerWinPotNum = new Array();\n        let speed = 1;\n        let interval = 1;   //1s\n        //计算每一副牌各玩家赢取的底池个数\n        for (let k = 0; k < potallot.length; k++) {\n            playerWinPotNum.push({});\n            for (let i = 0; i < potallot[k].length; i++) {\n                let potAllot = potallot[k][i].Allot;\n                for (let j = 0; j < potAllot.length; j++) {\n                    let seatId = potAllot[j].Seat;\n                    if (playerWinPotNum[k][seatId] == null) {\n                        playerWinPotNum[k][seatId] = 0;\n                    }\n                    playerWinPotNum[k][seatId] = playerWinPotNum[k][seatId] + 1;\n                }\n            }\n        }\n\n        for (let k = 0; k < playerWinPotNum.length; k++) {\n            for (let seatId in playerWinPotNum) {\n                if (playerWinPotNum[k][seatId] > maxPotNum) {\n                    maxPotNum = playerWinPotNum[k][seatId];\n                }\n            }\n        }\n\n        if (maxPotNum > 3 && maxPotNum < 7) {\n            speed = 2;\n            interval = 0.5;\n        } else if (maxPotNum >= 7) {\n            speed = 3;\n            interval = 0.3;\n        }\n\n        for (let k = 0; k < potallot.length; k++) {\n            //遍历每一副牌，每副牌显示时间3秒\n            for (let i = 0; i < potallot[k].length; i++) {\n                //遍历每一个池，每一个池的显示\n                this.scheduleOnce(function () {\n                    let potAllot = potallot[k][i].Allot;\n                    if (i == 0) {   //主池\n                        let potNum = cc.dgame.utils.getOriginValue(this.potNum);\n                        for (let j = 0; j < potAllot.length; j++) {\n                            let seatId = potAllot[j].Seat;\n                            potNum = potNum - potAllot[j].Win;\n                            if (potNum > 0) {\n                                cc.dgame.utils.setOriginValue(this.potNum,potNum,\"yellow\");\n                            } else {\n                                this.potLayer.active = false;\n                            }\n                            let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n                            let player = playerNode.getComponent('Player');\n                            let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n                            player.winPot(potPos, speed);\n                        }\n                    } else {\n                        this.scheduleOnce(function () {\n                            let sidePotNum = cc.dgame.utils.getOriginValue(this.sidePotNums[i - 1]);\n                            for (let j = 0; j < potAllot.length; j++) {\n                                let seatId = potAllot[j].Seat;\n                                sidePotNum = sidePotNum - potAllot[j].Win;\n                                if (sidePotNum > 0) {\n                                    cc.dgame.utils.setOriginValue(this.sidePotNums[i - 1],sidePotNum,\"yellow\");\n                                } else {\n                                    this.sidePots[i - 1].active = false;\n                                }\n                                let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n                                let player = playerNode.getComponent('Player');\n                                let potPos = this.sidePots[i - 1].convertToWorldSpaceAR(cc.v2(0, 0));\n                                player.winPot(potPos, speed);\n                            }\n                            delete this._animationTimerDelay[\"_winPot_\" + k + \"_\" + i];\n                            this._getAnimationTimerDelay();\n                        }, interval * i);\n                        this._animationTimerDelay[\"_winPot_\" + k + \"_\" + i] = new Date().getTime() + interval * (i + 1) * 1000;\n                        this._getAnimationTimerDelay();\n                    }\n                    delete this._animationTimerDelay[\"_winPot_\" + k];\n                    this._getAnimationTimerDelay();\n                }, k * 3 + 0.1);\n                this._animationTimerDelay[\"_winPot_\" + k] = new Date().getTime() + (k * 3 + 0.1 + interval) * 1000;\n                this._getAnimationTimerDelay();\n            }\n        }\n    },\n\n    _onGetGameReplays (gameReplayID, data) {\n        Log.Trace(\"[_onGetGameReplays]\" + JSON.stringify(data));\n        cc.sys.localStorage.setItem(gameReplayID, JSON.stringify(data));\n    },\n\n    //将牌局结果存入牌局回顾中\n    _saveGameResult (gameOverInfo) {\n        let gameResult = {};\n        gameResult.FullTableId = cc.dgame.tableInfo.FullTableId;\n        gameResult.TableId = cc.dgame.tableInfo.TableId;\n        gameResult.Hand = gameOverInfo.Hand;\n        gameResult.BlindInfo = this.blindInfo.string;\n        let val = cc.dgame.utils.getOriginValue(this.currentRoundPotNum);\n        gameResult.Pot = val;\n        gameResult.GameTime = cc.dgame.utils.getNowFormatDate();\n        gameResult.PlayerInfo = new Array;\n        gameResult.HoleCards = new Array;\n        gameResult.CommunityCards = new Array;\n        if (gameOverInfo.DeskCard.length != undefined && gameOverInfo.DeskCard.length > 0) {\n            for (let j = 0; j < gameOverInfo.DeskCard.length; j++) {\n                gameResult.CommunityCards.push(cc.dgame.utils.getCard(gameOverInfo.DeskCard[j]));\n            }\n            if (!!cc.dgame.tableInfo.RMTCards && cc.dgame.tableInfo.RMTCards.length == 1) {\n                for (let j = 0; j < cc.dgame.tableInfo.RMTCards[0].length; j++) {\n                    gameResult.CommunityCards.push(cc.dgame.utils.getCard(cc.dgame.tableInfo.RMTCards[0][j]));\n                }\n            }\n        }\n        if (!!gameOverInfo.InsWinList) {\n            gameResult.INSSelfWin = 0;  //保险自身输赢\n            gameResult.INSPlayerWin = {};   //买保险的玩家输赢\n            if (!!gameOverInfo.InsBuyerList) {\n                for (let order in gameOverInfo.InsBuyerList)\n                {\n                    let seatId = gameOverInfo.InsBuyerList[order] + \"\";\n                    Log.Trace('[_saveGameResult] seatId:' + seatId + ', gameResult.INSPlayerWin[' + seatId + '] ' + gameResult.INSPlayerWin[seatId]);\n                    if (gameResult.INSPlayerWin[seatId] == undefined) {\n                        gameResult.INSPlayerWin[seatId] = 0;\n                    }\n                    let winList = gameOverInfo.InsWinList[order];\n                    if (winList != null) {\n                        for (let j = 0; j < winList.length; j++) {\n                            gameResult.INSPlayerWin[seatId] += winList[j];\n                        }\n                    }\n                }\n                for (let seatId in gameResult.INSPlayerWin) {\n                    gameResult.INSSelfWin -= gameResult.INSPlayerWin[seatId];\n                }\n            }\n            Log.Trace('[_saveGameResult] gameOverInfo.INSPlayerWin ' + JSON.stringify(gameResult.INSPlayerWin));\n            Log.Trace('[_saveGameResult] gameOverInfo.INSSelfWin ' + gameResult.INSSelfWin);\n        }\n        for (let seatId in gameOverInfo.PlayerInfo) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            let playerInfo = {};\n            playerInfo.Addr = player.getPlayerAddr();\n            playerInfo.HoleCards = new Array;\n            if (gameOverInfo.PlayerInfo[seatId].HandCard.length != undefined && gameOverInfo.PlayerInfo[seatId].HandCard.length > 0) {\n                playerInfo.HoleCards.push(cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[0]));\n                playerInfo.HoleCards.push(cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[1]));\n            }\n            playerInfo.RMTCommunityCards = new Array(gameOverInfo.PlayerInfo[seatId].Win.length);\n            for (let j = 0; j < playerInfo.RMTCommunityCards.length; j++) {\n                playerInfo.RMTCommunityCards[j] = new Array();\n            }\n            if (gameOverInfo.DeskCard.length != undefined && gameOverInfo.DeskCard.length > 0) {\n                for (let k = 0; k < playerInfo.RMTCommunityCards.length; k++) {\n                    for (let j = 0; j < gameOverInfo.DeskCard.length; j++) {\n                        playerInfo.RMTCommunityCards[k].push(cc.dgame.utils.getCard(gameOverInfo.DeskCard[j]));\n                    }\n                }\n            }\n            if (!!cc.dgame.tableInfo.RMTCards) {\n                for (let k = 0; k < playerInfo.RMTCommunityCards.length; k++) {\n                    for (let j = 0; j < cc.dgame.tableInfo.RMTCards[k].length; j++) {\n                        playerInfo.RMTCommunityCards[k].push(cc.dgame.utils.getCard(cc.dgame.tableInfo.RMTCards[k][j]));\n                    }\n                }\n            }\n            playerInfo.CardType = new Array;\n            playerInfo.WinLoss = new Array;\n            let totalWin = 0;\n            for (let j = 0; j < gameOverInfo.PlayerInfo[seatId].Win.length; j++) {\n                playerInfo.CardType.push(gameOverInfo.PlayerInfo[seatId].Fold ? \"Fold\" : cc.dgame.utils.getCardType(gameOverInfo.PlayerInfo[seatId].LevelName[j]));\n                let win = gameOverInfo.PlayerInfo[seatId].Win[j];\n                Log.Trace('[_saveGameResult] win ' + win);\n                if (gameResult.INSPlayerWin != null && gameResult.INSPlayerWin[seatId] != null) {\n                    win += gameResult.INSPlayerWin[seatId];\n                }\n                Log.Trace('[_saveGameResult] win2 ' + win);\n                playerInfo.WinLoss.push(win);\n                totalWin += parseFloat(win);\n            }\n            gameResult.PlayerInfo.push(playerInfo);\n            //MySettings Records显示\n            if (cc.dgame.tableInfo.SeatId == seatId) {\n                gameResult.HoleCards.push(cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[0]));\n                gameResult.HoleCards.push(cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[1]));\n                gameResult.WinLoss = totalWin;\n                gameResult.CardType = playerInfo.CardType[0];\n            }\n        }\n        if (!cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_gamelist\")) {\n            cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_gamelist\", \"[]\");\n        }\n        let gamelist = JSON.parse(cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_gamelist\"));\n        if (gamelist.length >= 30) {\n            let removeGameResult = gamelist.pop();\n            cc.sys.localStorage.removeItem(cc.dgame.settings.account.Addr + \"_\" + removeGameResult + \"_result\");\n            cc.sys.localStorage.removeItem(cc.dgame.settings.account.Addr + \"_\" + removeGameResult + \"_replay\");\n        }\n        gamelist.unshift(gameResult.TableId + \"_\" + gameResult.Hand);\n        Log.Trace(\"[_saveGameResult] gamelist: \" + JSON.stringify(gamelist));\n        cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_gamelist\", JSON.stringify(gamelist));\n        cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_\" + gameResult.TableId + \"_\" + gameResult.Hand + \"_result\", JSON.stringify(gameResult));\n        Log.Trace(\"[_saveGameResult] \" + cc.dgame.settings.account.Addr + \"_\" + gameResult.TableId + \"_\" + gameResult.Hand + \"_result save: \" + JSON.stringify(gameResult));\n        cc.dgame.net.gameCall([\"Play_GetGameReplays\", \"\"], this._onGetGameReplays.bind(this, cc.dgame.settings.account.Addr + \"_\" + gameResult.TableId + \"_\" + gameResult.Hand + \"_replay\"));\n        // cc.sys.localStorage.setItem(cc.dgame.settings.account.Addr + \"_\" + gameResult.TableId + \"_\" + gameResult.Hand + \"_replay\", JSON.stringify(cc.dgame.gameReplayPopup.GameReplays[gameResult.Hand]));\n        // console.log(cc.dgame.settings.account.Addr + \"_\" + gameResult.TableId + \"_\" + gameResult.Hand + \"_replay save: \" + JSON.stringify(cc.dgame.gameReplayPopup.GameReplays[gameResult.Hand]));\n// [{\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 397,\n//             \"HoleCards\": [],\n//             \"Bet\": 1\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 800,\n//             \"HoleCards\": [45, 44],\n//             \"Bet\": 2\n//         }\n//     },\n//     \"Stage\": 0,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [],\n//     \"Pots\": []\n// }, {\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 396,\n//             \"HoleCards\": [],\n//             \"Bet\": 2,\n//             \"Action\": 5\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 800,\n//             \"HoleCards\": [45, 44],\n//             \"Bet\": 2\n//         }\n//     },\n//     \"Stage\": 0,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [],\n//     \"Pots\": []\n// }, {\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 396,\n//             \"HoleCards\": [],\n//             \"Bet\": 2,\n//             \"Action\": 5\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 800,\n//             \"HoleCards\": [45, 44],\n//             \"Bet\": 2,\n//             \"Action\": 6\n//         }\n//     },\n//     \"Stage\": 0,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [],\n//     \"Pots\": []\n// }, {\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 396,\n//             \"HoleCards\": []\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 800,\n//             \"HoleCards\": [45, 44]\n//         }\n//     },\n//     \"Stage\": 1,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [24, 27, 41],\n//     \"Pots\": [4],\n//     \"StageChange\": true\n// }, {\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 396,\n//             \"HoleCards\": []\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 0,\n//             \"HoleCards\": [45, 44],\n//             \"Action\": 9,\n//             \"Bet\": 800\n//         }\n//     },\n//     \"Stage\": 1,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [24, 27, 41],\n//     \"Pots\": [4]\n// }, {\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 0,\n//             \"HoleCards\": [],\n//             \"Action\": 9,\n//             \"Bet\": 396\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 0,\n//             \"HoleCards\": [45, 44],\n//             \"Action\": 9,\n//             \"Bet\": 800\n//         }\n//     },\n//     \"Stage\": 1,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [24, 27, 41],\n//     \"Pots\": [4]\n// }, {\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 0,\n//             \"HoleCards\": [],\n//             \"Action\": 9\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 0,\n//             \"HoleCards\": [45, 44],\n//             \"Action\": 9\n//         }\n//     },\n//     \"Stage\": 3,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [24, 27, 41],\n//     \"Pots\": [796, 404],\n//     \"StageChange\": true,\n//     \"RMTCards\": [\n//         [23, 35],\n//         [19, 39],\n//         [13, 7],\n//         [28, 18]\n//     ]\n// }, {\n//     \"Players\": {\n//         \"2\": {\n//             \"PlayerAddr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//             \"Balance\": 398,\n//             \"HoleCards\": [10, 38],\n//             \"Action\": 9,\n//             \"Win\": [99, -100, 99, -98],\n//             \"CardType\": [\"对子\", \"高牌\", \"高牌\", \"对子\"]\n//         },\n//         \"7\": {\n//             \"PlayerAddr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//             \"Balance\": 802,\n//             \"HoleCards\": [45, 44, 45, 44],\n//             \"Action\": 9,\n//             \"Win\": [-100, 99, -100, 101],\n//             \"CardType\": [\"高牌\", \"对子\", \"高牌\", \"两对\"]\n//         }\n//     },\n//     \"Stage\": 3,\n//     \"Dealer\": 2,\n//     \"CommunityCards\": [24, 27, 41],\n//     \"Pots\": [0],\n//     \"StageChange\": true,\n//     \"RMTCards\": [\n//         [23, 35],\n//         [19, 39],\n//         [13, 7],\n//         [28, 18]\n//     ],\n//     \"WinGenCards\": [\n//         [\"红心Q\", \"黑桃Q\", \"梅花A\", \"红心K\", \"梅花J\"],\n//         [\"红心8\", \"方块8\", \"红心K\", \"方块7\", \"方块4\"],\n//         [\"梅花A\", \"红心K\", \"黑桃Q\", \"黑桃9\", \"方块4\"],\n//         [\"红心7\", \"方块7\", \"方块4\", \"梅花4\", \"红心K\"]\n//     ]\n// }]\n        // console.log(\"replay\\n\" + JSON.stringify(cc.dgame.gameReplayPopup.GameReplays[gameResult.Hand]));\n// {\n//     \"FullTableId\": \"895970-001\",\n//     \"TableId\": 240510115512321,\n//     \"Hand\": 1,\n//     \"BlindInfo\": \"1/2\",\n//     \"Pot\": 800,\n//     \"GameTime\": \"2019-12-11 16:21:17\",\n//     \"PlayerInfo\": [{\n//         \"Addr\": \"0xe2A04360345EeCE3d7e781B652A998cfaaD559A8\",\n//         \"HoleCards\": [23, 51],\n//         \"RMTCommunityCards\": [\n//             [2, 41, 46, 48, 4],\n//             [28, 24, 42, 44, 17],\n//             [14, 43, 9, 0, 21],\n//             [45, 34, 5, 18, 37]\n//         ],\n//         \"CardType\": [\"One pair\", \"High card\", \"High card\", \"One pair\"],\n//         \"WinLoss\": [-100, -100, -100, 100]\n//     }, {\n//         \"Addr\": \"0x5806dc6556C3b2343ECC150A5eA8D3cB3ABA41F5\",\n//         \"HoleCards\": [35, 15],\n//         \"RMTCommunityCards\": [\n//             [2, 41, 46, 48, 4],\n//             [28, 24, 42, 44, 17],\n//             [14, 43, 9, 0, 21],\n//             [45, 34, 5, 18, 37]\n//         ],\n//         \"CardType\": [\"Full house\", \"One pair\", \"One pair\", \"One pair\"],\n//         \"WinLoss\": [100, 100, 100, -100]\n//     }],\n//     \"HoleCards\": [35, 15],\n//     \"CommunityCards\": [],\n//     \"WinLoss\": 200,\n//     \"CardType\": \"Full house\"\n// }\n        Log.Trace('[_saveGameResult] ' + JSON.stringify(gameResult));\n    },\n\n    _isPlaying (seatId) {\n        if (seatId != undefined) {\n            if (this._dealCardPlayerPosArray.indexOf(seatId) != -1) {\n                return true;\n            }\n        } else {\n            if (cc.dgame.tableInfo.SeatId != null && cc.dgame.tableInfo.SeatId != undefined && this._dealCardPlayerPosArray.indexOf(cc.dgame.tableInfo.SeatId) != -1 && cc.dgame.tableInfo.ContractStatus >= Types.ContractStatus.PLAYING) {\n                return true;\n            }\n        }\n        return false;\n    },\n\n    _highlightCommunityCards (suit, genCards) {\n        Log.Trace(\"[_highlightCommunityCards] suit: \" + suit + \", genCards: \" + JSON.stringify(genCards));\n        let genCardsPTArr = new Array();\n        for (let i = 0; i < genCards.length; i++) {\n            genCardsPTArr.push(cc.dgame.utils.getCard(genCards[i]));\n        }\n        for (let i = 0; i < this.dealCommunityCards.length; i++) {\n            let poker = this.dealCommunityCards[i].getChildren()[0].getComponent(\"Poker\");\n            if (this.dealCommunityCards[i].active) {\n                poker.disable();\n                this.highlightCommunityCards[i].setPosition(this.dealCommunityCards[i].getPosition());\n                let highlightPoker = this.highlightCommunityCards[i].getChildren()[0].getComponent(\"Poker\");\n                highlightPoker.setCardPoint(poker.getCardPoint());\n            }\n        }\n        let dealRMTCommunityCards = new Array();\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards1);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards2);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards3);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards4);\n        for (let i = 0; i < dealRMTCommunityCards.length; i++) {\n            for (let j = 0; j < dealRMTCommunityCards[i].length; j++) {\n                let poker = dealRMTCommunityCards[i][j].getChildren()[0].getComponent(\"Poker\");\n                if (dealRMTCommunityCards[i][j].active) {\n                    poker.disable();\n                    if (suit == i) {\n                        this.highlightCommunityCards[j].setPosition(dealRMTCommunityCards[i][j].getPosition());\n                        let highlightPoker = this.highlightCommunityCards[j].getChildren()[0].getComponent(\"Poker\");\n                        highlightPoker.setCardPoint(poker.getCardPoint());\n                    }\n                }\n            }\n        }\n        for (let i = 0; i < this.highlightCommunityCards.length; i++) {\n            this.highlightCommunityCards[i].active = true;\n            let poker = this.highlightCommunityCards[i].getChildren()[0].getComponent(\"Poker\");\n            poker.setFaceUp(true);\n            if (genCardsPTArr.indexOf(poker.getCardPoint()) == -1) {\n                poker.disable();\n            } else {\n                poker.enable();\n            }\n        }\n    },\n\n    _highlightSelfHoleCards (genCards) {\n        let genCardsPTArr = new Array();\n        for (let i = 0; i < genCards.length; i++) {\n            genCardsPTArr.push(cc.dgame.utils.getCard(genCards[i]));\n        }\n        for (let i = 0; i < this.selfHoleCards.length; i++) {\n            let poker = this.selfHoleCards[i].getChildren()[0].getComponent(\"Poker\");\n            if (genCardsPTArr.indexOf(poker.getCardPoint()) == -1) {\n                poker.disable();\n            } else {\n                poker.enable();\n            }\n        }\n    },\n\n    _handleGameOverInfo (gameOverInfo) {\n        Log.Trace('[_handleGameOverInfo] ' + JSON.stringify(gameOverInfo) + ', cc.dgame.tableInfo.SelfReady: ' + cc.dgame.tableInfo.SelfReady);\n        let animationTimerInfo = this._getAnimationTimerDelay();\n        if (animationTimerInfo.count > 0) {\n            let gameOverEvent = {};\n            gameOverEvent.Event = \"GameOverInfo\";\n            gameOverEvent.Params = gameOverInfo;\n            cc.dgame.tableInfo.RawGameEventQueue.push(gameOverEvent);\n            Log.Trace('[_handleGameOverInfo] new: ' + this._getAllMsgCount());\n            return;\n        }\n        this.actionIdentifier.active = false;\n        this.actionIdentifier.angle = 0;\n        //桌上筹码推至底池\n        let turnBets = this._chipsToPot(cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 1]);\n        let delay = turnBets > 0 ? 1 : 0;\n        let bAllinDealCard = this._isAllinDealCard();\n        Log.Trace(\"[_handleGameOverInfo] after _chipsToPot, delay: \" + delay + \", AllinDealCard: \" + bAllinDealCard);\n        //生成每副牌赢牌或平局的成牌\n        let winGenCards = new Array(gameOverInfo.PotAllot.length);\n        Log.Trace(\"[_handleGameOverInfo] before winGenCards: \" + JSON.stringify(winGenCards));\n        if (gameOverInfo.PotAllot.length == 1 && bAllinDealCard) {\n            let pubCards = this._getShownPublicCardNum();\n            if (pubCards == 0) {\n                delay += 4.5;\n            } else if (pubCards == 3) {\n                delay += 3;\n            } else if (pubCards == 4) {\n                delay += 1.5;\n            }\n        }\n        Log.Trace(\"[_handleGameOverInfo] after winGenCards, delay: \" + delay);\n        for (let k = 0; k < gameOverInfo.PotAllot.length; k++) {\n            for (let seatId in gameOverInfo.PlayerInfo) {\n                Log.Trace(\"[_handleGameOverInfo] gameOverInfo.PlayerInfo[\" + seatId + \"].GenCards[\" + k + \"]: \" + JSON.stringify(gameOverInfo.PlayerInfo[seatId].GenCards[k]));\n                if (gameOverInfo.PlayerInfo[seatId].Win[k] >= 0) {\n                    winGenCards[k] = gameOverInfo.PlayerInfo[seatId].GenCards[k];\n                    if (!!gameOverInfo.PlayerInfo[seatId].GenCards[k].length) {\n                        this.scheduleOnce(function () {\n                            this._highlightCommunityCards(k, winGenCards[k]);\n                            delete this._animationTimerDelay[\"_highlightCommunityCards\" + k];\n                            this._getAnimationTimerDelay();\n                        }, delay + k * 3 + 0.1);\n                        this._animationTimerDelay[\"_highlightCommunityCards\" + k] = new Date().getTime() + (delay + k * 3 + 0.1) * 1000;\n                        this._getAnimationTimerDelay();\n                        Log.Trace(\"[_handleGameOverInfo] _highlightCommunityCards after \" + (delay + k * 3 + 0.1) + \"s\")\n                    }\n                }\n            }\n        }\n        Log.Trace(\"[_handleGameOverInfo] after winGenCards: \" + JSON.stringify(winGenCards));\n        this._saveGameResult(gameOverInfo);\n        //Allin后已揭晓底牌的发牌\n        if (bAllinDealCard) {\n            for (let seatId in gameOverInfo.PlayerInfo) {\n                let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n                let player = playerNode.getComponent('Player');\n                if (seatId != cc.dgame.tableInfo.SeatId && gameOverInfo.PlayerInfo[seatId].HandCard.length != undefined\n                    && gameOverInfo.PlayerInfo[seatId].HandCard.length > 0 && gameOverInfo.PlayerInfo[seatId].GenCards.length != undefined\n                    && gameOverInfo.PlayerInfo[seatId].GenCards.length > 0) {\n                    player.revealHoleCards(cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[0]), cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[1]));\n                }\n            }\n            let pubCards = this._getShownPublicCardNum();\n            if (pubCards == 0) {\n                delay = 4.5;\n            } else if (pubCards == 3) {\n                delay = 3;\n            } else if (pubCards == 4) {\n                delay = 1.5;\n            }\n            if (pubCards == 0) {\n                this._dealFlopCards(cc.dgame.utils.getCard(gameOverInfo.DeskCard[0]), cc.dgame.utils.getCard(gameOverInfo.DeskCard[1]), cc.dgame.utils.getCard(gameOverInfo.DeskCard[2]), true);\n                this.roundTips.string = cc.dgame.utils.formatRichText(\"Flop round\", \"#ffffff\", true, true);\n                this.scheduleOnce(function () {\n                    this._dealTurnCard(cc.dgame.utils.getCard(gameOverInfo.DeskCard[3]), true);\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"Turn round\", \"#ffffff\", true, true);\n                    delete this._animationTimerDelay[\"_dealTurnCard\"];\n                    this._getAnimationTimerDelay();\n                }, 1.5);\n                this._animationTimerDelay[\"_dealTurnCard\"] = new Date().getTime() + 1500;\n\n                this.scheduleOnce(function () {\n                    this._dealRiverCard(cc.dgame.utils.getCard(gameOverInfo.DeskCard[4]), true);\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"River round\", \"#ffffff\", true, true);\n                    delete this._animationTimerDelay[\"_dealRiverCard\"];\n                    this._getAnimationTimerDelay();\n                }, 3);\n                this._animationTimerDelay[\"_dealRiverCard\"] = new Date().getTime() + 3000;\n                this._getAnimationTimerDelay();\n            } else if (pubCards == 3) {\n                this._dealTurnCard(cc.dgame.utils.getCard(gameOverInfo.DeskCard[3]), true);\n                this.roundTips.string = cc.dgame.utils.formatRichText(\"Turn round\", \"#ffffff\", true, true);\n                this.scheduleOnce(function () {\n                    this._dealRiverCard(cc.dgame.utils.getCard(gameOverInfo.DeskCard[4]), true);\n                    this.roundTips.string = cc.dgame.utils.formatRichText(\"River round\", \"#ffffff\", true, true);\n                    delete this._animationTimerDelay[\"_dealRiverCard\"];\n                    this._getAnimationTimerDelay();\n                }, 1.5);\n                this._animationTimerDelay[\"_dealRiverCard\"] = new Date().getTime() + 1500;\n                this._getAnimationTimerDelay();\n            } else if (pubCards == 4) {\n                this._dealRiverCard(cc.dgame.utils.getCard(gameOverInfo.DeskCard[4]), true);\n                this.roundTips.string = cc.dgame.utils.formatRichText(\"River round\", \"#ffffff\", true, true);\n            }\n        }\n        this.scheduleOnce(function () {\n            Log.Trace('[_handleGameOverInfo] GameOverInfo in schedule: ' + JSON.stringify(gameOverInfo));\n// {\n//     \"DeskCard\": \"[]\",\n//     \"Hand\": 3,\n//     \"PlayerInfo\": [{\n//         \"Balance\": 200,\n//         \"Fold\": false,\n//         \"GenCards\": [\n//             [\"黑桃K\", \"梅花K\", \"黑桃Q\", \"红心10\", \"方块9\"],\n//             [\"红心5\", \"方块5\", \"红心J\", \"方块9\", \"红心6\"],\n//             [\"黑桃5\", \"方块6\", \"方块7\", \"梅花8\", \"方块9\"],\n//             [\"红心9\", \"方块9\", \"红心K\", \"梅花J\", \"红心6\"]\n//         ],\n//         \"HandCard\": [\"红心6\", \"方块9\"],\n//         \"Id\": 2,\n//         \"Level\": [1, 1, 4, 1],\n//         \"LevelName\": [\"对子\", \"对子\", \"顺子\", \"对子\"],\n//         \"Win\": [50, -150, 50, 50]\n//     }, {\n//         \"Balance\": 0,\n//         \"Fold\": false,\n//         \"GenCards\": [\n//             [\"黑桃K\", \"梅花K\", \"黑桃Q\", \"红心10\", \"红心8\"],\n//             [\"梅花3\", \"黑桃4\", \"红心5\", \"梅花6\", \"黑桃7\"],\n//             [\"方块7\", \"黑桃7\", \"方块6\", \"梅花6\", \"梅花A\"],\n//             [\"红心K\", \"梅花J\", \"红心9\", \"黑桃7\", \"梅花6\"]\n//         ],\n//         \"HandCard\": [\"黑桃7\", \"梅花6\"],\n//         \"Id\": 7,\n//         \"Level\": [1, 4, 2, 0],\n//         \"LevelName\": [\"对子\", \"顺子\", \"两对\", \"高牌\"],\n//         \"Win\": [-50, 150, -50, -50]\n//     }],\n//     \"PotAllot\": [\n//         [{\n//             \"Allot\": [{\n//                 \"Seat\": 2,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }, {\n//             \"Allot\": [{\n//                 \"Seat\": 2,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }],\n//         [{\n//             \"Allot\": [{\n//                 \"Seat\": 7,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }, {\n//             \"Allot\": [{\n//                 \"Seat\": 7,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }],\n//         [{\n//             \"Allot\": [{\n//                 \"Seat\": 2,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }, {\n//             \"Allot\": [{\n//                 \"Seat\": 2,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }],\n//         [{\n//             \"Allot\": [{\n//                 \"Seat\": 2,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }, {\n//             \"Allot\": [{\n//                 \"Seat\": 2,\n//                 \"Win\": 100\n//             }],\n//             \"PotValue\": 100\n//         }]\n//     ]\n// }\n            this._restoreOperatePanel();\n            this._resetINS();\n\n            let rakeRate = cc.dgame.settings.rake;\n            for (let seatId in gameOverInfo.PlayerInfo) {\n                if (gameOverInfo.PlayerInfo[seatId].Win.length == 1 && gameOverInfo.PlayerInfo[seatId].Win[0] > 0) {\n                    let rakeNum = parseInt(rakeRate * gameOverInfo.PlayerInfo[seatId].Win[0] / 100);\n                    if (rakeNum > 0) {\n                        gameOverInfo.PlayerInfo[seatId].Win[0] -= rakeNum;\n                        gameOverInfo.PlayerInfo[seatId].Balance -= rakeNum;\n                    }\n                } else {\n                    let totalWin = 0;\n                    let totalWinTimes = 0;\n                    for (let j = 0; j < gameOverInfo.PlayerInfo[seatId].Win.length; j++) {\n                        if (gameOverInfo.PlayerInfo[seatId].Win[j] > 0) {\n                            totalWin += gameOverInfo.PlayerInfo[seatId].Win[j];\n                            totalWinTimes++;\n                        }\n                    }\n                    let winTimes = 0;\n                    let rakeNum = parseInt(rakeRate * totalWin / 100);\n                    if (rakeNum > 0) {\n                        for (let j = 0; j < gameOverInfo.PlayerInfo[seatId].Win.length; j++) {\n                            if (gameOverInfo.PlayerInfo[seatId].Win[j] > 0) {\n                                let rakenum = parseInt(rakeRate * gameOverInfo.PlayerInfo[seatId].Win[j] / 100);\n                                if (rakenum > 0) {\n                                    gameOverInfo.PlayerInfo[seatId].Win[j] -= rakenum;\n                                    winTimes++;\n                                }\n                            }\n                        }\n                        gameOverInfo.PlayerInfo[seatId].Balance -= rakeNum;\n                    }\n                }\n            }\n            //this.potLayer.active = false;\n            for (let seatId in gameOverInfo.PlayerInfo) {\n                let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n                let player = playerNode.getComponent('Player');\n                //player.setStack(gameOverInfo.PlayerInfo[i].Balance);\n                //所有玩家停止操作\n                player.stopCountDown();\n                player.hideAllActions();\n                if (seatId != cc.dgame.tableInfo.SeatId && !!gameOverInfo.PlayerInfo[seatId].HandCard.length &&\n                    gameOverInfo.PlayerInfo[seatId].HandCard.length > 0 && !!gameOverInfo.PlayerInfo[seatId].GenCards.length\n                    && gameOverInfo.PlayerInfo[seatId].GenCards.length > 0) {\n                    player.revealHoleCards(cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[0]), cc.dgame.utils.getCard(gameOverInfo.PlayerInfo[seatId].HandCard[1]));\n                }\n                //只有一副牌\n                if (gameOverInfo.PlayerInfo[seatId].Win.length == 1 && gameOverInfo.PlayerInfo[seatId].Win[0] > 0) {\n                    if (gameOverInfo.PlayerInfo[seatId].LevelName[0] != '') {\n                        player.setCardType(cc.dgame.utils.getCardType(gameOverInfo.PlayerInfo[seatId].LevelName[0]));\n                    }\n                    player.setWinloss(gameOverInfo.PlayerInfo[seatId].Win[0]);\n                    //player.winPot();\n                    if (seatId == cc.dgame.tableInfo.SeatId) {\n                        this._selfPlayerWin(true);\n                        this.scheduleOnce(function () {\n                            this._selfPlayerWin(false);\n                            delete this._animationTimerDelay[\"_hideSelfPlayerWin\"];\n                            this._getAnimationTimerDelay();\n                        }, 4);\n                        this._animationTimerDelay[\"_hideSelfPlayerWin\"] = new Date().getTime() + 4000;\n                        this._getAnimationTimerDelay();\n                    } else {\n                        player.setWinlight();\n                        this.scheduleOnce(function () {\n                            player.hideWinlight();\n                            delete this._animationTimerDelay[\"_hidePlayer\" + seatId + \"Win\"];\n                            this._getAnimationTimerDelay();\n                        }, 4);\n                        this._animationTimerDelay[\"_hidePlayer\" + seatId + \"Win\"] = new Date().getTime() + 4000;\n                        this._getAnimationTimerDelay();\n                    }\n                } else if (gameOverInfo.PotAllot.length > 1) { //多牌情况\n                    for (let j = 0; j < gameOverInfo.PotAllot.length; j++) {\n                        this.scheduleOnce(function () {\n                            player.setCardType(cc.dgame.utils.getCardType(gameOverInfo.PlayerInfo[seatId].LevelName[j]));\n                            if (seatId == cc.dgame.tableInfo.SeatId) {\n                                this._highlightSelfHoleCards(winGenCards[j]);\n                            } else {\n                                player.highlightHoleCards(winGenCards[j]);\n                            }\n                            if (gameOverInfo.PlayerInfo[seatId].Win[j] > 0) {\n                                player.showRMTWinner();\n                                player.setWinloss(gameOverInfo.PlayerInfo[seatId].Win[j]);\n                            }\n                            delete this._animationTimerDelay[\"_showRmtPlayer\" + seatId + \"Win\"];\n                            this._getAnimationTimerDelay();\n                        }, j * 3 + 0.1);\n                        this._animationTimerDelay[\"_showRmtPlayer\" + seatId + \"Win\"] = new Date().getTime() + (j * 3 + 0.1) * 1000;\n                        this.scheduleOnce(function () {\n                            if (gameOverInfo.PlayerInfo[seatId].Win[j] > 0) {\n                                player.hideRMTWinner();\n                                player.hideWinloss();\n                            }\n                            delete this._animationTimerDelay[\"_hideRmtPlayer\" + seatId + \"Win\"];\n                            this._getAnimationTimerDelay();\n                        }, (j + 1) * 3);\n                        this._animationTimerDelay[\"_hideRmtPlayer\" + seatId + \"Win\"] = new Date().getTime() + (j + 1) * 3 * 1000;\n                        this._getAnimationTimerDelay();\n                    }\n                }\n                let clearPlayerInfoDelay = 4;\n                if (gameOverInfo.PlayerInfo[seatId].Win.length > 1) {\n                    clearPlayerInfoDelay = gameOverInfo.PlayerInfo[seatId].Win.length * 3 + 1;\n                }\n                this.scheduleOnce(function () {\n                    player.setStack(gameOverInfo.PlayerInfo[seatId].Balance);\n                    player.hideDealCards();\n                    player.hideWinloss();\n                    player.hideCardType();\n                    player.hideRMTWinner();\n                    delete this._animationTimerDelay[\"_resetPlayer\" + seatId];\n                    this._getAnimationTimerDelay();\n                }, clearPlayerInfoDelay);\n                this._animationTimerDelay[\"_resetPlayer\" + seatId] = new Date().getTime() + clearPlayerInfoDelay * 1000;\n                this._getAnimationTimerDelay();\n\n                //筹码打光了的处理\n                if (gameOverInfo.PlayerInfo[seatId].Balance < 5 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet + cc.dgame.tableInfo.Ante) {\n                    if (seatId == cc.dgame.tableInfo.SeatId) {\n                        cc.dgame.tableInfo.SelfReady = false;\n                        player.showBtnBackToPlay();\n                        player.hideBtnResitDown();\n                    }\n                    player.showAction(Types.PlayerOP.STANDBY);\n                    player.startAutoCheckoutCountDown(180, 0);\n                }\n            }\n\n            this._potsToPlayers(gameOverInfo.PotAllot);\n            this._resetGameInfo();\n            let resetGameTableEvent = {};\n            resetGameTableEvent.Event = \"resetGameTable\";\n            cc.dgame.tableInfo.RawGameEventQueue.push(resetGameTableEvent);\n            Log.Trace('[_handleGameOverInfo] new: ' + this._getAllMsgCount());\n\n            delete this._animationTimerDelay[\"_handleGameOverInfo\"];\n            this._getAnimationTimerDelay();\n        }, delay);\n        this._animationTimerDelay[\"_handleGameOverInfo\"] = new Date().getTime() + delay * 1000;\n        this._getAnimationTimerDelay();\n        Log.Trace(\"resetGameTable will run after \" + delay + \"s\");\n    },\n\n    _showSecurityTips (content) {\n        Log.Trace(\"[_showSecurityTips] content: \" + content);\n        this.securityTipsBackground.parent.stopAllActions();\n        this.securityTips.string = content;\n        // 计算宽\n        this.securityTips.overflow = cc.Label.Overflow.NONE;\n        this.securityTips.node.setContentSize(new cc.Size(0, 42));\n        this.securityTips._forceUpdateRenderData();\n        let textWidth = Math.min(this.securityTips.node.width, 450);\n        textWidth = Math.round(textWidth / 30) * 30;\n\n        // 计算高\n        this.securityTips.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\n        this.securityTips.node.setContentSize(new cc.Size(textWidth, 0));\n        this.securityTips._forceUpdateRenderData();\n        let textHeight = this.securityTips.node.height;\n\n        this.securityTips.node.width = textWidth;\n        this.securityTips.node.height = textHeight;\n\n        this.securityTipsBackground.parent.opacity = 255;\n        this.securityTipsBackground.parent.active = true;\n        this.securityTipsBackground.width = this.securityTips.node.width + 60;\n        this.securityTipsBackground.height = this.securityTips.node.height + 15;\n    },\n\n    _handleSecurityTips (tipsInfo) {\n        Log.Trace('[_handleSecurityTips] ' + JSON.stringify(tipsInfo));\n        if (this.securityTips == null || this.securityTips == undefined) {\n            Log.Warn('[_handleSecurityTips] this.securityTips: ' + this.securityTips);\n            return;\n        }\n        if (tipsInfo.Content == \"Communicating With The Chain...\" ||\n            tipsInfo.Content == \"Safe Private Network Is Being Set Up...\") {\n            cc.dgame.utils.tipsCarousel(this.securityTipsBackground.parent, this.securityTips, tipsInfo.Content.substring(0, tipsInfo.Content.length - 3), 1.5);\n        } else if (tipsInfo.Content == \"Create Card Stacks Randomly & Shuffled by players one by one.\" ||\n                   tipsInfo.Content == \"Cards have been Shuffled and Encrypted, Completely Random & Unrecognizable\") {\n            let animationTimerInfo = this._getAnimationTimerDelay();\n            Log.Trace('[_handleSecurityTips] old: ' + this._getAllMsgCount());\n            let needDelay = false\n            for (let i = 0; i < cc.dgame.tableInfo.RawGameEventQueue.length; i++) {\n                let gameEvent = cc.dgame.tableInfo.RawGameEventQueue[i];\n                if (gameEvent.Event == \"SecurityTips\" && gameEvent.Params.Content == \"Create Card Stacks Randomly & Shuffled by players one by one.\" && tipsInfo.Content == \"Cards have been Shuffled and Encrypted, Completely Random & Unrecognizable\") {\n                    needDelay = true;\n                    break;\n                }\n            }\n            if (animationTimerInfo.count > 0 || this._getTypeInGameEventQueueCount(\"StartGame\") == 1 || needDelay) {\n                let securityTipsEvent = {};\n                securityTipsEvent.Event = \"SecurityTips\";\n                securityTipsEvent.Params = tipsInfo;\n                cc.dgame.tableInfo.RawGameEventQueue.push(securityTipsEvent);\n                Log.Trace('[_handleSecurityTips] new: ' + this._getAllMsgCount());\n                return;\n            }\n            this._showSecurityTips(tipsInfo.Content);\n            if (tipsInfo.Content == \"Cards have been Shuffled and Encrypted, Completely Random & Unrecognizable\") {\n                Log.Trace(\"[_dispatchGameEvent] this.securityTipsBackground.parent.opacity: \" + this.securityTipsBackground.parent.opacity);\n                if (this.securityTipsBackground.parent.opacity == 255) {\n                    this.securityTipsBackground.parent.runAction(\n                        cc.sequence(\n                            cc.delayTime(1.5),\n                            cc.fadeOut(1),\n                        )\n                    );\n                }\n            }\n        } else {\n            cc.dgame.tableInfo.SecurityTipsList.unshift(tipsInfo.Content);\n            if (cc.find(\"Canvas/TableInfoDetailLayer\").active) {\n                let securityInfoList = cc.find(\"Canvas/TableInfoDetailLayer/scrollview\").getComponent(\"SecurityInfoList\");\n                securityInfoList.populateList(cc.dgame.tableInfo.SecurityTipsList);\n            }\n        }\n    },\n\n    _handleNotaryInfo (notaryInfo) {\n        Log.Trace('[_handleNotaryInfo] ' + JSON.stringify(notaryInfo));\n        if (notaryInfo.Type == \"dismissTable\") {\n            cc.find(\"Canvas/DismissTableLayer/bg_tips/label\").getComponent(cc.Label).string = notaryInfo.Content;\n            cc.find(\"Canvas/DismissTableLayer\").active = true;\n        }\n    },\n\n    _handleConnectStatus (statusInfo) {\n        Log.Trace(\"[_handleConnectStatus] \" + JSON.stringify(statusInfo) + \", this._resendQueue: \" + JSON.stringify(this._resendQueue));\n        if (cc.director.getScene().name != 'GameTable') {\n            Log.Trace(\"[_handleConnectStatus] not in GameTable\");\n            return\n        }\n        if (!!statusInfo.Status) {  //网络恢复\n            for (var i = 0; i < this._resendQueue.length; i++) {\n                if (this._resendQueue[i].type == \"gameSwitchForeground\") {\n                    this._gameSwitchForeground();\n                }\n                this._resendQueue.splice(i, 1);\n                i--;\n            }\n        }\n        if (this._isPlaying()) {\n            let player = this.playerMyself.getComponent('Player');\n            if (statusInfo.Status == false) {\n                player.setDisconnectMark();\n            } else {\n                player.hideDisconnectMark();\n            }\n        }\n    },\n\n    _dispatchGameEvent () {\n        let animationTimerInfo = this._getAnimationTimerDelay();\n        Log.Trace('[_dispatchGameEvent] msgs: ' + cc.dgame.tableInfo.RawGameEventQueue.length + ', now: ' + Math.floor(new Date().getTime() / 1000) + \", _endTime: \" + this._endTime + \", _isPlaying: \" + this._isPlaying());\n        if (this._delayPlayersInfo) {\n            cc.dgame.net.gameCall(['playersinfo', JSON.stringify(playersinfo_cmd)], this._onPlayersInfo.bind(this));\n        }\n        //俱乐部桌没在玩超时提示\n        if (this._endTime > 0 && Math.floor(new Date().getTime() / 1000) > this._endTime + 10 && !this._isPlaying() && cc.find(\"Canvas/TableTimeoutLayer\").active == false) {\n            Log.Info(\"[_dispatchGameEvent] This table is over. Please select another table to play\");\n            cc.find(\"Canvas/TableTimeoutLayer/bg_tips/label\").getComponent(cc.Label).string = \"This table is over. Please select another table to play\";\n            cc.find(\"Canvas/TableTimeoutLayer\").active = true;\n            return;\n        }\n\n        if (animationTimerInfo.count > 0) {\n            Log.Trace('[_dispatchGameEvent] ' + animationTimerInfo.count + ' animation is still running');\n            return;\n        }\n        if (cc.dgame.tableInfo.RawGameEventQueue.length == 0) {\n            Log.Trace('[_dispatchGameEvent] Not receive new GameEvent ' + this._getAllMsgCount());\n            return;\n        }\n        let gameEvent = cc.dgame.tableInfo.RawGameEventQueue[0];\n        let needShift = true;\n        if (gameEvent.Event === 'BlindInfo') {\n            this._handleBlindInfo(gameEvent.Params);\n        } else if (gameEvent.Event === 'SyncGameReplaysBlindInfo') {\n            this._handleSyncGameReplaysBlindInfo(gameEvent.Params);\n        } else if (gameEvent.Event === 'TurnInfo') {\n            needShift = this._handleTurnInfo(gameEvent.Params);\n        } else if (gameEvent.Event === 'GameOverInfo') {\n            this._handleGameOverInfo(gameEvent.Params);\n        } else if (gameEvent.Event == \"Settle\") {\n            this._handleSettle(gameEvent.Params);\n        } else if (gameEvent.Event == \"StartGame\") {\n            this._handleStartGame(gameEvent.Params);\n        } else if (gameEvent.Event == \"SecurityTips\") {\n            this._handleSecurityTips(gameEvent.Params);\n        } else if (gameEvent.Event == \"resetGameTable\") {\n            this._resetGameTable();\n        } else if (gameEvent.Event == \"Leave\") {\n            this._handleLeave(gameEvent.Params);\n        } else if (gameEvent.Event == \"ClearGame\") {\n            this._handleClearGame(gameEvent.Params);\n        } else if (gameEvent.Event == \"NotaryInfo\") {\n            this._handleNotaryInfo(gameEvent.Params);\n        }\n        if (needShift) {\n            cc.dgame.tableInfo.RawGameEventQueue.shift();\n        } else {\n            Log.Info('[_dispatchGameEvent] Unshift ' + gameEvent.Event + ' msg');\n        }\n        this.debugInfo.string = this._getAllMsgCount();\n        Log.Trace('[_dispatchGameEvent] ' + this._getAllMsgCount());\n    },\n\n    _onGameEvent (data) {\n        Log.Trace('[_onGameEvent] ' + JSON.stringify(data));\n        if (this._isBackground && data.Event != \"SelfHoleCards\") {\n            Log.Warn(\"[_onGameEvent] isBackground: \" + this._isBackground);\n            return;\n        }\n        if (data.Event === 'BlindInfo' || data.Event == \"SyncGameReplaysBlindInfo\" || data.Event == 'TurnInfo' || data.Event == 'GameOverInfo' || data.Event == 'NotaryInfo') {\n            if (data.Event == \"SyncGameReplaysBlindInfo\") {\n                if (!cc.dgame.tableInfo.DealCardFlag[data.Params.Hand]) {\n                    cc.dgame.tableInfo.DealCardFlag[data.Params.Hand] = {};\n                }\n                cc.dgame.tableInfo.DealCardFlag[data.Params.Hand].RecvFirstTurnInfo = false;\n                cc.dgame.tableInfo.DealCardFlag[data.Params.Hand].NeedDealCard = false;\n            }\n\n            cc.dgame.tableInfo.RawGameEventQueue.push(data);\n            if (data.Event == 'GameOverInfo') {\n                if (this._isPlaying()) {\n                    cc.dgame.mainMenuPopup.disableCheckoutExit();\n                }\n                this._dispatchGameEvent();\n            }\n            Log.Trace('[_onGameEvent] ' + this._getAllMsgCount());\n            this.debugInfo.string = this._getAllMsgCount();\n        } else if (data.Event == \"Join\") {\n            this._handleJoin(data.Params);\n        } else if (data.Event == \"Start\") {\n            this._handleStart(data.Params);\n        } else if (data.Event == \"Leave\") {\n            this._handleLeave(data.Params);\n        } else if (data.Event === 'LeaveNext') {\n            this._handleLeaveNext(data.Params);\n        } else if (data.Event === \"StandupNext\") {\n            this._handleStandupNext(data.Params);\n        } else if (data.Event === 'AddChips') {\n            this._handleAddChips(data.Params);\n        } else if (data.Event === 'WithdrawChips') {\n            this._handleWithdrawChips(data.Params);\n        } else if (data.Event === 'ChangeSeats') {\n            this._handleChangeSeats(data.Params);\n        } else if (data.Event === \"SelfHoleCards\") {\n            this._handleSelfHoleCards(data.Params);\n        } else if (data.Event === 'Tips') {\n            this._handleSecurityTips(data.Params);\n        } else if (data.Event === 'GameTips') {\n            this._showTips(data.Params.Content,data.Params.bFadeout);\n        } else if (data.Event === \"NotaryInfo\") {\n            this._handleNotaryInfo(data.Params);\n        } else if (data.Event === \"ConnectStatus\") {\n            this._handleConnectStatus(data.Params);\n        } else if (data.Event === \"ClearGame\") {\n            this._handleClearGame(data.Params);\n        } else if (data.Event == \"Settle\") {\n            this._handleSettle(data.Params);\n        } else if (data.Event == \"StartGame\") {\n            this._handleStartGame(data.Params);\n        } else if (data.Event == \"SecurityTips\") {\n            this._handleSecurityTips(data.Params);\n        } else if (data.Event == \"resetGameTable\") {\n            this._resetGameTable();\n        }\n    },\n\n    _handleSettle (data) {\n        let animationTimerInfo = this._getAnimationTimerDelay();\n        Log.Trace('[_handleSettle] ' + JSON.stringify(data));\n        if (animationTimerInfo.count > 0) {\n            let settleGameEvent = {};\n            settleGameEvent.Event = \"Settle\";\n            settleGameEvent.Params = data;\n            cc.dgame.tableInfo.RawGameEventQueue.push(settleGameEvent);\n            Log.Trace('[_handleSettle] new: ' + this._getAllMsgCount());\n            return;\n        }\n\n        Log.Trace('[_handleSettle] ' + this._getAllMsgCount());\n        //当前局还有消息未处理完，放到这些消息后再处理Settle\n        let foundSettle = false\n        for (let i = 0; i < cc.dgame.tableInfo.RawGameEventQueue.length; i++) {\n            if (cc.dgame.tableInfo.RawGameEventQueue[i].Event == \"Settle\") {\n                foundSettle = true;\n                break;\n            }\n        }\n\n        if (!foundSettle) {\n            let settleGameEvent = {};\n            settleGameEvent.Event = \"Settle\";\n            settleGameEvent.Params = data;\n            cc.dgame.tableInfo.RawGameEventQueue.push(settleGameEvent);\n            Log.Trace('[_handleSettle] new: ' + this._getAllMsgCount());\n            return;\n        }\n\n        this._updateMenuStatus();\n    },\n\n    _onStandup (data) {\n        Log.Trace('[_onStandup] ' + data);\n    },\n\n    _onJoinTable (data) {\n        Log.Trace('[_onJoinTable] ' + JSON.stringify(data));\n        //正在坐下时也不允许点击换座\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            if (player.getPlayerAddr() == \"\") {\n                player.disable();\n            }\n        }\n    },\n\n    _joinTable (pos, buyinGold) {\n        var jointable_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n            NeedChips: buyinGold,\n            Pos: pos,\n        };\n        cc.dgame.net.gameCall(['jointable', JSON.stringify(jointable_cmd)], this._onJoinTable.bind(this));\n        this._joinReq.TableId = cc.dgame.tableInfo.TableId;\n        this._joinReq.Amount = buyinGold;\n        this._joinReq.Pos = pos;\n    },\n\n    _onAddChips (data) {\n        Log.Trace('[_onAddChips] ' + JSON.stringify(data));\n    },\n\n    _addChips (buyinGold) {\n        var addchips_cmd = {\n            Chips: buyinGold,\n        };\n        cc.dgame.net.gameCall(['addChips', JSON.stringify(addchips_cmd)], this._onAddChips.bind(this));\n    },\n\n    onBtnBuyinChipsConfirmClicked () {\n        let clubFlag = false;\n        if (parseInt(cc.dgame.tableInfo.TableId) < 0xE000000000000 && (cc.dgame.tableInfo.TableProps & 0x1) == 0 && !this._isPlaying()) {\n            clubFlag = true;\n            if (cc.dgame.tableInfo.NeedApprove) {\n                cc.dgame.gameRequestMgr.showWaitingTips();\n            }\n        }\n        if (cc.dgame.tableInfo.WantSeatId == null || cc.dgame.tableInfo.WantSeatId == undefined) {\n            this._addChips(cc.dgame.tableInfo.BuyinChips);\n        } else {\n            var sitdownPlayerNode = this.playerAnchors[this._maxPlayerStr][cc.dgame.tableInfo.WantSeatId].getChildren()[0];\n            var sitdownPlayer = sitdownPlayerNode.getComponent('Player');\n            let isEmpty = sitdownPlayer.isEmpty();\n            let lastSeatId = this._getSeatIdByPlayerAddr(cc.dgame.settings.account.Addr);\n            Log.Trace('[onClickBuyinGoldConfirm] wantSeatId: ' + cc.dgame.tableInfo.WantSeatId + ', lastSeatId: ' + lastSeatId + ', empty: ' + isEmpty + ', BuyinGoldType: ' + cc.dgame.tableInfo.BuyinGoldType);\n            if (isEmpty && lastSeatId == -1 && cc.dgame.tableInfo.BuyinGoldType == Types.BuyinGoldType.SITDOWN) {\n                cc.dgame.tableInfo.SittingSeatId = cc.dgame.tableInfo.WantSeatId;\n                //调用将金币带入牌桌的合约\n                this._joinTable(cc.dgame.tableInfo.WantSeatId, cc.dgame.tableInfo.BuyinChips);\n                sitdownPlayer.initPlayerInfo(cc.dgame.tableInfo.WantSeatId, cc.dgame.settings.account.Addr, cc.dgame.settings.account.Addr.substr(2, 8), cc.dgame.tableInfo.BuyinChips, Types.ContractStatus.SEATED);\n            } else {\n                if (lastSeatId != cc.dgame.tableInfo.WantSeatId && cc.dgame.tableInfo.BuyinGoldType == Types.BuyinGoldType.SITDOWN) {\n                    cc.dgame.tableInfo.SittingSeatId = cc.dgame.tableInfo.WantSeatId;\n                    var lastSeatIdPlayerNode = this.playerAnchors[this._maxPlayerStr][lastSeatId].getChildren()[0];\n                    var player = lastSeatIdPlayerNode.getComponent('Player');\n                    player.initPlayerInfo(lastSeatId, '', '', 0, Types.ContractStatus.NOTJOIN);\n                    player.enable();\n                    player.hideAllActions();\n                    this._changeSeats(cc.dgame.tableInfo.WantSeatId, cc.dgame.tableInfo.BuyinChips);\n                    sitdownPlayer.initPlayerInfo(cc.dgame.tableInfo.WantSeatId, cc.dgame.settings.account.Addr, cc.dgame.settings.account.Addr.substr(2, 8), cc.dgame.tableInfo.BuyinChips, Types.ContractStatus.SEATED);\n                } else if (cc.dgame.tableInfo.BuyinGoldType == Types.BuyinGoldType.BACKTOPLAY) {\n                    sitdownPlayer.hideBtnBackToPlay();\n                    sitdownPlayer.stopAutoCheckoutCountDown();\n                    this._addChips(cc.dgame.tableInfo.BuyinChips);\n                }\n            }\n            delete cc.dgame.tableInfo.WantSeatId;\n        }\n    },\n\n    _onSelfLeave (data) {\n        Log.Trace('[_onSelfLeave] ' + data);\n    },\n\n    _onSelfLeaveNext (data) {\n        Log.Trace('[_onSelfLeaveNext] ' + JSON.stringify(data));\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n    },\n\n    //退出牌桌，先取消所有监听事件，从合约中退出，leave调用成功后返回游戏大厅\n    onClickExitTableItem () {\n        Log.Trace(\"[onClickExitTableItem]\");\n        cc.dgame.normalLoading.startInvokeWaiting();\n        if (!!this.playerMyself) {\n            let player = this.playerMyself.getComponent('Player');\n            player.stopAutoCheckoutCountDown();\n        }\n        cc.dgame.net.gameCall(['checkLeave', ''], this._onCheckLeave.bind(this));\n    },\n\n    _onCheckLeave(data) {\n        Log.Trace('[_onCheckLeave] ' + JSON.stringify(data));\n        if (data.canLeave == true) {\n            this.onClickExitTableItem2();\n        } else {\n            cc.dgame.normalLoading.stopInvokeWaiting();\n        }\n    },\n\n    onClickExitTableItem2() {\n        Log.Trace('[onClickExitTableItem2] ');\n        //只删除部分，待合约真正离开触发Leave的时候再删除所有的\n        Log.Trace(\"[onClickExitTableItem2] cc.dgame.tableInfo.SeatId:\" + cc.dgame.tableInfo.SeatId);\n        Log.Trace(\"[onClickExitTableItem2] cc.dgame.tableInfo.SittingSeatId:\" + cc.dgame.tableInfo.SittingSeatId);\n        if (cc.dgame.tableInfo.SeatId == undefined && cc.dgame.tableInfo.SittingSeatId == undefined) {\n            cc.dgame.normalLoading.stopInvokeWaiting();\n            if (this.fulltableid.string.indexOf(\"Free\") != -1 || this.fulltableid.string.indexOf(\"Small\") != -1 || this.fulltableid.string.indexOf(\"Medium\") != -1 || this.fulltableid.string.indexOf(\"Large\") != -1) {\n                cc.director.loadScene(\"GameHall\");\n            } else {\n                cc.director.loadScene(\"ClubHall\");\n            }\n        } else {\n            this._exitRoomFlag = true;\n            var leave_cmd = {\n                TableId: cc.dgame.tableInfo.TableId,\n            };\n            cc.dgame.net.gameCall(['leave', JSON.stringify(leave_cmd)], this._onSelfLeave.bind(this));\n        }\n    },\n\n    onDirectExit() {\n        Log.Trace(\"[onDirectExit]\");\n        var leave_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        cc.dgame.net.gameCall(['leave', JSON.stringify(leave_cmd)], this._onSelfLeave.bind(this));\n        if (this.fulltableid.string.indexOf(\"Free\") != -1 || this.fulltableid.string.indexOf(\"Small\") != -1 || this.fulltableid.string.indexOf(\"Medium\") != -1 || this.fulltableid.string.indexOf(\"Large\") != -1) {\n            cc.director.loadScene(\"GameHall\");\n        } else {\n            cc.director.loadScene(\"ClubHall\");\n        }\n    },\n\n    onClickConfirmCheckoutExit () {\n        //this.checkoutExitToast.active = false;\n        //this.mainMenuPopup.active = false;\n        cc.dgame.net.gameCall(['leaveNext', '' + cc.dgame.tableInfo.TableId], this._onSelfLeaveNext.bind(this));\n    },\n\n    //自动弃牌倒计时处理函数\n    _foldCountDownProc () {\n        this._countDownTotal -= 1;\n        if (this._countDownTotal <= 0) {\n            this._stopAutoFoldCountDown();\n            this.onClickBtnFold();\n            return;\n        }\n\n        let progressBar = cc.find('Canvas/OperatePanelLayer/groupFold/btnFold/CountDownLayer/blackMask').getComponent(cc.ProgressBar);\n        progressBar.progress = this._countDownTotal * 0.1 / this._operateCountDown;\n        let countDownLabel = cc.find('Canvas/OperatePanelLayer/groupFold/btnFold/CountDownLayer/countDown').getComponent(cc.RichText);\n        countDownLabel.string = cc.dgame.utils.formatRichText(parseInt(this._countDownTotal * 0.1), \"#ffffff\", true, false);\n        if (parseInt(this._countDownTotal * 0.1) <= 3 && this._countDownOverTip == false) {\n            this._countDownOverTip = true;\n            cc.dgame.audioMgr.playTimeOverTip();\n        }\n    },\n\n    //开始自动弃牌倒计时\n    _startAutoFoldCountDown (elapsedSecs) {\n        this._operateCountDown = 15;\n        this._countDownOverTip = false;\n        this._countDownTotal = (this._operateCountDown - elapsedSecs) * 10;\n        let layerNode = cc.find('Canvas/OperatePanelLayer/groupFold/btnFold/CountDownLayer');\n        layerNode.active = true;\n        let countDownLabel = cc.find('Canvas/OperatePanelLayer/groupFold/btnFold/CountDownLayer/countDown').getComponent(cc.RichText);\n        countDownLabel.string = cc.dgame.utils.formatRichText(this._operateCountDown, \"#ffffff\", true, false);\n        this.schedule(this._foldCountDownProc, 0.1);\n    },\n\n    //停止自动弃牌倒计时\n    _stopAutoFoldCountDown () {\n        this.unschedule(this._foldCountDownProc);\n        let layerNode = cc.find('Canvas/OperatePanelLayer/groupFold/btnFold/CountDownLayer');\n        layerNode.active = false;\n    },\n\n    //自动看牌倒计时处理函数\n    _checkCountDownProc () {\n        this._countDownTotal -= 1;\n        if (this._countDownTotal <= 0) {\n            this._stopAutoCheckCountDown();\n            this.onClickBtnCheck();\n            return;\n        }\n\n        let progressBar = cc.find('Canvas/OperatePanelLayer/btnCheck/CountDownLayer/blackMask').getComponent(cc.ProgressBar);\n        progressBar.progress = this._countDownTotal * 0.1 / this._operateCountDown;\n        let countDownLabel = cc.find('Canvas/OperatePanelLayer/btnCheck/CountDownLayer/countDown').getComponent(cc.RichText);\n        countDownLabel.string = cc.dgame.utils.formatRichText(parseInt(this._countDownTotal * 0.1), \"#ffffff\", true, false);\n        if (parseInt(this._countDownTotal * 0.1) <= 3 && this._countDownOverTip == false) {\n            this._countDownOverTip = true;\n            cc.dgame.audioMgr.playTimeOverTip();\n        }\n    },\n\n    //开始自动看牌倒计时\n    _startAutoCheckCountDown (elapsedSecs) {\n        this._operateCountDown = 15;\n        this._countDownOverTip = false;\n        this._countDownTotal = (this._operateCountDown - elapsedSecs) * 10;\n        let layerNode = cc.find('Canvas/OperatePanelLayer/btnCheck/CountDownLayer');\n        layerNode.active = true;\n        let countDownLabel = cc.find('Canvas/OperatePanelLayer/btnCheck/CountDownLayer/countDown').getComponent(cc.RichText);\n        countDownLabel.string = cc.dgame.utils.formatRichText(this._operateCountDown, \"#ffffff\", true, false);\n        this.schedule(this._checkCountDownProc, 0.1);\n    },\n\n    //停止自动看牌倒计时\n    _stopAutoCheckCountDown () {\n        this.unschedule(this._checkCountDownProc);\n        let layerNode = cc.find('Canvas/OperatePanelLayer/btnCheck/CountDownLayer');\n        layerNode.active = false;\n    },\n\n    //给已坐下的玩家发牌\n    _dealCards () {\n        Log.Debug('[_dealCards] _dealCardPlayerPosArray: ' + JSON.stringify(this._dealCardPlayerPosArray));\n        let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n        for (let i = 0; i < this._dealCardPlayerPosArray.length; i++) {\n            let playerPos = this._dealCardPlayerPosArray[i];\n            let player = this.playerAnchors[this._maxPlayerStr][playerPos].getChildren()[0].getComponent('Player');\n            if (playerPos != cc.dgame.tableInfo.SeatId) {\n                //其他玩家发牌，发到玩家头像FirstCard、SecondCard\n                player.dealCards(0.05 * i, 0.05 * this._dealCardPlayerPosArray.length + 0.05 * i, potPos, 0.2);\n            } else {\n                //自身玩家发牌，发到HoleCard位置，然后隐藏，使用GameTable的HoleCard来翻转，弃牌的时候用Player的DealCard来弃牌\n                let holeCard1Pos = cc.find('Canvas/HoldCardsLayer/HoldCard_1').convertToWorldSpaceAR(cc.v2(0, 0));\n                let holeCard2Pos = cc.find('Canvas/HoldCardsLayer/HoldCard_2').convertToWorldSpaceAR(cc.v2(0, 0));\n                player.dealCardsPlayerMyself(0.05 * i, 0.05 * this._dealCardPlayerPosArray.length + 0.05 * i, potPos, holeCard1Pos, holeCard2Pos, 0.2, 1);\n                player.operateLayer.setPosition(PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.x, PositionData.PlayerComponentPositions[this._maxPlayers][0].PlayingOperateLayer.y);\n                this.scheduleOnce(function () {\n                    Log.Trace('player ' + playerPos + ' hideDealCards, tick: ' + new Date().getTime());\n                    player.hideDealCards();\n                    let selfHoleCardsStr = cc.sys.localStorage.getItem(cc.dgame.settings.account.Addr + \"_\" + cc.dgame.tableInfo.TableId + \"_\" + cc.dgame.tableInfo.CurrentHand + \"_SelfHoleCards\");\n                    if (!!selfHoleCardsStr) {\n                        let selfHoleCards = JSON.parse(selfHoleCardsStr);\n                        for (let j = 0; j < this.selfHoleCards.length; j++) {\n                            this.selfHoleCards[j].active = true;\n                            let poker = this.selfHoleCards[j].getChildren()[0].getComponent('Poker');\n                            let dstv2 = this.selfHoleCards[j].convertToWorldSpaceAR(cc.v2(0, 0));\n                            poker.setCardPoint(selfHoleCards[j]);\n                            poker.flipCard(dstv2, this.selfHoleCards[j].scale);\n                        }\n                    }\n                    delete this._animationTimerDelay[\"player\" + playerPos + \"dealCards\"];\n                    this._getAnimationTimerDelay();\n                }, 0.05 * this._dealCardPlayerPosArray.length * 2 + 0.3);\n                Log.Trace(\"[_dealCards] \" + playerPos + \" start: \" + new Date().getTime() + \", end: \" + (new Date().getTime() + (0.05 * this._dealCardPlayerPosArray.length * 2 + 0.3) * 1000));\n                this._animationTimerDelay[\"player\" + playerPos + \"dealCards\"] = new Date().getTime() + (0.05 * this._dealCardPlayerPosArray.length * 2 + 0.3) * 1000;\n                this._getAnimationTimerDelay();\n            }\n        }\n        delete this._animationTimerDelay[\"_dealCards\"];\n        this._getAnimationTimerDelay();\n    },\n\n    update (dt) {\n//        Log.Trace(this.selfHoleCard1.eulerAngles.y);\n        return;\n    },\n\n    //根据合约位置获取牌桌位置\n    _getAnchorPosByContractPos (contractPos) {\n        let playerNode = this.playerAnchors[this._maxPlayerStr][contractPos].getChildren()[0];\n        let curPos = playerNode.convertToWorldSpaceAR(cc.v2(0, 0));\n        let result = \"curPos: (\" + curPos.x + \", \" + curPos.y + \")\\n\";\n        let playerPos = 0;\n        let distanceArr = new Array();\n        for (; playerPos < this._maxPlayers; playerPos++) {\n            let pos = this.playerAnchors[this._maxPlayerStr][playerPos].convertToWorldSpaceAR(cc.v2(0, 0));\n            result += playerPos + \": (\" + pos.x + \", \" + pos.y + \")\\n\";\n            distanceArr.push(Math.sqrt(Math.pow(curPos.x - pos.x, 2) + Math.pow(curPos.y - pos.y, 2)));\n            if (Math.abs(pos.x - curPos.x) < 1e-3 && Math.abs(pos.y - curPos.y) < 1e-3) {\n                Log.Trace(\"[_getAnchorPosByContractPos] contractPos: \" + contractPos + \"\\n\" + result + \"\\n\" + distanceArr.join(\",\"));\n                break;\n            }\n        }\n        if (playerPos == this._maxPlayers) {\n            Log.Warn(\"[_getAnchorPosByContractPos] can't getposition of contractPos: \" + contractPos + \"\\n\" + result + \"\\n\" + distanceArr.join(\",\"));\n            let minDistance = Math.max(...distanceArr);\n            for (let i = 0; i < distanceArr.length; i++) {\n                if (distanceArr[i] < minDistance) {\n                    minDistance = distanceArr[i];\n                    playerPos = i;\n                }\n            }\n        }\n        return playerPos;\n    },\n\n    //旋转座位至最底部\n    _shiftPlayerSeat () {\n        Log.Trace('[_shiftPlayerSeat] start, cc.dgame.tableInfo.SeatId: ' + cc.dgame.tableInfo.SeatId);\n        //playerAnchor的位置是不变的，0为最低，顺时针一圈，但playerAnchor下面挂的playerPrefab节点的位置可以转动\n        //获取选定位子当前的位置位于哪个playerAnchors上\n        if (cc.dgame.tableInfo.SeatId == null || cc.dgame.tableInfo.SeatId == undefined) { //sendMsg有延迟，可能已离开\n            Log.Trace('[_shiftPlayerSeat] end');\n            return\n        }\n        let playerPos = this._getAnchorPosByContractPos(cc.dgame.tableInfo.SeatId);\n\n        //已移动到0位置上\n        if (playerPos == 0) {\n            cc.dgame.tableInfo.ShiftSeat = false;\n            if (cc.dgame.tableInfo.IsRecover) {\n                //状态恢复，庄家标识直接闪现\n                let dealerNode = this.playerAnchors[this._maxPlayerStr][cc.dgame.tableInfo.BlindInfo.Dealer].getChildren()[0];\n                let dealer = dealerNode.getComponent('Player');\n                let newpos = this.dealerMark.parent.convertToNodeSpaceAR(dealer.getDealerMarkPos());\n                this.dealerMark.setPosition(newpos);\n                this.dealerMark.active = true;\n                cc.dgame.tableInfo.IsRecover = false;\n            } else {\n                cc.dgame.net.gameCall([\"Play_SyncGameReplays\", \"\"]);\n            }\n            for (let i = 0; i < this._delayShiftSeatArray.length; i++) {\n                if (this._delayShiftSeatArray[i].type == \"onSeatInfoEx\") {\n                    this._onSeatInfoEx(this._delayShiftSeatArray[i].data);\n                } else if (this._delayShiftSeatArray[i].type == \"Play_Recover\") {\n                    cc.dgame.net.gameCall([\"Play_Recover\", \"\"]);\n                }\n                this._delayShiftSeatArray.splice(i, 1);\n                i--;\n            }\n            Log.Trace('[_shiftPlayerSeat] end');\n            return;\n        }\n\n        //在左侧则逆时针旋转，在右侧则顺时针旋转\n        let nextSeat = playerPos <= this._maxPlayers / 2 ? -1 : +1;\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let j = (i + this._maxPlayers + nextSeat) % this._maxPlayers;   //旋转到下一个新的位置\n            let oldPlayerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let newPlayerNode = this.playerAnchors[this._maxPlayerStr][j].getChildren()[0];\n            let oldPos = oldPlayerNode.convertToWorldSpaceAR(cc.v2(0, 0));  //老位置的世界坐标\n            let newPos = newPlayerNode.convertToWorldSpaceAR(cc.v2(0, 0));  //新位置的世界坐标\n            if (i != this._maxPlayers - 1) {\n                //Log.Trace(\"Pos \" + i + \": \" + oldPos + \" move to pos \" + j + \": \" + newPos);\n                oldPlayerNode.runAction(\n                    cc.moveBy(0.2, cc.v2(newPos.x - oldPos.x, newPos.y - oldPos.y)),\n                );\n            } else {\n                //Log.Trace(\"Pos \" + i + \": \" + oldPos + \" move to pos \" + j + \": \" + newPos);\n                oldPlayerNode.runAction(\n                    cc.sequence(\n                        cc.moveBy(0.2, cc.v2(newPos.x - oldPos.x, newPos.y - oldPos.y)),\n                        cc.callFunc(function() {\n                            for (let k = 0; k < this._maxPlayers; k++) {\n                                let playerNode = this.playerAnchors[this._maxPlayerStr][k].getChildren()[0];\n                                let player = playerNode.getComponent('Player');\n                                let curPos = this._getAnchorPosByContractPos(k);\n                                player.initPlayerByTablePos(this._maxPlayers, curPos);\n                            }\n                            this.scheduleOnce(this._shiftPlayerSeat, 0.01);\n                            Log.Trace('[_shiftPlayerSeat] need _shiftPlayerSeat again');\n                        }, this)\n                    )\n                );\n            }\n        }\n        Log.Trace('[_shiftPlayerSeat] end');\n    },\n\n    _handleChangeSeats (data) {\n        Log.Trace('[_handleChangeSeats] ' + JSON.stringify(data));\n        if (data.Errstr == \"\") {\n            this._showNotice('ChangeSeat failed');\n        } else {\n            cc.dgame.tableInfo.SeatId = data.Pos;\n            this._showNotice('ChangeSeat success');\n        }\n        var seatinfo_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        cc.dgame.net.gameCall(['seatinfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n    },\n\n    _onChangeSeats (data) {\n        Log.Trace('[_onChangeSeats] ' + JSON.stringify(data));\n    },\n\n    _changeSeats (pos, buyinGold) {\n        var changeseats_cmd = {\n            Chips: buyinGold,\n            Pos: pos,\n        };\n        cc.dgame.net.gameCall(['changeseats', JSON.stringify(changeseats_cmd)], this._onChangeSeats.bind(this));\n    },\n\n    _handleAddChips (data) {\n        let seatId = this._getSeatIdByPlayerAddr(data.Address);\n        Log.Trace('[_handleAddChips] seatId: ' + seatId + \", cc.dgame.tableInfo.SeatId: \" + cc.dgame.tableInfo.SeatId + \", data: \" + JSON.stringify(data));\n        let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n        let player = playerNode.getComponent('Player');\n        if (seatId == cc.dgame.tableInfo.SeatId) {\n            if (data.Errstr == \"\") {\n                player.setStack(parseFloat(data.Amount));\n                player.stopAutoCheckoutCountDown();\n                player.hideBtnBackToPlay();\n                player.enable();\n                //this.allinStackNum.string = player.getStack();\n                this._showTips('Buyin success', true);\n                if (!cc.dgame.tableInfo.SelfReady) {\n                    cc.dgame.net.gameCall(['ready', ''], this._onAddChipsSelfReady.bind(this));\n                }\n                cc.dgame.net.gameCall(['balanceOf', ''], this._onBalanceOf.bind(this));\n            } else {\n                this._showNotice('Buyin failed');\n            }\n            if (parseInt(cc.dgame.tableInfo.TableId) < 0xE000000000000 && (cc.dgame.tableInfo.TableProps & 0x1) == 0) {\n                cc.dgame.gameRequestMgr.hideWaitingTips();\n            }\n        } else {\n            if (data.Errstr == \"\") {\n                player.setStack(parseFloat(data.Amount));\n                player.stopAutoCheckoutCountDown();\n                player.enable();\n            }\n        }\n    },\n\n    _onAddChips (data) {\n        Log.Trace('[_onAddChips] ' + JSON.stringify(data));\n    },\n\n    _handleWithdrawChips (data) {\n        Log.Trace('[_handleWithdrawChips] ' + JSON.stringify(data));\n        if (data.Errstr == \"\") {\n            let seatId = this._getSeatIdByPlayerAddr(data.Address);\n            Log.Trace('[_handleWithdrawChips] seatId: ' + seatId);\n            let playerNode = this.playerAnchors[this._maxPlayerStr][seatId].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            player.setStack(parseFloat(data.Amount));\n            //this.allinStackNum.string = player.getStack();\n            this._showTips('撤回成功', true);\n            cc.dgame.net.gameCall(['balanceOf', ''], this._onBalanceOf.bind(this));\n        } else {\n            this._showNotice('撤回失败', true);\n        }\n    },\n\n    _onWithdrawChips (data) {\n        Log.Trace('[_onWithdrawChips] ' + JSON.stringify(data));\n    },\n\n    _withdrawChips (withdrawGold) {\n        var withdrawchips_cmd = {\n            Chips: withdrawGold,\n        };\n        cc.dgame.net.gameCall(['withdrawChips', JSON.stringify(withdrawchips_cmd)], this._onWithdrawChips.bind(this));\n    },\n\n    _onBet (data) {\n        Log.Trace('[_onBet] ' + data);\n        let betResult = JSON.parse(data)\n        if (typeof(betResult) == 'object' && betResult.state != 0 && typeof(betResult.info) == 'string') {\n            this._showNotice(betResult.info);\n            if (betResult.info.indexOf(\"illegalisty Bet\") != -1) {\n                this._processMyTurn(cc.dgame.tableInfo.TurnInfoList[cc.dgame.tableInfo.TurnInfoList.length - 1]);\n            }\n        } else if (typeof(betResult) == 'object' && betResult.state == 0) {\n            let player = this.playerMyself.getComponent('Player');\n            player.showAction(betResult.op);\n        }\n    },\n\n    _onFold (data) {\n        Log.Trace('[_onFold]' + data);\n    },\n\n    onClickBtnFold () {\n        let player = this.playerMyself.getComponent('Player');\n        var fold_cmd = {\n            ID: cc.dgame.tableInfo.SeatId\n        };\n        cc.dgame.net.gameCall([\"Play_CheckOut\", JSON.stringify(fold_cmd)], this._onFold.bind(this));\n        player.showAction(Types.PlayerOP.FOLD);\n        let sidePotPos = cc.find('Canvas/PotLayer/SidePotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n        let holecard1ARWorldPt = this.selfHoleCards[0].convertToWorldSpaceAR(cc.v2(0, 0));\n        let holecard2ARWorldPt = this.selfHoleCards[1].convertToWorldSpaceAR(cc.v2(0, 0));\n        player.foldCards(holecard1ARWorldPt, holecard2ARWorldPt, sidePotPos, 0, 1);\n        this.selfHoleCards[0].getChildren()[0].getComponent('Poker').disable();\n        this.selfHoleCards[1].getChildren()[0].getComponent('Poker').disable();\n        this._restoreOperatePanel();\n    },\n\n    onClickBtnCall () {\n        let callNumVal = cc.dgame.utils.getOriginValue(this.callNum);\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        Log.Debug('[onClickBtnCall] stack: ' + stack + ', bet: ' + bet + ', callNum: ' + callNumVal);\n        player.setBet(bet + callNumVal, true);\n        player.setStack(stack - bet);\n        player.showAction(Types.PlayerOP.CALL);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: callNumVal,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n    },\n\n    onChooseAheadOfCheckOrFold () {\n        Log.Debug('[onChooseAheadOfCheckOrFold] this.chooseAheadOfCheckOrFold:' + this.chooseAheadOfCheckOrFold);\n        if (this.chooseAheadOfCheckOrFold != true) {\n            this.showAheadOfCheckOrFold(true);\n            this.showAheadOfCall(false);\n            this.showAheadOfCallAny(false);\n        } else {\n            this.showAheadOfCheckOrFold(false);\n        }\n    },\n\n    showAheadOfCheckOrFold(isShow) {\n        let unSelectSprite = this.AheadOfSprites[0];\n        let selectedSprite = this.AheadOfSprites[1];\n        Log.Debug('[showAheadOfCheckOrFold] unSelectSprite:' + unSelectSprite.name);\n        Log.Debug('[showAheadOfCheckOrFold] selectedSprite:' + selectedSprite.name);\n        Log.Debug('[showAheadOfCheckOrFold] this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame:'\n            + this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame.name);\n        if (isShow) {\n            this.chooseAheadOfCheckOrFold = true;\n            this.btnAheadOfCheckOrFold.getComponent(cc.Sprite).spriteFrame = selectedSprite;\n        } else {\n            this.chooseAheadOfCheckOrFold = false;\n            this.btnAheadOfCheckOrFold.getComponent(cc.Sprite).spriteFrame = unSelectSprite;\n        }\n    },\n\n    onChooseAheadOfCall () {\n        Log.Debug('[onChooseAheadOfCall] this.chooseAheadOfCall:' + this.chooseAheadOfCall);\n        if (this.chooseAheadOfCall != true) {\n            this.showAheadOfCall(true);\n            this.showAheadOfCallAny(false);\n            this.showAheadOfCheckOrFold(false);\n        } else {\n            this.showAheadOfCall(false);\n        }\n    },\n\n    showAheadOfCall(isShow) {\n        let unSelectSprite = this.AheadOfSprites[2];\n        let selectedSprite = this.AheadOfSprites[3];\n        Log.Debug('[showAheadOfCall] unSelectSprite:' + unSelectSprite.name);\n        Log.Debug('[showAheadOfCall] selectedSprite:' + selectedSprite.name);\n        Log.Debug('[showAheadOfCall] this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame:'\n            + this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame.name);\n        if (isShow) {\n            this.chooseAheadOfCall = true;\n            this.btnAheadOfCall.getComponent(cc.Sprite).spriteFrame = selectedSprite;\n        } else {\n            this.chooseAheadOfCall = false;\n            this.btnAheadOfCall.getComponent(cc.Sprite).spriteFrame = unSelectSprite;\n        }\n    },\n\n    onChooseAheadOfCallAny () {\n        Log.Debug('[onChooseAheadOfCallAny] this.chooseAheadOfCallAny:' + this.chooseAheadOfCallAny);\n        if (this.chooseAheadOfCallAny != true) {\n            this.showAheadOfCallAny(true);\n            this.showAheadOfCall(false);\n            this.showAheadOfCheckOrFold(false);\n        } else {\n            this.showAheadOfCallAny(false);\n        }\n    },\n\n    showAheadOfCallAny(isShow) {\n        let unSelectSprite = this.AheadOfSprites[4];\n        let selectedSprite = this.AheadOfSprites[5];\n        Log.Debug('[showAheadOfCallAny] unSelectSprite:' + unSelectSprite.name);\n        Log.Debug('[showAheadOfCallAny] selectedSprite:' + selectedSprite.name);\n        Log.Debug('[showAheadOfCallAny] this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame:'\n            + this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame.name);\n        if (isShow) {\n            this.chooseAheadOfCallAny = true;\n            this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame = selectedSprite;\n        } else {\n            this.chooseAheadOfCallAny = false;\n            this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame = unSelectSprite;\n        }\n    },\n\n    //注意：关闭界面还得把图标重置回来\n    _reSetAheadOfNode() {\n        Log.Debug('[_reSetAheadOfNode]');\n        this.btnAheadOfCheckOrFold.active = false;\n        let unSelectSprite = this.AheadOfSprites[0];\n        this.btnAheadOfCheckOrFold.getComponent(cc.Sprite).spriteFrame = unSelectSprite;\n        this.btnAheadOfCall.active = false;\n        let unSelectSprite2 = this.AheadOfSprites[2];\n        this.btnAheadOfCall.getComponent(cc.Sprite).spriteFrame = unSelectSprite2;\n        cc.dgame.utils.setOriginValue(this.aheadOfCallNum,0,\"brown\");\n        this.btnAheadOfCallAny.active = false;\n        let unSelectSprite3 = this.AheadOfSprites[4];\n        this.btnAheadOfCallAny.getComponent(cc.Sprite).spriteFrame = unSelectSprite3;\n    },\n\n    onClickBtnCheck () {\n        let player = this.playerMyself.getComponent('Player');\n        player.showAction(Types.PlayerOP.CHECK);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: 0,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        cc.dgame.audioMgr.playCheckSound();\n        this._restoreOperatePanel();\n    },\n\n    onClickBtnAllin () {\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        //Log.Debug('[onClickBtnAllin] stack: ' + stack + ', bet: ' + bet + ', allin: ' + this.allinStackNum.string);\n        //player.setBet(bet + parseFloat(this.allinStackNum.string), true);\n        //player.setStack(stack - parseFloat(this.allinStackNum.string));\n        player.setBet(bet + stack, true);\n        player.setStack(0);\n        player.showAction(Types.PlayerOP.ALLIN);\n        player.setAllinHead();\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            //Bet: parseFloat(this.allinStackNum.string),\n            Bet: stack,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n        this.selfHoleCards[0].getChildren()[0].getComponent('Poker').playAllin();\n        this.selfHoleCards[1].getChildren()[0].getComponent('Poker').playAllin();\n    },\n\n    onBtn2BBRaiseClicked () {\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        player.setBet(2 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet, true);\n        player.setStack(stack + bet - 2 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: 2 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet - bet,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n    },\n\n    onBtn3BBRaiseClicked () {\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        player.setBet(3 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet, true);\n        player.setStack(stack + bet - 2 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: 3 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet - bet,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n    },\n\n    onBtn5BBRaiseClicked () {\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        player.setBet(5 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet, true);\n        player.setStack(stack + bet - 2 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: 5 * 2 * cc.dgame.tableInfo.BlindInfo.SmallBlindBet - bet,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n    },\n\n    onClickBtnHalfPotRaise () {\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        let halfPotRaiseNumVal = cc.dgame.utils.getOriginValue(this.halfPotRaiseNum);\n        player.setBet(halfPotRaiseNumVal, true);\n        player.setStack(stack + bet - halfPotRaiseNumVal);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: halfPotRaiseNumVal - bet,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n    },\n\n    onClickBtnTwoThirdPotRaise () {\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        let twoThirdPotRaiseNumVal = cc.dgame.utils.getOriginValue(this.twoThirdPotRaiseNum);\n        player.setBet(twoThirdPotRaiseNumVal, true);\n        player.setStack(stack + bet - twoThirdPotRaiseNumVal);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: twoThirdPotRaiseNumVal - bet,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n    },\n\n    onClickBtnPotRaise () {\n        let player = this.playerMyself.getComponent('Player');\n        let bet = player.getBet();\n        let stack = player.getStack();\n        let potRaiseNumVal = cc.dgame.utils.getOriginValue(this.potRaiseNum);\n        player.setBet(potRaiseNumVal, true);\n        player.setStack(stack + bet - potRaiseNumVal);\n        var bet_cmd = {\n            ID: cc.dgame.tableInfo.SeatId,\n            Bet: potRaiseNumVal - bet,\n        };\n        cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n        this._restoreOperatePanel();\n    },\n\n    //点击图标显示自由加注滑动条，进度置为0\n    _onBtnFreeRaiseTouchStart (event) {\n        this.freeRaiseSlider.node.active = true;\n        this.freeRaiseSlider.progress = 0;\n        let player = this.playerMyself.getComponent('Player');\n        //this.freeRaiseStackNum.string = player.getStack();\n    },\n\n    //根据上下滑动的y轴坐标计算百分比，超过限制则只为最高或最低\n    _onBtnFreeRaiseTouchMove (event) {\n        let worldPoint = event.getLocation();\n        let stack = this.playerMyself.getComponent('Player').getStack();\n        if (this.raiseMinVal >= stack) {\n            Log.Trace(\"[_onBtnFreeRaiseTouchMove] _onBtnFreeRaiseTouchMove not move this.raiseMinVal: \" + this.raiseMinVal + ', stack' + stack);\n            worldPoint.y = this._freeRaiseEndPos.y;\n        }\n        if (worldPoint.y >= this._freeRaiseEndPos.y) {\n            cc.dgame.audioMgr.playSliderTop();\n            this.freeRaiseSlider.progress = 1;\n            cc.dgame.utils.setOriginValue(this.freeRaiseChipsNum,this.playerMyself.getComponent('Player').getStack(),\"none\");\n        } else if (worldPoint.y <= this._freeRaiseStartPos.y) {\n            this.freeRaiseSlider.progress = 0;\n            cc.dgame.utils.setOriginValue(this.freeRaiseChipsNum,this.raiseMinVal,\"none\");\n        } else {\n            cc.dgame.audioMgr.playSlider();\n            let progress = (worldPoint.y - this._freeRaiseStartPos.y) / (this._freeRaiseEndPos.y - this._freeRaiseStartPos.y);\n            //let slots = Math.round((parseFloat(this.freeRaiseStackNum.string) - parseFloat(this.callNum.string)) / (cc.dgame.tableInfo.SmallBlind * 2));\n            let slots = Math.round((this.playerMyself.getComponent('Player').getStack() - this.raiseMinVal) / (cc.dgame.tableInfo.SmallBlind * 2));\n            if (slots <= 0) {\n                Log.Error(\"[_onBtnFreeRaiseTouchMove] cal error slots: \" + slots);\n                return;\n            }\n            this.freeRaiseSlider.progress = parseInt(progress * slots) / slots;\n            //Log.Trace(parseInt(this.callNum.string), parseInt(this.freeRaiseSlider.progress * parseFloat(this.freeRaiseStackNum.string)));\n            //this.freeRaiseChipsNum.string = parseInt(this.callNum.string) + parseInt(this.freeRaiseSlider.progress * (parseFloat(this.freeRaiseStackNum.string) - parseInt(this.callNum.string)));\n            let val = this.raiseMinVal + parseInt(this.freeRaiseSlider.progress * (this.playerMyself.getComponent('Player').getStack() - this.raiseMinVal));\n            Log.Trace(\"[_onBtnFreeRaiseTouchMove] this.raiseMinVal: \" + this.raiseMinVal + \", progress: \" + progress + \", slots: \" + slots + \", val: \" + val);\n            cc.dgame.utils.setOriginValue(this.freeRaiseChipsNum,val,\"none\");\n        }\n    },\n\n    //触摸松开则结束并下注/加注，若progress为0则简单关闭滑动条，并不加注\n    _onBtnFreeRaiseTouchEnd (event) {\n        this.freeRaiseSlider.node.active = false;\n        if (this.freeRaiseSlider.progress == 1) {\n            this.onClickBtnAllin();\n        } else if (this.freeRaiseSlider.progress > 0) {\n            let player = this.playerMyself.getComponent('Player');\n            let bet = player.getBet();\n            let stack = player.getStack();\n            let freeRaiseChipsNumVal = cc.dgame.utils.getOriginValue(this.freeRaiseChipsNum);\n            Log.Debug('[_onBtnFreeRaiseTouchEnd] stack: ' + stack + ', bet: ' + bet + ', raiseMinVal: ' + this.raiseMinVal + ', prog: ' + this.freeRaiseSlider.progress + ', freeRaise: ' + freeRaiseChipsNumVal);\n            player.setBet(bet+freeRaiseChipsNumVal, true);\n            player.setStack(stack - freeRaiseChipsNumVal);\n            var bet_cmd = {\n                ID: cc.dgame.tableInfo.SeatId,\n                Bet: freeRaiseChipsNumVal,\n            };\n            cc.dgame.net.gameCall([\"Play_Bet\", JSON.stringify(bet_cmd)], this._onBet.bind(this));\n            this._restoreOperatePanel();\n        }\n    },\n\n    //自由加注滑动条初始化\n    _initFreeRaiseSlider () {\n        let handler = cc.find('Canvas/OperatePanelLayer/btnFreeRaise/RaiseSlider/Handle');\n        this.freeRaiseSlider.progress = 0;\n        this._freeRaiseStartPos = handler.convertToWorldSpaceAR(cc.v2(0, 0));\n        this.freeRaiseSlider.progress = 1;\n        this._freeRaiseEndPos = handler.convertToWorldSpaceAR(cc.v2(0, 0));\n        this.freeRaiseSlider.progress = 0;\n        this.btnFreeRaise.on('touchstart', this._onBtnFreeRaiseTouchStart, this);\n        this.btnFreeRaise.on('touchmove', this._onBtnFreeRaiseTouchMove, this);\n        this.btnFreeRaise.on('touchend', this._onBtnFreeRaiseTouchEnd, this);\n        this.btnFreeRaise.on('touchcancel', this._onBtnFreeRaiseTouchEnd, this);\n    },\n\n    _restoreOperatePanel () {\n        Log.Trace(\"[_restoreOperatePanel] start\");\n        this.btnCall.active = false;\n        cc.dgame.utils.setOriginValue(this.callNum,0,\"brown\");\n        this.btnFold.active = false;\n        this.btnFreeRaise.active = false;\n        this.btnFreeRaiseDisable.active = false;\n        this.freeRaiseSlider.node.active = false;\n        this.btnAllin.active = false;\n        this.btnCheck.active = false;\n        this._stopAutoFoldCountDown();\n        this._stopAutoCheckCountDown();\n        this._reSetAheadOfNode();\n        Log.Trace(\"[_restoreOperatePanel] end\");\n        //let player = this.playerMyself.getComponent('Player');\n        //player.hideFreeRaise();\n    },\n\n    _chipsToPot (turnInfo) {\n        if (!turnInfo) {\n            return 0;\n        }\n        Log.Trace(\"[_chipsToPot] turnInfo.Pots: \" + JSON.stringify(turnInfo.Pots));\n        //计算底池\n        let turnPotNum = 0;\n        let totalPotNum = 0;\n        for (let seatId in turnInfo.PlayerInfo) {\n            totalPotNum += turnInfo.PlayerInfo[seatId].TotalBet;\n            turnPotNum += turnInfo.PlayerInfo[seatId].TurnBet;\n        }\n        cc.dgame.utils.setOriginValue(this.currentRoundPotNum,totalPotNum);\n\n        if (turnInfo.Pots.length >= 1) {\n            //没有边池，桌面筹码直接入底池\n            if (turnInfo.Pots.length == 1) {\n                cc.dgame.utils.setOriginValue(this.potNum,totalPotNum - turnPotNum,\"yellow\");\n                this._replayPots = new Array();\n                this._replayPots.push(cc.dgame.utils.getOriginValue(this.potNum));\n            } else {\n                this.roundTips.node.active = false;\n                //边池从底池分出去\n                let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n                let srcv2 = this.sidePots[0].parent.convertToNodeSpaceAR(potPos);\n                for (let i = 1; i < turnInfo.Pots.length; i++) {\n                    if (this.sidePots[i - 1].active == false) {\n                        let dstv2 = this.sidePots[i - 1].getPosition();\n                        this.sidePots[i - 1].setPosition(srcv2);\n                        this.sidePots[i - 1].active = true;\n                        Log.Trace(\"[_chipsToPot] sidePotNums[\" + (i-1) + \"]: \" + turnInfo.Pots[i]);\n                        cc.dgame.utils.setOriginValue(this.sidePotNums[i - 1],turnInfo.Pots[i],\"yellow\");\n                        this.sidePots[i - 1].runAction(\n                            cc.moveTo(0.2, dstv2),\n                        );\n                    }\n                }\n                Log.Trace(\"[_chipsToPot] potNum: \" + turnInfo.Pots[0]);\n                cc.dgame.utils.setOriginValue(this.potNum,turnInfo.Pots[0],\"yellow\");\n                this._replayPots = JSON.parse(JSON.stringify(turnInfo.Pots));\n            }\n        }\n\n        //各玩家桌面上的筹码入底池动画\n        let turnBets = 0;\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            turnBets += player.chipsToPot();\n        }\n\n        Log.Trace(\"[_chipsToPot] turnBets: \" + turnBets);\n        if (turnBets > 0) {\n            cc.dgame.audioMgr.playChipsToPot();\n        }\n        this.actionIdentifier.active = false;\n        return turnBets;\n    },\n\n    //重置公共牌\n    _resetCommunityCards () {\n        Log.Trace(\"[_resetCommunityCards] start\");\n        //公共牌牌面向下并隐藏\n        for (let i = 0; i < this.dealCommunityCards.length; i++) {\n            let poker = this.dealCommunityCards[i].getChildren()[0].getComponent('Poker');\n            poker.setFaceUp(false);\n            poker.enable();\n            this.dealCommunityCards[i].active = false;\n        }\n        //多牌公共牌牌面向下并隐藏\n        let dealRMTCommunityCards = new Array();\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards1);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards2);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards3);\n        dealRMTCommunityCards.push(this.dealRMTCommunityCards4);\n        for (let i = 0; i < dealRMTCommunityCards.length; i++) {\n            for (let j = 0; j < dealRMTCommunityCards[i].length; j++) {\n                let poker = dealRMTCommunityCards[i][j].getChildren()[0].getComponent('Poker');\n                poker.setFaceUp(false);\n                poker.enable();\n                dealRMTCommunityCards[i][j].active = false;\n            }\n        }\n        delete cc.dgame.tableInfo.RMTCards;\n        //高亮公共牌牌面向下并隐藏\n        for (let i = 0; i < this.highlightCommunityCards.length; i++) {\n            let poker = this.highlightCommunityCards[i].getChildren()[0].getComponent('Poker');\n            poker.setFaceUp(false);\n            poker.enable();\n            this.highlightCommunityCards[i].active = false;\n        }\n        Log.Trace(\"[_resetCommunityCards] end\");\n    },\n\n    //重置玩家下注信息\n    _resetPlayerBets () {\n        Log.Trace(\"[_resetPlayerBets] start\");\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            player.setBet(0);\n            player.stopCountDown();\n            player.hideAllActions();\n            player.hideBet();\n            player.hideAllinHead();\n        }\n        this._restoreOperatePanel();\n        Log.Trace(\"[_resetPlayerBets] end\");\n    },\n\n    //重置底池边池信息\n    _resetPotsSidePots () {\n        //边池重置\n        Log.Trace(\"[_resetPotsSidePots] start\");\n        for (let i = 0; i < this.sidePots.length; i++) {\n            this.sidePots[i].setPosition(PositionData.SidePotPositions[i].x, PositionData.SidePotPositions[i].y);\n            cc.dgame.utils.setOriginValue(this.sidePotNums[i],0,\"yellow\");\n            this.sidePots[i].active = false;\n        }\n        this.potLayer.active = false;\n        this.currentPotLayer.active = false;\n        Log.Trace(\"[_resetPotsSidePots] end\");\n    },\n\n    //重置自身玩家底牌\n    _resetSelfHoleCards () {\n        Log.Trace(\"[_resetSelfHoleCards] start\");\n        this.selfHoleCards[0].active = false;\n        this.selfHoleCards[1].active = false;\n        this.selfHoleCards[0].getChildren()[0].getComponent('Poker').enable();\n        this.selfHoleCards[1].getChildren()[0].getComponent('Poker').enable();\n        this.selfHoleCards[0].getChildren()[0].getComponent('Poker').stopAllin();\n        this.selfHoleCards[1].getChildren()[0].getComponent('Poker').stopAllin();\n        Log.Trace(\"[_resetSelfHoleCards] end\");\n    },\n\n    //重置牌桌提示\n    _resetTips () {\n        Log.Trace(\"[_resetTips] start\");\n        this.securityTipsBackground.parent.opacity = 255;\n        this.securityTipsBackground.parent.stopAllActions();\n        this.securityTipsBackground.parent.active = false;\n        this.roundTips.node.active = false;\n        this.actionIdentifier.active = false;\n        this.actionIdentifier.angle = 0;\n        cc.find('Canvas/TipsLayer').active = false;\n        cc.find('Canvas/TableTipsLayer').active = false;\n        this.RMTOperateLayer.active = false;\n        this.RMTOperateWaitingLayer.active = false;\n        this.RMTNegotiateLayer.active = false;\n        this.RMTNegotiateWaitingLayer.active = false;\n        this.INSOperateLayer.active = false\n        this.INSOperateWaitingLayer.active = false;\n        Log.Trace(\"[_resetTips] end\");\n    },\n\n    _resetGameInfo () {\n        Log.Trace(\"[_resetGameInfo] start\");\n        cc.dgame.tableInfo.StartAction = false;    //_handleBlindInfo置为true\n        cc.dgame.tableInfo.TurnInfoList = new Array;    //用于计算上个玩家操作了什么Action\n        cc.dgame.tableInfo.SecurityTipsList = new Array();\n        this._dealCardPlayerPosArray = new Array;\n        this._RMTTimes = 1;\n        Log.Trace(\"[_resetGameInfo] end\");\n    },\n\n    //重置牌桌信息\n    _resetGameTable () {\n        Log.Trace(\"[_resetGameTable] start\");\n        this.cardType.string = \"\";\n        this._resetCommunityCards();\n        this._resetPlayerBets();\n        this._resetPotsSidePots();\n        this._resetSelfHoleCards();\n        this._resetTips();\n        var seatinfo_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n        Log.Trace(\"[_resetGameTable] end\");\n    },\n\n    //发前三张Flop牌，底朝上从第一张Flop牌位置往右平移，第二张flop牌到位时翻转第一张flop牌，第三张flop牌到位时翻转第二张flop牌，最后翻转第三张flop牌\n    _dealFlopCards (flop1Pt, flop2Pt, flop3Pt, animate) {\n        if (animate) {\n            let flopPtArr = new Array;\n            flopPtArr.push(flop1Pt);\n            flopPtArr.push(flop2Pt);\n            flopPtArr.push(flop3Pt);\n            let flopWolrdPt = new Array;    //三张flop牌最终目标位置\n            for (let i = 0; i < 3; i++) {\n                this.dealCommunityCards[i].setPosition(PositionData.CommunityCardPositions[i].x, PositionData.CommunityCardPositions[i].y);\n                this.dealCommunityCards[i].active = true;\n                flopWolrdPt.push(this.dealCommunityCards[i].convertToWorldSpaceAR(cc.v2(0, 0)));\n                this.dealCommunityCards[i].setPosition(this.dealCommunityCards[0].getPosition());\n                let poker = this.dealCommunityCards[i].getChildren()[0].getComponent('Poker');\n                poker.setCardPoint(flopPtArr[i]);\n            }\n            Log.Debug('[_dealFlopCards] flopWolrdPoint: ' + JSON.stringify(flopWolrdPt) + ', flopCardPoint: ' + JSON.stringify(flopPtArr));\n            this.scheduleOnce(function () {\n                let poker = this.dealCommunityCards[0].getChildren()[0].getComponent('Poker');\n                poker.flipCard(flopWolrdPt[0], 1);\n            }, 0.2);    //第二张牌预计0.2秒后移动到位，第一张牌翻转\n            let flop2MoveEnd = cc.callFunc(function () {\n                let poker = this.dealCommunityCards[1].getChildren()[0].getComponent('Poker');\n                poker.flipCard(flopWolrdPt[1], 1);\n            }, this);\n            this.dealCommunityCards[1].runAction(\n                //第二张牌移动到位以后翻转\n                cc.sequence(\n                    cc.moveTo(0.2, PositionData.CommunityCardPositions[1].x, PositionData.CommunityCardPositions[1].y),\n                    flop2MoveEnd,\n                )\n            );\n            let flop3MoveEnd = cc.callFunc(function () {\n                let poker = this.dealCommunityCards[2].getChildren()[0].getComponent('Poker');\n                poker.flipCard(flopWolrdPt[2], 1);\n            }, this);\n            this.dealCommunityCards[2].runAction(\n                //第三张牌移动到位以后翻转\n                cc.sequence(\n                    cc.moveTo(0.4, PositionData.CommunityCardPositions[2].x, PositionData.CommunityCardPositions[2].y),\n                    flop3MoveEnd,\n                )\n            );\n        } else {\n            let flopPtArr = new Array;\n            flopPtArr.push(flop1Pt);\n            flopPtArr.push(flop2Pt);\n            flopPtArr.push(flop3Pt);\n            for (let i = 0; i < 3; i++) {\n                this.dealCommunityCards[i].setPosition(PositionData.CommunityCardPositions[i].x, PositionData.CommunityCardPositions[i].y);\n                this.dealCommunityCards[i].active = true;\n                let poker = this.dealCommunityCards[i].getChildren()[0].getComponent('Poker');\n                poker.setCardPoint(flopPtArr[i]);\n                poker.setFaceUp(true);\n            }\n        }\n    },\n\n    //发转牌，底池发牌至转牌位置并翻转\n    _dealTurnCard (turnPt, animate) {\n        if (animate) {\n            let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n            this.dealCommunityCards[3].setPosition(PositionData.CommunityCardPositions[3].x, PositionData.CommunityCardPositions[3].y);\n            let dstv2 = this.dealCommunityCards[3].convertToWorldSpaceAR(cc.v2(0, 0));\n            Log.Debug('[_dealTurnCard] ' + dstv2 + ', point: ' + turnPt);\n            let poker = this.dealCommunityCards[3].getChildren()[0].getComponent('Poker');\n            this.dealCommunityCards[3].active = true;\n            cc.dgame.audioMgr.playDealCard();\n            poker.setCardPoint(turnPt);\n            poker.dealCard(potPos, dstv2, 0, 0.2, 1);\n            this.scheduleOnce(function () {\n                poker.flipCard(dstv2, 1);\n            }, 0.3);\n        } else {\n            this.dealCommunityCards[3].setPosition(PositionData.CommunityCardPositions[3].x, PositionData.CommunityCardPositions[3].y);\n            this.dealCommunityCards[3].active = true;\n            let poker = this.dealCommunityCards[3].getChildren()[0].getComponent('Poker');\n            poker.setCardPoint(turnPt);\n            poker.setFaceUp(true);\n        }\n    },\n\n    //发河牌，底池发牌至河牌位置并翻转\n    _dealRiverCard (riverPt, animate) {\n        if (animate) {\n            let potPos = cc.find('Canvas/PotLayer').convertToWorldSpaceAR(cc.v2(0, 0));\n            this.dealCommunityCards[4].setPosition(PositionData.CommunityCardPositions[4].x, PositionData.CommunityCardPositions[4].y);\n            let dstv2 = this.dealCommunityCards[4].convertToWorldSpaceAR(cc.v2(0, 0));\n            Log.Debug('[_dealRiverCard] ' + dstv2 + ', point: ' + riverPt);\n            let poker = this.dealCommunityCards[4].getChildren()[0].getComponent('Poker');\n            this.dealCommunityCards[4].active = true;\n            cc.dgame.audioMgr.playDealCard();\n            poker.setCardPoint(riverPt);\n            poker.dealCard(potPos, dstv2, 0, 0.2, 1);\n            this.scheduleOnce(function () {\n                poker.flipCard(dstv2, 1);\n            }, 0.3);\n        } else {\n            this.dealCommunityCards[4].setPosition(PositionData.CommunityCardPositions[4].x, PositionData.CommunityCardPositions[4].y);\n            this.dealCommunityCards[4].active = true;\n            let poker = this.dealCommunityCards[4].getChildren()[0].getComponent('Poker');\n            poker.setCardPoint(riverPt);\n            poker.setFaceUp(true);\n        }\n    },\n\n    //玩家赢了\n    _selfPlayerWin (show) {\n        let node = cc.find('Canvas/WinlightLayer/winlight');\n        if (show) {\n            node.runAction(\n                cc.repeatForever(\n                    cc.rotateBy(20, 360)\n                )\n            );\n            this.winlightLayer.active = true;\n        } else {\n            node.stopAllActions();\n            this.winlightLayer.active = false;\n        }\n    },\n\n    _getSeatIdByPlayerAddr (addr) {\n        for (let i = 0; i < this._maxPlayers; i++) {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][i].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            if (player.getPlayerAddr().toLowerCase() == addr.toLowerCase()) {\n                return i;\n            }\n        }\n        return -1;\n    },\n\n    _showTips (msg, bFadeout) {\n        this.tips.string = msg;\n        // 计算宽\n        this.tips.overflow = cc.Label.Overflow.NONE;\n        this.tips.node.setContentSize(new cc.Size(0, 42));\n        this.tips._forceUpdateRenderData();\n        let textWidth = Math.min(this.tips.node.width, 450);\n        textWidth = Math.round(textWidth / 30) * 30;\n\n        // 计算高\n        this.tips.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\n        this.tips.node.setContentSize(new cc.Size(textWidth, 0));\n        this.tips._forceUpdateRenderData();\n        let textHeight = this.tips.node.height;\n\n        this.tips.node.width = textWidth;\n        this.tips.node.height = textHeight;\n        this.tips.node.color = new cc.color(255, 255, 255, 255);\n\n        this.tipsBackground.parent.active = true;\n        this.tipsBackground.width = this.tips.node.width + 60;\n        this.tipsBackground.height = this.tips.node.height + 15;\n\n        let tipsLayer = cc.find('Canvas/TableTipsLayer');\n        tipsLayer.opacity = 255;\n        tipsLayer.active = true;\n        if (bFadeout) {\n            tipsLayer.stopAllActions();\n            tipsLayer.runAction(\n                cc.sequence(\n                    cc.delayTime(1.5),\n                    cc.fadeOut(1),\n                ),\n            );\n        }\n    },\n\n    _showNotice (msg) {\n        this.tips.string = msg;\n        // 计算宽\n        this.tips.overflow = cc.Label.Overflow.NONE;\n        this.tips.node.setContentSize(new cc.Size(0, 42));\n        this.tips._forceUpdateRenderData();\n        let textWidth = Math.min(this.tips.node.width, 450);\n        textWidth = Math.round(textWidth / 30) * 30;\n\n        // 计算高\n        this.tips.overflow = cc.Label.Overflow.RESIZE_HEIGHT;\n        this.tips.node.setContentSize(new cc.Size(textWidth, 0));\n        this.tips._forceUpdateRenderData();\n        let textHeight = this.tips.node.height;\n\n        this.tips.node.width = textWidth;\n        this.tips.node.height = textHeight;\n        this.tips.node.color = new cc.color(255, 224, 152, 255);\n\n        this.tipsBackground.parent.active = true;\n        this.tipsBackground.width = this.tips.node.width + 60;\n        this.tipsBackground.height = this.tips.node.height + 15;\n\n        let noticeLayer = cc.find('Canvas/TableTipsLayer');\n        noticeLayer.opacity = 255;\n        noticeLayer.active = true;\n        noticeLayer.stopAllActions();\n        noticeLayer.runAction(\n            cc.sequence(\n                cc.delayTime(1.5),\n                cc.fadeOut(1),\n            ),\n        );\n    },\n\n    onClickManaged () {\n        let managed = cc.find('Canvas/MenuLayer/LeftTopMemuLayer/BtnManaged/Managed');\n        let unmanaged = cc.find('Canvas/MenuLayer/LeftTopMemuLayer/BtnManaged/Unmanaged');\n        if (managed.active) {\n            managed.active = false;\n            unmanaged.active = true;\n        } else {\n            managed.active = true;\n            unmanaged.active = false;\n        }\n    },\n\n    _getAllMsgCount () {\n        let result = '';\n        let eventArr = new Array();\n        for (let i = 0; i < cc.dgame.tableInfo.RawGameEventQueue.length; i++) {\n            eventArr.push(cc.dgame.tableInfo.RawGameEventQueue[i].Event);\n        }\n        result += 'count: ' + cc.dgame.tableInfo.RawGameEventQueue.length + ', [' + eventArr.join(',') + ']\\n';\n        return result;\n    },\n\n    onBtnTableInfoOnClicked () {\n        cc.find(\"Canvas/TableInfoDetailLayer\").active = false;\n        cc.find(\"Canvas/TableInfoLayer/layoutTableInfo/btnTableInfo/btn_tableinfo_on\").active = cc.find(\"Canvas/TableInfoDetailLayer\").active;\n        cc.find(\"Canvas/TableInfoLayer/layoutTableInfo/btnTableInfo/btn_tableinfo_off\").active = !cc.find(\"Canvas/TableInfoDetailLayer\").active;\n    },\n\n    onBtnTableInfoOffClicked () {\n        cc.find(\"Canvas/TableInfoDetailLayer\").active = true;\n        cc.find(\"Canvas/TableInfoLayer/layoutTableInfo/btnTableInfo/btn_tableinfo_on\").active = cc.find(\"Canvas/TableInfoDetailLayer\").active;\n        cc.find(\"Canvas/TableInfoLayer/layoutTableInfo/btnTableInfo/btn_tableinfo_off\").active = !cc.find(\"Canvas/TableInfoDetailLayer\").active;\n        let securityInfoList = cc.find(\"Canvas/TableInfoDetailLayer/scrollview\").getComponent(\"SecurityInfoList\");\n        //securityInfoList.addTips(tipsInfo.Content);\n        securityInfoList.populateList(cc.dgame.tableInfo.SecurityTipsList);\n    },\n\n    _handleShowRMTOption (data, elapsedSecs) {\n        Log.Trace('[_handleShowRMTOption] ' + JSON.stringify(data) + \", SeatId: \" + cc.dgame.tableInfo.SeatId);\n        if (data.seatTurn == cc.dgame.tableInfo.SeatId) {\n            if (data.happenedINS == true) {\n                this.RMTOperateLayer.y = 288;\n            } else {\n                this.RMTOperateLayer.y = -320;\n            }\n            this.RMTOperateLayer.active = true;\n            this._startRMTChooseCountDown(elapsedSecs);\n        } else {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][data.seatTurn].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            let RMTPlayer = cc.find(\"Canvas/RMTOperateLayer/RMTOperateWaitingLayer/layout/initiator\").getComponent(cc.Label);\n            RMTPlayer.string = player.getPlayerAddr().substr(2, 8);\n            this.RMTOperateWaitingLayer.active = true;\n        }\n    },\n\n    _handleRMTTimesChoose (data, elapsedSecs) {\n        Log.Trace('[_handleRMTTimesChoose] ' + JSON.stringify(data) + \", SeatId: \" + cc.dgame.tableInfo.SeatId);\n        this._RMTTimes = data.Times;\n        if (this._isPlaying()) {\n            if (data.Times > 1) {\n                if (data.seatTurn == cc.dgame.tableInfo.SeatId) {\n                    this.RMTOperateWaitingLayer.active = false;\n                    this.RMTNegotiateWaitingLayer.active = true;\n                } else {\n                    this.RMTOperateWaitingLayer.active = false;\n                    this.INSOperateWaitingLayer.active = false;//多牌选了多次其他人等待保险界面会关掉，选了一次其他人等待保险界面不用关\n                    let playerNode = this.playerAnchors[this._maxPlayerStr][data.seatTurn].getChildren()[0];\n                    let player = playerNode.getComponent('Player');\n                    let RMTPlayer = cc.find(\"Canvas/RMTOperateLayer/RMTNegotiateLayer/layout/initiator\").getComponent(cc.Label);\n                    RMTPlayer.string = player.getPlayerAddr().substr(2, 8);\n                    let RMTTimes = cc.find(\"Canvas/RMTOperateLayer/RMTNegotiateLayer/layout/RMTTimes\").getComponent(cc.Label);\n                    RMTTimes.string = data.Times;\n                    this.RMTNegotiateLayer.active = true;\n                    this._startNegotiateYesCountDown(elapsedSecs);\n                }\n            }\n        } else {\n            this.RMTOperateWaitingLayer.active = false;\n            this.RMTNegotiateWaitingLayer.active = true;\n        }\n    },\n\n    _handleRMTTimesResp (data) {\n        Log.Trace('[_handleRMTTimesResp] ' + JSON.stringify(data));\n    },\n\n    _handleRMTTimesResult (data) {\n        Log.Trace('[_handleRMTTimesResult] ' + JSON.stringify(data) + \", this._RMTTimes: \" + this._RMTTimes);\n        this.RMTOperateLayer.active = false;\n        this.RMTOperateWaitingLayer.active = false;\n        this.RMTNegotiateLayer.active = false;\n        this.RMTNegotiateWaitingLayer.active = false;\n        if (this._RMTTimes > 1) {\n            if (data.Times == 1) {\n                this._showTips(\"Some players disagree with runing it \" + this._RMTTimes + \" times\", true);\n            } else {\n                this._showTips(\"All players agree with running it \" + data.Times + \" times\", true);\n            }\n        }\n    },\n\n    //显示保险界面\n    _handleShowINS (data, elapsedSecs) {\n        Log.Trace('[_handleShowINS] ' + JSON.stringify(data));\n        if (data.seatTurn == cc.dgame.tableInfo.SeatId) {\n            let totalSecureBuy = 0;\n            let totalFullPotBuy = 0;\n            let potsSum = 0;\n            if (data.Pots.MainPot != undefined) {\n                potsSum += 1;\n                totalSecureBuy += data.Pots.MainPot.SecureBuy;\n                totalFullPotBuy += data.Pots.MainPot.FullPotBuy;\n            }\n            if (data.Pots.SidePot != undefined) {\n                potsSum += 1;\n                totalSecureBuy += data.Pots.SidePot.SecureBuy;\n                totalFullPotBuy += data.Pots.SidePot.FullPotBuy;\n            }\n            let pots = this.INSOperateLayer.getChildByName(\"pots\");\n            let newAmounts = this._getNewBuyAmount(data,pots,potsSum);\n            pots.removeAllChildren();\n            if (data.Pots.MainPot != undefined) {\n                let mainPotNode = cc.instantiate(this.INSPotPrefab);\n                if (data.Pots.SidePot != undefined) {\n                    let sidePotNode = cc.instantiate(this.INSPotPrefab);\n                    mainPotNode.setPosition(-140, 180);\n                    sidePotNode.setPosition(140, 180);\n                    let mainPot = mainPotNode.getComponent('INSPot');\n                    mainPot.init(0,data.Pots.MainPot,newAmounts.newMainAmount);\n                    this._initINSDetails(this.INSMainPotDetails,mainPot);\n                    let sidePot = sidePotNode.getComponent('INSPot');\n                    sidePot.init(1,data.Pots.SidePot,newAmounts.newSideAmount);\n                    this._initINSDetails(this.INSSidePotDetails,sidePot);\n                    pots.addChild(mainPotNode);\n                    pots.addChild(sidePotNode);\n                } else {\n                    mainPotNode.setPosition(0, 180);\n                    let mainPot = mainPotNode.getComponent('INSPot');\n                    mainPot.init(0,data.Pots.MainPot,newAmounts.newMainAmount);\n                    this._initINSDetails(this.INSMainPotDetails,mainPot);\n                    pots.addChild(mainPotNode);\n                }\n            }\n            else if (data.Pots.SidePot != undefined) {\n                let sidePotNode = cc.instantiate(this.INSPotPrefab);\n                sidePotNode.setPosition(0,180);\n                let sidePot = sidePotNode.getComponent('INSPot');\n                sidePot.init(1,data.Pots.SidePot,newAmounts.newSideAmount);\n                this._initINSDetails(this.INSSidePotDetails,sidePot);\n                pots.addChild(sidePotNode);\n            }\n            this._initBuyLayer(data,newAmounts.newMainAmount,newAmounts.newSideAmount,totalSecureBuy,totalFullPotBuy,potsSum, elapsedSecs);\n            this.INSOperateLayer.active = true;\n        } else {\n            let playerNode = this.playerAnchors[this._maxPlayerStr][data.seatTurn].getChildren()[0];\n            let player = playerNode.getComponent('Player');\n            let INSPlayer = cc.find(\"layout/initiator\",this.INSOperateWaitingLayer).getComponent(cc.Label);\n            INSPlayer.string = player.getPlayerAddr().substr(2, 8);\n            this.INSOperateWaitingLayer.active = true;\n        }\n    },\n\n    _resetINS() {\n        Log.Trace('[_resetINS] ');\n        let pots = this.INSOperateLayer.getChildByName(\"pots\");\n        pots.removeAllChildren();\n    },\n\n    _stopWaitingINS(bBuyed) {\n        Log.Trace('[_stopWaitingINS] bBuyed:' + bBuyed);\n        this.INSOperateWaitingLayer.active = false;\n        if (bBuyed == true) { //保险买了其他人等待多牌的界面会关掉,没买不用关\n            this.RMTOperateWaitingLayer.active = false;\n        }\n    },\n\n    //开始自动保险倒计时\n    _startINSChooseCountDown (potsSum, buttonNode, buyMinAmount, elapsedSecs) {\n        Log.Trace('[_startINSChooseCountDown] potsSum: ' + potsSum + \" ,buyMinAmount:\" + buyMinAmount);\n        if (potsSum == 2) {\n            this._INSoperateCountDown = 45;\n        } else {\n            this._INSoperateCountDown = 30;\n        }\n        this._INScountDownTotal = (this._INSoperateCountDown - elapsedSecs) * 10;\n        let maskNode = cc.find('blackMask',buttonNode);\n        maskNode.active = true;\n        this._INSCDMask = maskNode;\n        this._INSCDAmount = buyMinAmount;\n        this.schedule(this._INSChooseCountDownProc, 0.1);\n    },\n\n    //自动保险倒计时处理函数\n    _INSChooseCountDownProc () {\n        this._INScountDownTotal -= 1;\n        if (this._INScountDownTotal <= 0) {\n            if (this._INSCDAmount > 0) {\n                this.onBtnBuyINS(null,\"custom_buy\")\n            } else {\n                this.onBtnINSPass();\n            }\n            return;\n        }\n        let progressBar = this._INSCDMask.getComponent(cc.ProgressBar);\n        progressBar.progress = this._INScountDownTotal * 0.1 / this._INSoperateCountDown;\n    },\n\n    //停止自动保险倒计时\n    _stopINSChooseCountDown () {\n        Log.Trace('[_stopINSChooseCountDown]');\n        this.unschedule(this._INSChooseCountDownProc);\n        cc.find('pass/blackMask',this.INSToggleContainer).active = false;\n        cc.find('buy_ins/blackMask',this.INSToggleContainer).active = false;\n    },\n\n    _initINSDetails (INSOperateDetails,choosePot) {\n        let potInfo = choosePot.potInfo;\n        let outsCardsLayer = cc.find(\"detail_layer/outs/outs_layout\", INSOperateDetails);\n        let assetMgr = cc.find(\"AssetMgr\").getComponent(\"AssetMgr\");\n        for (let i = 0; i < outsCardsLayer.childrenCount; i++) {\n            outsCardsLayer.children[i].active = false;\n        }\n        for (let i = 0; i < potInfo.Outs.length && i < outsCardsLayer.children.length; i++) {\n            let carNode = outsCardsLayer.children[i];\n            Log.Trace(\"[_initINSDetails] potInfo.Outs[i] \" + potInfo.Outs[i])\n            carNode.getComponent(cc.Sprite).spriteFrame = assetMgr.cards0[potInfo.Outs[i]];\n            carNode.active = true;\n        }\n        let communityCardsLayer = cc.find(\"detail_layer/outs/community_cards_layout\", INSOperateDetails);\n        for (let i = 0; i < communityCardsLayer.childrenCount; i++) {\n            communityCardsLayer.children[i].active = false;\n        }\n        for (let i = 0; i < potInfo.PublicCards.length; i++) {\n            let carNode = communityCardsLayer.children[i];\n            Log.Trace(\"[_initINSDetails] potInfo.PublicCards[i] \" + potInfo.PublicCards[i]);\n            carNode.getComponent(cc.Sprite).spriteFrame = assetMgr.cards0[potInfo.PublicCards[i]];\n            carNode.active = true;\n        }\n        cc.find(\"top/pot_sprite/label\", INSOperateDetails).getComponent(cc.Label).string = choosePot.potName.string;\n        cc.find(\"top/label\", INSOperateDetails).getComponent(cc.Label).string = potInfo.PotNum;\n        cc.find(\"detail_layer/insure/odds_value\", INSOperateDetails).getComponent(cc.Label).string = potInfo.OddsValue;\n        cc.find(\"detail_layer/outs/outs_value\", INSOperateDetails).getComponent(cc.Label).string = potInfo.OutsLen;\n        cc.find(\"detail_layer/insure/insure_value\", INSOperateDetails).getComponent(cc.Label).string = potInfo.Amount;\n        cc.find(\"detail_layer/insure/claim_value\", INSOperateDetails).getComponent(cc.Label).string = Math.floor(potInfo.OddsValue*potInfo.Amount);\n        this._initINSRaiseSlider(INSOperateDetails,choosePot,potInfo.Amount);\n    },\n\n    _initINSRaiseSlider(INSOperateDetails,choosePot,buyMinAmount) {\n        let slider = cc.find('detail_layer/slider', INSOperateDetails).getComponent(cc.Slider);\n        slider.node.targetOff(this);\n        slider.progress = 0;\n        Log.Trace('[_initINSRaiseSlider] buyMinAmount:' + buyMinAmount);\n        slider.node.on('slide', function(event) {\n            Log.Trace('[_initINSRaiseSlider] on slide slider.progress ' + slider.progress);\n            let totalLength = choosePot.potInfo.FullPotBuy - buyMinAmount;\n            Log.Trace('[_initINSRaiseSlider] totalLength ' + totalLength);\n            let amount = Math.floor(totalLength * slider.progress) + buyMinAmount;\n            Log.Trace('[_initINSRaiseSlider] amount ' + amount);\n            cc.find(\"detail_layer/insure/insure_value\", INSOperateDetails).getComponent(cc.Label).string = amount.toString();\n            cc.find(\"detail_layer/insure/claim_value\", INSOperateDetails).getComponent(cc.Label).string = Math.floor(choosePot.potInfo.OddsValue*amount);\n            if (amount > 0) {\n                choosePot.Selected(INSOperateDetails,amount);\n            } else {\n                choosePot.UnSelected(INSOperateDetails);\n            }\n            this._changeBuyLayer(choosePot.potInfo);\n        }, this);\n    },\n\n    _getNewBuyAmount(data, pots, potsSum) {\n        let newMainAmount = 0;\n        let newSideAmount = 0;\n        if ( data.Order == 5) {\n            if (pots.childrenCount > 0) {\n                let oldMainAmount = 0;\n                let oldSideAmount = 0;\n                for (let i= 0; i < pots.childrenCount; i++) {\n                    let pot = pots.children[i].getComponent('INSPot');\n                    Log.Trace('[__getOldBuyAmount] pot.potInfo.Amount:' + pot.potInfo.Amount);\n                    if (pot.potInfo.Amount > 0 ) {\n                        if (pot.potInfo.Index == 0) {\n                            oldMainAmount = pot.potInfo.Amount;\n                            Log.Trace('[__getOldBuyAmount] oldMainAmount:' + oldMainAmount);\n                        } else {\n                            oldSideAmount = pot.potInfo.Amount;\n                            Log.Trace('[__getOldBuyAmount] oldSideAmount:' + oldSideAmount);\n                        }\n                    }\n                }\n                if (potsSum == 1) { //只有主池或边池\n                    if (data.Pots.MainPot != undefined) {\n                        newMainAmount = Math.ceil((oldMainAmount + oldSideAmount) / data.Pots.MainPot.OddsValue);\n                    } else {\n                        newSideAmount = Math.ceil( (oldMainAmount + oldSideAmount) / data.Pots.SidePot.OddsValue);\n                    }\n                } else {\n                    newMainAmount = Math.ceil(oldMainAmount/data.Pots.MainPot.OddsValue);\n                    newSideAmount = Math.ceil(oldSideAmount/data.Pots.SidePot.OddsValue);\n                }\n            }\n        }\n        let newAmounts = {\n            newMainAmount:newMainAmount,\n            newSideAmount:newSideAmount,\n        }\n        return newAmounts;\n    },\n\n    _initBuyLayer(data, newMainAmount, newSideAmount, totalSecureBuy, totalFullPotBuy, potsSum, elapsedSecs) {\n        let totalBuyAmount = newMainAmount + newSideAmount;\n        if (totalSecureBuy < totalBuyAmount) {\n            totalSecureBuy = totalBuyAmount\n        }\n        cc.find(\"secure/value\", this.INSToggleContainer).getComponent(cc.Label).string = totalSecureBuy;\n        cc.find(\"full_pot/value\", this.INSToggleContainer).getComponent(cc.Label).string = totalFullPotBuy;\n        let buyNode = cc.find(\"buy_ins\", this.INSToggleContainer);\n        let valueLabel = cc.find(\"buy_ins/value\", this.INSToggleContainer).getComponent(cc.Label);\n        let selectNode = cc.find(\"select_pots\", this.INSToggleContainer);\n        let passNode = cc.find('pass', this.INSToggleContainer);\n        if ( totalBuyAmount > 0 ) {\n            selectNode.active = false;\n            valueLabel.string = totalBuyAmount.toString();\n            buyNode.active = true;\n            passNode.active = false;\n            this._startINSChooseCountDown(potsSum, buyNode, totalBuyAmount, elapsedSecs);\n        } else {\n            buyNode.active = false;\n            valueLabel.string = \"0\";\n            selectNode.active = true;\n            passNode.active = true;\n            this._startINSChooseCountDown(potsSum, passNode, 0, elapsedSecs);\n        }\n        this.INSToggleContainer.y = -486;\n        this.INSToggleContainer.active = true;\n    },\n\n    _changeBuyLayer(potInfo) {\n        Log.Trace('[_changeBuyLayer] potInfo ' + JSON.stringify(potInfo));\n        let pots = this.INSOperateLayer.getChildByName(\"pots\");\n        let oterPot;\n        if (pots.childrenCount >= 2) {\n            if (potInfo.Index == 0) {\n                oterPot = pots.children[1].getComponent('INSPot');\n            } else {\n                oterPot = pots.children[0].getComponent('INSPot');\n            }\n            Log.Trace('[_changeBuyLayer] oterPot.potInfo ' + JSON.stringify(oterPot.potInfo));\n        }\n        let buyNode = cc.find(\"buy_ins\", this.INSToggleContainer);\n        let valueLabel = cc.find(\"buy_ins/value\", this.INSToggleContainer).getComponent(cc.Label);\n        let selectNode = cc.find(\"select_pots\", this.INSToggleContainer);\n        if (oterPot != null) {\n            if (potInfo.Amount == 0 && oterPot.potInfo.Amount == 0) {\n                buyNode.active = false;\n                valueLabel.string = \"0\";\n                selectNode.active = true;\n            } else {\n                buyNode.active = true;\n                let newValue = potInfo.Amount + oterPot.potInfo.Amount;\n                valueLabel.string = newValue.toString();\n                selectNode.active = false;\n            }\n        } else {\n            if (potInfo.Amount == 0) {\n                buyNode.active = false;\n                valueLabel.string = \"0\";\n                selectNode.active = true;\n            } else {\n                buyNode.active = true;\n                let newValue = potInfo.Amount;\n                valueLabel.string = newValue.toString();\n                selectNode.active = false;\n            }\n        }\n    },\n\n    onBtnINSPotChoose (potInfo) {\n        Log.Trace('[onBtnINSPotChoose] potInfo.Index ' + potInfo.Index);\n        this.INSOperateLayer.active = false;\n        if (potInfo.Index == 0) {\n            this.INSOperateDetails = this.INSMainPotDetails;\n        } else {\n            this.INSOperateDetails = this.INSSidePotDetails;\n        }\n        this.INSOperateDetails.active = true;\n        this.INSToggleContainer.y = -640;\n    },\n\n    onBtnINSDetailsClose () {\n        Log.Trace('[onBtnINSDetailsClose] ');\n        this.INSOperateDetails.active = false;\n        this.INSOperateLayer.active = true;\n        this.INSToggleContainer.y = -486;\n    },\n\n    onBtnINSPass (event) {\n        Log.Trace('[onBtnBuyINS] event:' + event);\n        this._stopINSChooseCountDown();\n        cc.dgame.net.gameCall([\"Play_INSCancelBuy\", \"\"], this._onINSCancelBuy.bind(this));\n    },\n\n    _onINSCancelBuy() {\n        Log.Trace(\"[_onINSCancelBuy] \");\n        if (this.INSOperateDetails != null) {\n            this.INSOperateDetails.active = false;\n        }\n        this.INSOperateLayer.active = false;\n        this.INSToggleContainer.active = false;\n    },\n\n    onBtnBuyINS(event, customEventData) {\n        Log.Trace('[onBtnBuyINS] event:' + event + \", customEventData:\" + customEventData);\n        this._onRMTClose(); //先关闭多牌界面\n        this._stopINSChooseCountDown(); //停止保险pass倒计时\n        let mainAmount = 0;\n        let sideAmount = 0;\n        let pots = this.INSOperateLayer.getChildByName(\"pots\");\n        for (let i= 0; i < pots.childrenCount; i++) {\n            let pot = pots.children[i].getComponent('INSPot');\n            if (customEventData == \"custom_buy\") {\n\n            } else if (customEventData == \"secure\") {\n                pot.potInfo.Amount = pot.potInfo.SecureBuy;\n            } else {\n                pot.potInfo.Amount = pot.potInfo.FullPotBuy;\n            }\n            if (pot.potInfo.Index == 0) {\n                mainAmount = pot.potInfo.Amount;\n            } else {\n                sideAmount = pot.potInfo.Amount;\n            }\n        }\n        let ins_cmd = {\n            Amount: [mainAmount,sideAmount],\n        };\n        cc.dgame.net.gameCall([\"Play_INSBuy\", JSON.stringify(ins_cmd)], this._onINSBuy.bind(this));\n    },\n\n    _onINSBuy (data) {\n        Log.Trace(\"[_onINSBuy] \" + JSON.stringify(data));\n        this.INSOperateLayer.active = false;\n        if (this.INSOperateDetails != null) {\n            this.INSOperateDetails.active = false;\n        }\n        this.INSToggleContainer.active = false;\n    },\n\n    _showPlayerINSFlag (data) {\n        Log.Trace('[_ShowPlayerINSFlag] ' + JSON.stringify(data));\n        let totalAmount = 0;\n        for (let i = 0; i < data.amount.length; i++) {\n            totalAmount += data.amount[i]\n        }\n        let bBuyed = false;\n        if (totalAmount > 0) {\n            bBuyed = true;\n        }\n        this._stopWaitingINS(bBuyed);\n        let playerNode = this.playerAnchors[this._maxPlayerStr][data.seatTurn].getChildren()[0];\n        let player = playerNode.getComponent('Player');\n        player.showINSFlag(totalAmount, false);\n        this.scheduleOnce(function () {\n            player.hideINSFlag();\n        }, 3);\n    },\n\n    _handleINSWinInfo (data) {\n        Log.Trace('[_handleINSWinInfo] ' + JSON.stringify(data));\n        this._stopWaitingINS();\n        if (data.Order == 5) {\n            this.scheduleOnce(this._playINSEffect.bind(this,data),1);\n        } else {\n            this._playINSEffect(data);\n        }\n    },\n\n    _playINSEffect(data) {\n        Log.Trace('[_playINSEffect] ' + JSON.stringify(data));\n        let playerNode = this.playerAnchors[this._maxPlayerStr][data.BuyerSeat].getChildren()[0];\n        let player = playerNode.getComponent('Player');\n        let mainWin = data.InsWin[0];\n        if (mainWin > 0) {\n            player.insurancePayToPlayer(cc.v2(cc.winSize.width/2,cc.winSize.height-100), 0.6);\n        } else if (mainWin < 0) {\n            player.playerPayToInsurance(cc.v2(cc.winSize.width/2,cc.winSize.height-100), 0.6);\n        }\n        let sideWin = data.InsWin[1];\n        if ( sideWin != 0) {\n            this.scheduleOnce( function () {\n                if (sideWin > 0) {\n                    player.insurancePayToPlayer(cc.v2(cc.winSize.width/2,cc.winSize.height-100), 0.6);\n                } else if (sideWin < 0) {\n                    player.playerPayToInsurance(cc.v2(cc.winSize.width/2,cc.winSize.height-100), 0.6);\n                }\n            },1);\n        }\n    },\n\n    _onRMTChoose (data) {\n        Log.Trace(\"[_onRMTChoose] \" + JSON.stringify(data));\n        this.RMTOperateLayer.active = false;\n        this.RMTNegotiateWaitingLayer.active = true;\n        this._stopRMTChooseCountDown();\n    },\n\n    _onRMTClose () {\n        Log.Trace(\"[_onRMTClose] \");\n        if (this.RMTOperateLayer.active == false) {\n            return;\n        }\n        this.RMTOperateLayer.active = false;\n        this.RMTNegotiateWaitingLayer.active = false;\n        this._stopRMTChooseCountDown();\n    },\n\n    onBtnRMTOnceClicked () {\n        let rmtchoose_cmd = {\n            Times: 1,\n        }\n        this._RMTTimes = 1;\n        cc.dgame.net.gameCall([\"Play_RMTTimes\", JSON.stringify(rmtchoose_cmd)], this._onRMTChoose.bind(this));\n    },\n\n    onBtnRMTTwiceClicked () {\n        this._onINSCancelBuy(); //先关闭保险界面\n        let rmtchoose_cmd = {\n            Times: 2,\n        }\n        this._RMTTimes = 2;\n        cc.dgame.net.gameCall([\"Play_RMTTimes\", JSON.stringify(rmtchoose_cmd)], this._onRMTChoose.bind(this));\n    },\n\n    onBtnRMT3TimesClicked () {\n        this._onINSCancelBuy(); //先关闭保险界面\n        let rmtchoose_cmd = {\n            Times: 3,\n        }\n        this._RMTTimes = 3;\n        cc.dgame.net.gameCall([\"Play_RMTTimes\", JSON.stringify(rmtchoose_cmd)], this._onRMTChoose.bind(this));\n    },\n\n    onBtnRMT4TimesClicked () {\n        this._onINSCancelBuy(); //先关闭保险界面\n        let rmtchoose_cmd = {\n            Times: 4,\n        }\n        this._RMTTimes = 4;\n        cc.dgame.net.gameCall([\"Play_RMTTimes\", JSON.stringify(rmtchoose_cmd)], this._onRMTChoose.bind(this));\n    },\n\n    //自动一次多牌倒计时处理函数\n    _RMTChooseCountDownProc () {\n        this._countDownTotal -= 1;\n        if (this._countDownTotal <= 0) {\n            this._stopRMTChooseCountDown();\n            this.onBtnRMTOnceClicked();\n            return;\n        }\n\n        let progressBar = cc.find('Canvas/RMTOperateLayer/RMTOperateLayer/Once/Background/blackMask').getComponent(cc.ProgressBar);\n        progressBar.progress = this._countDownTotal * 0.1 / this._operateCountDown;\n    },\n\n    //开始自动一次多牌倒计时\n    _startRMTChooseCountDown (elapsedSecs) {\n        this._operateCountDown = 30;\n        this._countDownTotal = (this._operateCountDown - elapsedSecs) * 10;\n        let layerNode = cc.find('Canvas/RMTOperateLayer/RMTOperateLayer/Once/Background/blackMask');\n        layerNode.active = true;\n        this.schedule(this._RMTChooseCountDownProc, 0.1);\n    },\n\n    //停止自动一次多牌倒计时\n    _stopRMTChooseCountDown () {\n        this.unschedule(this._RMTChooseCountDownProc);\n        let layerNode = cc.find('Canvas/RMTOperateLayer/RMTOperateLayer/Once/Background/blackMask');\n        layerNode.active = false;\n    },\n\n    _onDeclareRMT (data) {\n        Log.Trace(\"[_onDeclareRMT] \" + JSON.stringify(data));\n        this.RMTNegotiateLayer.active = false;\n    },\n\n    onBtnNegotiateYesClicked () {\n        let declarermt_cmd = {\n            Agree: true,\n        }\n        cc.dgame.net.gameCall([\"Play_DeclareRMT\", JSON.stringify(declarermt_cmd)], this._onDeclareRMT.bind(this));\n        this._stopNegotiateYesCountDown();\n        this.RMTNegotiateWaitingLayer.active = true;\n    },\n\n    onBtnNegotiateNoClicked () {\n        let declarermt_cmd = {\n            Agree: false,\n        }\n        cc.dgame.net.gameCall([\"Play_DeclareRMT\", JSON.stringify(declarermt_cmd)], this._onDeclareRMT.bind(this));\n        this._stopNegotiateYesCountDown();\n    },\n\n    //自动同意倒计时处理函数\n    _RMTNegotiateYesCountDownProc () {\n        this._countDownTotal -= 1;\n        if (this._countDownTotal <= 0) {\n            this._stopNegotiateYesCountDown();\n            this.onBtnNegotiateYesClicked();\n            return;\n        }\n\n        let progressBar = cc.find('Canvas/RMTOperateLayer/RMTNegotiateLayer/Yes/Background/blackMask').getComponent(cc.ProgressBar);\n        progressBar.progress = this._countDownTotal * 0.1 / this._operateCountDown;\n    },\n\n    //开始自动同意倒计时\n    _startNegotiateYesCountDown (elapsedSecs) {\n        this._operateCountDown = 15;\n        this._countDownTotal = (this._operateCountDown - elapsedSecs) * 10;\n        let layerNode = cc.find('Canvas/RMTOperateLayer/RMTNegotiateLayer/Yes/Background/blackMask');\n        layerNode.active = true;\n        this.schedule(this._RMTNegotiateYesCountDownProc, 0.1);\n    },\n\n    //停止自动同意倒计时\n    _stopNegotiateYesCountDown () {\n        this.unschedule(this._RMTNegotiateYesCountDownProc);\n        let layerNode = cc.find('Canvas/RMTOperateLayer/RMTNegotiateLayer/Yes/Background/blackMask');\n        layerNode.active = false;\n    },\n\n    onBtnRestart () {\n        if (cc.sys.isNative) {\n            if (cc.sys.isMobile) {\n                if (cc.sys.os === cc.sys.OS_IOS) {\n                    jsb.reflection.callStaticMethod(\"NativeGengine\", \"stopGameEngine\")\n                    cc.audioEngine.stopAll()\n                    cc.game.restart()\n                } else if (cc.sys.os === cc.sys.OS_ANDROID) {\n                    jsb.reflection.callStaticMethod(\"io/kaleidochain/NativeGengine\", \"stopGameEngine\", \"()Z\")\n                    cc.audioEngine.stopAll()\n                    cc.game.restart()\n                }\n            } else {\n                if (cc.sys.os === cc.sys.OS_WINDOWS||cc.sys.os === cc.sys.OS_OSX) {\n                    StopNode();\n                    cc.audioEngine.stopAll();\n                    cc.game.restart();\n                }\n            }\n        }\n    },\n\n    onBtnCloseDismissTableLayerClicked () {\n        Log.Debug(\"[onBtnCloseDismissTableLayerClicked]\");\n        cc.find(\"Canvas/DismissTableLayer\").active = false;\n        delete cc.dgame.tableInfo.SittingSeatId;\n        delete cc.dgame.tableInfo.SeatId;\n        cc.dgame.tableInfo.SelfReady = false;\n        cc.dgame.tableInfo.ContractStatus = Types.ContractStatus.NOTJOIN;\n        this.dealerMark.active = false;\n        cc.dgame.mainMenuPopup.updateStatus();\n        this._resetGameInfo();\n        this._resetGameTable();\n        var seatinfo_cmd = {\n            TableId: cc.dgame.tableInfo.TableId,\n        };\n        cc.dgame.net.gameCall(['seatInfoEx', JSON.stringify(seatinfo_cmd)], this._onSeatInfoEx.bind(this));\n    },\n\n    onBtnResitDownClicked () {\n        cc.dgame.net.gameCall([\"ready\", \"\"], this._onSelfReady.bind(this));\n    },\n\n    _onSelfPlayingStatus (data) {\n        Log.Trace(\"[_onSelfPlayingStatus] \" + JSON.stringify(data));\n        if (data == \"Network disconnected\") {\n            cc.dgame.normalLoading.showLoadTimeout();\n            return;\n        }\n\n        cc.dgame.tableInfo.ContractStatus = data.Status;\n        if (data.Status == Types.ContractStatus.SEATED || data.Status == Types.ContractStatus.STANDBYNEXT || data.Status == Types.ContractStatus.OFFLINE || data.Status == Types.ContractStatus.SHOWDOWNOFFLINE) {\n            cc.dgame.tableInfo.SelfReady = false;\n            if (!!this.playerMyself) {\n                let player = this.playerMyself.getComponent('Player');\n                player.showAction(Types.PlayerOP.STANDBY);\n                player.showBtnResitDown();\n            }\n        }\n        cc.dgame.mainMenuPopup.updateStatus();\n    },\n\n    _updateMenuStatus () {\n        cc.dgame.net.gameCall([\"selfPlayingStatus\", \"\"], this._onSelfPlayingStatus.bind(this));\n    },\n});\n"]}